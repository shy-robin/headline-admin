(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0abef018"],{"0010":function(t,e,n){"use strict";n.d(e,"a",(function(){return z})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return C})),n.d(e,"f",(function(){return M})),n.d(e,"g",(function(){return _}));var r=n("0ac0"),o=n("304a"),i=n("5313");function a(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function s(t,e,n){var o=t.selection,a=o.$cursor;if(!a||(n?!n.endOfTextblock("backward",t):a.parentOffset>0))return!1;var s=u(a);if(!s){var c=a.blockRange(),d=c&&Object(r["k"])(c);return null!=d&&(e&&e(t.tr.lift(c,d).scrollIntoView()),!0)}var p=s.nodeBefore;if(!p.type.spec.isolating&&S(t,s,e))return!0;if(0==a.parent.content.size&&(l(p,"end")||i["NodeSelection"].isSelectable(p))){if(e){var f=t.tr.deleteRange(a.before(),a.after());f.setSelection(l(p,"end")?i["Selection"].findFrom(f.doc.resolve(f.mapping.map(s.pos,-1)),-1):i["NodeSelection"].create(f.doc,s.pos-p.nodeSize)),e(f.scrollIntoView())}return!0}return!(!p.isAtom||s.depth!=a.depth-1)&&(e&&e(t.tr.delete(s.pos-p.nodeSize,s.pos).scrollIntoView()),!0)}function l(t,e,n){for(;t;t="start"==e?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(n&&1!=t.childCount)return!1}return!1}function c(t,e,n){var r=t.selection,o=r.$head,a=r.empty,s=o;if(!a)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;s=u(o)}var l=s&&s.nodeBefore;return!(!l||!i["NodeSelection"].isSelectable(l))&&(e&&e(t.tr.setSelection(i["NodeSelection"].create(t.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)}function u(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function d(t,e,n){var r=t.selection,o=r.$cursor;if(!o||(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size))return!1;var a=f(o);if(!a)return!1;var s=a.nodeAfter;if(S(t,a,e))return!0;if(0==o.parent.content.size&&(l(s,"start")||i["NodeSelection"].isSelectable(s))){if(e){var c=t.tr.deleteRange(o.before(),o.after());c.setSelection(l(s,"start")?i["Selection"].findFrom(c.doc.resolve(c.mapping.map(a.pos)),1):i["NodeSelection"].create(c.doc,c.mapping.map(a.pos))),e(c.scrollIntoView())}return!0}return!(!s.isAtom||a.depth!=o.depth-1)&&(e&&e(t.tr.delete(a.pos,a.pos+s.nodeSize).scrollIntoView()),!0)}function p(t,e,n){var r=t.selection,o=r.$head,a=r.empty,s=o;if(!a)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;s=f(o)}var l=s&&s.nodeAfter;return!(!l||!i["NodeSelection"].isSelectable(l))&&(e&&e(t.tr.setSelection(i["NodeSelection"].create(t.doc,s.pos)).scrollIntoView()),!0)}function f(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function h(t,e){var n=t.selection,o=n.$from,i=n.$to,a=o.blockRange(i),s=a&&Object(r["k"])(a);return null!=s&&(e&&e(t.tr.lift(a,s).scrollIntoView()),!0)}function m(t,e){var n=t.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function v(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e),r=n.type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function g(t,e){var n=t.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var a=r.node(-1),s=r.indexAfter(-1),l=v(a.contentMatchAt(s));if(!a.canReplaceWith(s,s,l))return!1;if(e){var c=r.after(),u=t.tr.replaceWith(c,c,l.createAndFill());u.setSelection(i["Selection"].near(u.doc.resolve(c),1)),e(u.scrollIntoView())}return!0}function y(t,e){var n=t.selection,r=n.$from,o=n.$to;if(n instanceof i["AllSelection"]||r.parent.inlineContent||o.parent.inlineContent)return!1;var a=v(o.parent.contentMatchAt(o.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,l=t.tr.insert(s,a.createAndFill());l.setSelection(i["TextSelection"].create(l.doc,s+1)),e(l.scrollIntoView())}return!0}function b(t,e){var n=t.selection,o=n.$cursor;if(!o||o.parent.content.size)return!1;if(o.depth>1&&o.after()!=o.end(-1)){var i=o.before();if(Object(r["g"])(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}var a=o.blockRange(),s=a&&Object(r["k"])(a);return null!=s&&(e&&e(t.tr.lift(a,s).scrollIntoView()),!0)}function w(t,e){var n=t.selection,o=n.$from,a=n.$to;if(t.selection instanceof i["NodeSelection"]&&t.selection.node.isBlock)return!(!o.parentOffset||!Object(r["g"])(t.doc,o.pos))&&(e&&e(t.tr.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;if(e){var s=a.parentOffset==a.parent.content.size,l=t.tr;(t.selection instanceof i["TextSelection"]||t.selection instanceof i["AllSelection"])&&l.deleteSelection();var c=0==o.depth?null:v(o.node(-1).contentMatchAt(o.indexAfter(-1))),u=s&&c?[{type:c}]:null,d=Object(r["g"])(l.doc,l.mapping.map(o.pos),1,u);if(u||d||!Object(r["g"])(l.doc,l.mapping.map(o.pos),1,c&&[{type:c}])||(u=[{type:c}],d=!0),d&&(l.split(l.mapping.map(o.pos),1,u),!s&&!o.parentOffset&&o.parent.type!=c)){var p=l.mapping.map(o.before()),f=l.doc.resolve(p);o.node(-1).canReplaceWith(f.index(),f.index()+1,c)&&l.setNodeMarkup(l.mapping.map(o.before()),c)}e(l.scrollIntoView())}return!0}function x(t,e){return e&&e(t.tr.setSelection(new i["AllSelection"](t.doc))),!0}function k(t,e,n){var o=e.nodeBefore,i=e.nodeAfter,a=e.index();return!!(o&&i&&o.type.compatibleContent(i.type))&&(!o.content.size&&e.parent.canReplace(a-1,a)?(n&&n(t.tr.delete(e.pos-o.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(a,a+1)||!i.isTextblock&&!Object(r["f"])(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,o.type,o.contentMatchAt(o.childCount)).join(e.pos).scrollIntoView()),!0))}function S(t,e,n){var a,s,c=e.nodeBefore,u=e.nodeAfter;if(c.type.spec.isolating||u.type.spec.isolating)return!1;if(k(t,e,n))return!0;var d=e.parent.canReplace(e.index(),e.index()+1);if(d&&(a=(s=c.contentMatchAt(c.childCount)).findWrapping(u.type))&&s.matchType(a[0]||u.type).validEnd){if(n){for(var p=e.pos+u.nodeSize,f=o["Fragment"].empty,h=a.length-1;h>=0;h--)f=o["Fragment"].from(a[h].create(null,f));f=o["Fragment"].from(c.copy(f));var m=t.tr.step(new r["b"](e.pos-1,p,e.pos,p,new o["Slice"](f,1,0),a.length,!0)),v=p+2*a.length;Object(r["f"])(m.doc,v)&&m.join(v),n(m.scrollIntoView())}return!0}var g=i["Selection"].findFrom(e,1),y=g&&g.$from.blockRange(g.$to),b=y&&Object(r["k"])(y);if(null!=b&&b>=e.depth)return n&&n(t.tr.lift(y,b).scrollIntoView()),!0;if(d&&l(u,"start",!0)&&l(c,"end")){for(var w=c,x=[];;){if(x.push(w),w.isTextblock)break;w=w.lastChild}for(var S=u,_=1;!S.isTextblock;S=S.firstChild)_++;if(w.canReplace(w.childCount,w.childCount,S.content)){if(n){for(var C=o["Fragment"].empty,O=x.length-1;O>=0;O--)C=o["Fragment"].from(x[O].copy(C));var M=t.tr.step(new r["b"](e.pos-x.length,e.pos+u.nodeSize,e.pos+_,e.pos+u.nodeSize-_,new o["Slice"](C,x.length,0),0,!0));n(M.scrollIntoView())}return!0}}return!1}function _(t,e){return function(n,o){var i=n.selection,a=i.$from,s=i.$to,l=a.blockRange(s),c=l&&Object(r["i"])(l,t,e);return!!c&&(o&&o(n.tr.wrap(l,c).scrollIntoView()),!0)}}function C(t,e){return function(n,r){var o=n.selection,i=o.from,a=o.to,s=!1;return n.doc.nodesBetween(i,a,(function(r,o){if(s)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)s=!0;else{var i=n.doc.resolve(o),a=i.index();s=i.parent.canReplaceWith(a,a+1,t)}})),!!s&&(r&&r(n.tr.setBlockType(i,a,t,e).scrollIntoView()),!0)}}function O(t,e,n){for(var r=function(r){var o=e[r],i=o.$from,a=o.$to,s=0==i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,a.pos,(function(t){if(s)return!1;s=t.inlineContent&&t.type.allowsMarkType(n)})),s)return{v:!0}},o=0;o<e.length;o++){var i=r(o);if(i)return i.v}return!1}function M(t,e){return function(n,r){var o=n.selection,i=o.empty,a=o.$cursor,s=o.ranges;if(i&&!a||!O(n.doc,s,t))return!1;if(r)if(a)t.isInSet(n.storedMarks||a.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{for(var l=!1,c=n.tr,u=0;!l&&u<s.length;u++){var d=s[u],p=d.$from,f=d.$to;l=n.doc.rangeHasMark(p.pos,f.pos,t)}for(var h=0;h<s.length;h++){var m=s[h],v=m.$from,g=m.$to;if(l)c.removeMark(v.pos,g.pos,t);else{var y=v.pos,b=g.pos,w=v.nodeAfter,x=g.nodeBefore,k=w&&w.isText?/^\s*/.exec(w.text)[0].length:0,S=x&&x.isText?/\s*$/.exec(x.text)[0].length:0;y+k<b&&(y+=k,b-=S),c.addMark(y,b,t.create(e))}}r(c.scrollIntoView())}return!0}}function E(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return function(e,n,r){for(var o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}var T=E(a,s,c),A=E(a,d,p),N={Enter:E(m,y,b,w),"Mod-Enter":g,Backspace:T,"Mod-Backspace":T,Delete:A,"Mod-Delete":A,"Mod-a":x},R={"Ctrl-h":N["Backspace"],"Alt-Backspace":N["Mod-Backspace"],"Ctrl-d":N["Delete"],"Ctrl-Alt-Backspace":N["Mod-Delete"],"Alt-Delete":N["Mod-Delete"],"Alt-d":N["Mod-Delete"]};for(var I in N)R[I]=N[I];var j="undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform(),z=j?R:N},"073e":function(t,e,n){"use strict";var r=n("5dbe"),o=i(Error);function i(t){return e.displayName=t.displayName||t.name,e;function e(e){return e&&(e=r.apply(null,arguments)),new t(e)}}t.exports=o,o.eval=i(EvalError),o.range=i(RangeError),o.reference=i(ReferenceError),o.syntax=i(SyntaxError),o.type=i(TypeError),o.uri=i(URIError),o.create=i},"0ac0":function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return w})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return A})),n.d(e,"g",(function(){return T})),n.d(e,"h",(function(){return j})),n.d(e,"i",(function(){return _})),n.d(e,"j",(function(){return R})),n.d(e,"k",(function(){return S}));var r=n("304a"),o=65535,i=Math.pow(2,16);function a(t,e){return t+e*i}function s(t){return t&o}function l(t){return(t-(t&o))/i}var c=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},u=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};u.prototype.recover=function(t){var e=0,n=s(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+l(t)},u.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},u.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},u.prototype._map=function(t,e,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var l=this.ranges[s]-(this.inverted?r:0);if(l>t)break;var u=this.ranges[s+o],d=this.ranges[s+i],p=l+u;if(t<=p){var f=u?t==l?-1:t==p?1:e:e,h=l+r+(f<0?0:d);if(n)return h;var m=t==(e<0?l:p)?null:a(s/3,t-l);return new c(h,e<0?t!=l:t!=p,m)}r+=d-u}return n?t+r:new c(t+r)},u.prototype.touches=function(t,e){for(var n=0,r=s(e),o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?n:0);if(l>t)break;var c=this.ranges[a+o],u=l+c;if(t<=u&&a==3*r)return!0;n+=this.ranges[a+i]-c}return!1},u.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),l=this.ranges[r+e],c=this.ranges[r+n];t(a,a+l,s,s+c),o+=c-l}},u.prototype.invert=function(){return new u(this.ranges,!this.inverted)},u.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},u.offset=function(t){return 0==t?u.empty:new u(t<0?[0,-t,0]:[0,0,t])},u.empty=new u([]);var d=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function p(t){var e=Error.call(this,t);return e.__proto__=p.prototype,e}d.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new d(this.maps,this.mirror,t,e)},d.prototype.copy=function(){return new d(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},d.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},d.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},d.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},d.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},d.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},d.prototype.invert=function(){var t=new d;return t.appendMappingInverted(this),t},d.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},d.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},d.prototype._map=function(t,e,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o],a=i.mapResult(t,e);if(null!=a.recover){var s=this.getMirror(o);if(null!=s&&s>o&&s<this.to){o=s,t=this.maps[s].recover(a.recover);continue}}a.deleted&&(r=!0),t=a.pos}return n?t:new c(t,r)},p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="TransformError";var f=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new d},h={before:{configurable:!0},docChanged:{configurable:!0}};function m(){throw new Error("Override me")}h.before.get=function(){return this.docs.length?this.docs[0]:this.doc},f.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new p(e.failed);return this},f.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},h.docChanged.get=function(){return this.steps.length>0},f.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(f.prototype,h);var v=Object.create(null),g=function(){};g.prototype.apply=function(t){return m()},g.prototype.getMap=function(){return u.empty},g.prototype.invert=function(t){return m()},g.prototype.map=function(t){return m()},g.prototype.merge=function(t){return null},g.prototype.toJSON=function(){return m()},g.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=v[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},g.jsonID=function(t,e){if(t in v)throw new RangeError("Duplicate use of step JSON ID "+t);return v[t]=e,e.prototype.jsonID=t,e};var y=function(t,e){this.doc=t,this.failed=e};y.ok=function(t){return new y(t,null)},y.fail=function(t){return new y(null,t)},y.fromReplace=function(t,e,n,o){try{return y.ok(t.replace(e,n,o))}catch(i){if(i instanceof r["ReplaceError"])return y.fail(i.message);throw i}};var b=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&x(t,this.from,this.to)?y.fail("Structure replace would overwrite content"):y.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new u([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?r["Slice"].empty:new r["Slice"](t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var o=this.slice.size+t.slice.size==0?r["Slice"].empty:new r["Slice"](this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),o,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,r["Slice"].fromJSON(t,n.slice),!!n.structure)},e}(g);g.jsonID("replace",b);var w=function(t){function e(e,n,r,o,i,a,s){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(x(t,this.from,this.gapFrom)||x(t,this.gapTo,this.to)))return y.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return y.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?y.fromReplace(t,this.from,this.to,n):y.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new u([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,r["Slice"].fromJSON(t,n.slice),n.insert,!!n.structure)},e}(g);function x(t,e,n){var r=t.resolve(e),o=n-e,i=r.depth;while(o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount)i--,o--;if(o>0){var a=r.node(i).maybeChild(r.indexAfter(i));while(o>0){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function k(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function S(t){for(var e=t.parent,n=e.content.cutByIndex(t.startIndex,t.endIndex),r=t.depth;;--r){var o=t.$from.node(r),i=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(i,a,n))return r;if(0==r||o.type.spec.isolating||!k(o,i,a))break}}function _(t,e,n,r){void 0===r&&(r=t);var o=O(t,e),i=o&&M(r,e);return i?o.map(C).concat({type:e,attrs:n}).concat(i.map(C)):null}function C(t){return{type:t,attrs:null}}function O(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;var a=i.length?i[0]:e;return n.canReplaceWith(r,o,a)?i:null}function M(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.child(r),a=e.contentMatch.findWrapping(i.type);if(!a)return null;for(var s=a.length?a[a.length-1]:e,l=s.contentMatch,c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return l&&l.validEnd?a:null}function E(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function T(t,e,n,r){void 0===n&&(n=1);var o=t.resolve(e),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,l=n-2;s>i;s--,l--){var c=o.node(s),u=o.index(s);if(c.type.spec.isolating)return!1;var d=c.content.cutByIndex(u,c.childCount),p=r&&r[l]||c;if(p!=c&&(d=d.replaceChild(0,p.type.create(p.attrs))),!c.canReplace(u+1,c.childCount)||!p.type.validContent(d))return!1}var f=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(f,f,h?h.type:o.node(i+1).type)}function A(t,e){var n=t.resolve(e),r=n.index();return N(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function N(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function R(t,e,n){void 0===n&&(n=-1);for(var r=t.resolve(e),o=r.depth;;o--){var i=void 0,a=void 0,s=r.index(o);if(o==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(o+1),s++,a=r.node(o).maybeChild(s)):(i=r.node(o).maybeChild(s-1),a=r.node(o+1)),i&&!i.isTextblock&&N(i,a)&&r.node(o).canReplace(s,s+1))return e;if(0==o)break;e=n<0?r.before(o):r.after(o)}}function I(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}}function j(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;s>=0;s--){var l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,c=r.index(s)+(l>0?1:0),u=r.node(s),d=!1;if(1==a)d=u.canReplace(c,c,o);else{var p=u.contentMatchAt(c).findWrapping(o.firstChild.type);d=p&&u.canReplaceWith(c,c,p[0])}if(d)return 0==l?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function z(t,e,n){for(var o=[],i=0;i<t.childCount;i++){var a=t.child(i);a.content.size&&(a=a.copy(z(a.content,e,a))),a.isInline&&(a=e(a,n,i)),o.push(a)}return r["Fragment"].fromArray(o)}g.jsonID("replaceAround",w),f.prototype.lift=function(t,e){for(var n=t.$from,o=t.$to,i=t.depth,a=n.before(i+1),s=o.after(i+1),l=a,c=s,u=r["Fragment"].empty,d=0,p=i,f=!1;p>e;p--)f||n.index(p)>0?(f=!0,u=r["Fragment"].from(n.node(p).copy(u)),d++):l--;for(var h=r["Fragment"].empty,m=0,v=i,g=!1;v>e;v--)g||o.after(v+1)<o.end(v)?(g=!0,h=r["Fragment"].from(o.node(v).copy(h)),m++):c++;return this.step(new w(l,c,a,s,new r["Slice"](u.append(h),d,m),u.size-d,!0))},f.prototype.wrap=function(t,e){for(var n=r["Fragment"].empty,o=e.length-1;o>=0;o--)n=r["Fragment"].from(e[o].type.create(e[o].attrs,n));var i=t.start,a=t.end;return this.step(new w(i,a,i,a,new r["Slice"](n,0,0),e.length,!0))},f.prototype.setBlockType=function(t,e,n,o){var i=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,o)&&E(i.doc,i.mapping.slice(a).map(e),n)){i.clearIncompatible(i.mapping.slice(a).map(e,1),n);var s=i.mapping.slice(a),l=s.map(e,1),c=s.map(e+t.nodeSize,1);return i.step(new w(l,c,l+1,c-1,new r["Slice"](r["Fragment"].from(n.create(o,null,t.marks)),0,0),1,!0)),!1}})),this},f.prototype.setNodeMarkup=function(t,e,n,o){var i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");e||(e=i.type);var a=e.create(n,null,o||i.marks);if(i.isLeaf)return this.replaceWith(t,t+i.nodeSize,a);if(!e.validContent(i.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new w(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new r["Slice"](r["Fragment"].from(a),0,0),1,!0))},f.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var o=this.doc.resolve(t),i=r["Fragment"].empty,a=r["Fragment"].empty,s=o.depth,l=o.depth-e,c=e-1;s>l;s--,c--){i=r["Fragment"].from(o.node(s).copy(i));var u=n&&n[c];a=r["Fragment"].from(u?u.type.create(u.attrs,a):o.node(s).copy(a))}return this.step(new b(t,t,new r["Slice"](i.append(a),e,e),!0))},f.prototype.join=function(t,e){void 0===e&&(e=1);var n=new b(t-e,t+e,r["Slice"].empty,!0);return this.step(n)};var P=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),o=t.resolve(this.from),i=o.node(o.sharedDepth(this.to)),a=new r["Slice"](z(n.content,(function(t,n){return t.isAtom&&n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),i),n.openStart,n.openEnd);return y.fromReplace(t,this.from,this.to,a)},e.prototype.invert=function(){return new D(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(g);g.jsonID("addMark",P);var D=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),o=new r["Slice"](z(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return y.fromReplace(t,this.from,this.to,o)},e.prototype.invert=function(){return new P(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(g);function $(t,e,n,o){if(void 0===n&&(n=e),void 0===o&&(o=r["Slice"].empty),e==n&&!o.size)return null;var i=t.resolve(e),a=t.resolve(n);return F(i,a,o)?new b(e,n,o):new B(i,a,o).fit()}function F(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}g.jsonID("removeMark",D),f.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],a=null,s=null;return this.doc.nodesBetween(t,e,(function(r,l,c){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var d=Math.max(l,t),p=Math.min(l+r.nodeSize,e),f=n.addToSet(u),h=0;h<u.length;h++)u[h].isInSet(f)||(a&&a.to==d&&a.mark.eq(u[h])?a.to=p:o.push(a=new D(d,p,u[h])));s&&s.to==d?s.to=p:i.push(s=new P(d,p,n))}}})),o.forEach((function(t){return r.step(t)})),i.forEach((function(t){return r.step(t)})),this},f.prototype.removeMark=function(t,e,n){var o=this;void 0===n&&(n=null);var i=[],a=0;return this.doc.nodesBetween(t,e,(function(o,s){if(o.isInline){a++;var l=null;if(n instanceof r["MarkType"]){var c,u=o.marks;while(c=n.isInSet(u))(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length)for(var d=Math.min(s+o.nodeSize,e),p=0;p<l.length;p++){for(var f=l[p],h=void 0,m=0;m<i.length;m++){var v=i[m];v.step==a-1&&f.eq(i[m].style)&&(h=v)}h?(h.to=d,h.step=a):i.push({style:f,from:Math.max(s,t),to:d,step:a})}}})),i.forEach((function(t){return o.step(new D(t.from,t.to,t.style))})),this},f.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var o=this.doc.nodeAt(t),i=[],a=t+1,s=0;s<o.childCount;s++){var l=o.child(s),c=a+l.nodeSize,u=n.matchType(l.type,l.attrs);if(u){n=u;for(var d=0;d<l.marks.length;d++)e.allowsMarkType(l.marks[d].type)||this.step(new D(a,c,l.marks[d]))}else i.push(new b(a,c,r["Slice"].empty));a=c}if(!n.validEnd){var p=n.fillBefore(r["Fragment"].empty,!0);this.replace(a,a,new r["Slice"](p,0,0))}for(var f=i.length-1;f>=0;f--)this.step(i[f]);return this},f.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=r["Slice"].empty);var o=$(this.doc,t,e,n);return o&&this.step(o),this},f.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new r["Slice"](r["Fragment"].from(n),0,0))},f.prototype.delete=function(t,e){return this.replace(t,e,r["Slice"].empty)},f.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var B=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var o=0;o<=t.depth;o++){var i=t.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(o))})}this.placed=r["Fragment"].empty;for(var a=t.depth;a>0;a--)this.placed=r["Fragment"].from(t.node(a).copy(this.placed))},L={depth:{configurable:!0}};function V(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(V(t.firstChild.content,e-1,n)))}function q(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(q(t.lastChild.content,e-1,n)))}function H(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function W(t,e,n){if(e<=0)return t;var o=t.content;return e>1&&(o=o.replaceChild(0,W(o.firstChild,e-1,1==o.childCount?n-1:0))),e>0&&(o=t.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(r["Fragment"].empty,!0)))),t.copy(o)}function U(t,e,n,r,o){var i=t.node(e),a=o?t.indexAfter(e):t.index(e);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var s=r.fillBefore(i.content,!0,a);return s&&!J(n,i.content,a)?s:null}function J(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function K(t,e,n,o,i){if(e<n){var a=t.firstChild;t=t.replaceChild(0,a.copy(K(a.content,e+1,n,o,a)))}if(e>o){var s=i.contentMatchAt(0),l=s.fillBefore(t).append(t);t=l.append(s.matchFragment(l).fillBefore(r["Fragment"].empty,!0))}return t}function G(t,e){for(var n=[],r=Math.min(t.depth,e.depth),o=r;o>=0;o--){var i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;i==e.start(o)&&n.push(o)}return n}L.depth.get=function(){return this.frontier.length-1},B.prototype.fit=function(){while(this.unplaced.size){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,i=this.close(e<0?this.$to:o.doc.resolve(e));if(!i)return null;var a=this.placed,s=o.depth,l=i.depth;while(s&&l&&1==a.childCount)a=a.firstChild.content,s--,l--;var c=new r["Slice"](a,s,l);return e>-1?new w(o.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||o.pos!=this.$to.pos?new b(o.pos,i.pos,c):void 0},B.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--){var n=void 0,o=void 0;e?(o=H(this.unplaced.content,e-1).firstChild,n=o.content):n=this.unplaced.content;for(var i=n.firstChild,a=this.depth;a>=0;a--){var s=this.frontier[a],l=s.type,c=s.match,u=void 0,d=void 0;if(1==t&&(i?c.matchType(i.type)||(d=c.fillBefore(r["Fragment"].from(i),!1)):l.compatibleContent(o.type)))return{sliceDepth:e,frontierDepth:a,parent:o,inject:d};if(2==t&&i&&(u=c.findWrapping(i.type)))return{sliceDepth:e,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}},B.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,o=t.openEnd,i=H(e,n);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new r["Slice"](e,n+1,Math.max(o,i.size+n>=e.size-o?n+1:0)),!0)},B.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,o=t.openEnd,i=H(e,n);if(i.childCount<=1&&n>0){var a=e.size-n<=n+i.size;this.unplaced=new r["Slice"](V(e,n-1,1),n-1,a?n-1:o)}else this.unplaced=new r["Slice"](V(e,n,1),n,o)},B.prototype.placeNodes=function(t){var e=t.sliceDepth,n=t.frontierDepth,o=t.parent,i=t.inject,a=t.wrap;while(this.depth>n)this.closeFrontierNode();if(a)for(var s=0;s<a.length;s++)this.openFrontierNode(a[s]);var l=this.unplaced,c=o?o.content:l.content,u=l.openStart-e,d=0,p=[],f=this.frontier[n],h=f.match,m=f.type;if(i){for(var v=0;v<i.childCount;v++)p.push(i.child(v));h=h.matchFragment(i)}var g=c.size+e-(l.content.size-l.openEnd);while(d<c.childCount){var y=c.child(d),b=h.matchType(y.type);if(!b)break;d++,(d>1||0==u||y.content.size)&&(h=b,p.push(W(y.mark(m.allowedMarks(y.marks)),1==d?u:0,d==c.childCount?g:-1)))}var w=d==c.childCount;w||(g=-1),this.placed=q(this.placed,n,r["Fragment"].from(p)),this.frontier[n].match=h,w&&g<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var x=0,k=c;x<g;x++){var S=k.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),k=S.content}this.unplaced=w?0==e?r["Slice"].empty:new r["Slice"](V(l.content,e-1,1),e-1,g<0?l.openEnd:e-1):new r["Slice"](V(l.content,e,d),l.openStart,l.openEnd)},B.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!U(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;var n=this.$to,r=n.depth,o=this.$to.after(r);while(r>1&&o==this.$to.end(--r))++o;return o},B.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,o=n.type,i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),a=U(t,e,o,r,i);if(a){for(var s=e-1;s>=0;s--){var l=this.frontier[s],c=l.match,u=l.type,d=U(t,s,u,c,!0);if(!d||d.childCount)continue t}return{depth:e,fit:a,move:i?t.doc.resolve(t.after(e+1)):t}}}},B.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;while(this.depth>e.depth)this.closeFrontierNode();e.fit.childCount&&(this.placed=q(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,o)}return t},B.prototype.openFrontierNode=function(t,e,n){var o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=q(this.placed,this.depth,r["Fragment"].from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},B.prototype.closeFrontierNode=function(){var t=this.frontier.pop(),e=t.match.fillBefore(r["Fragment"].empty,!0);e.childCount&&(this.placed=q(this.placed,this.frontier.length,e))},Object.defineProperties(B.prototype,L),f.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var o=this.doc.resolve(t),i=this.doc.resolve(e);if(F(o,i,n))return this.step(new b(t,e,n));var a=G(o,this.doc.resolve(e));0==a[a.length-1]&&a.pop();var s=-(o.depth+1);a.unshift(s);for(var l=o.depth,c=o.pos-1;l>0;l--,c--){var u=o.node(l).type.spec;if(u.defining||u.isolating)break;a.indexOf(l)>-1?s=l:o.before(l)==c&&a.splice(1,0,-l)}for(var d=a.indexOf(s),p=[],f=n.openStart,h=n.content,m=0;;m++){var v=h.firstChild;if(p.push(v),m==n.openStart)break;h=v.content}f>0&&p[f-1].type.spec.defining&&o.node(d).type!=p[f-1].type?f-=1:f>=2&&p[f-1].isTextblock&&p[f-2].type.spec.defining&&o.node(d).type!=p[f-2].type&&(f-=2);for(var g=n.openStart;g>=0;g--){var y=(g+f+1)%(n.openStart+1),w=p[y];if(w)for(var x=0;x<a.length;x++){var k=a[(x+d)%a.length],S=!0;k<0&&(S=!1,k=-k);var _=o.node(k-1),C=o.index(k-1);if(_.canReplaceWith(C,C,w.type,w.marks))return this.replace(o.before(k),S?i.after(k):e,new r["Slice"](K(n.content,0,n.openStart,y),y,n.openEnd))}}for(var O=this.steps.length,M=a.length-1;M>=0;M--){if(this.replace(t,e,n),this.steps.length>O)break;var E=a[M];E<0||(t=o.before(E),e=i.after(E))}return this},f.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var o=I(this.doc,t,n.type);null!=o&&(t=e=o)}return this.replaceRange(t,e,new r["Slice"](r["Fragment"].from(n),0,0))},f.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=G(n,r),i=0;i<o.length;i++){var a=o[i],s=i==o.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(t-n.start(l)==n.depth-l&&e>n.end(l)&&r.end(l)-e!=r.depth-l)return this.delete(n.before(l),e);return this.delete(t,e)}},1020:function(t,e){function n(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(e){var r=t[e];"object"!=typeof r||Object.isFrozen(r)||n(r)})),t}var r=n,o=n;r.default=o;class i{constructor(t){void 0===t.data&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function a(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function s(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach((function(t){for(const e in t)n[e]=t[e]})),n}const l="</span>",c=t=>!!t.kind;class u{constructor(t,e){this.buffer="",this.classPrefix=e.classPrefix,t.walk(this)}addText(t){this.buffer+=a(t)}openNode(t){if(!c(t))return;let e=t.kind;t.sublanguage||(e=`${this.classPrefix}${e}`),this.span(e)}closeNode(t){c(t)&&(this.buffer+=l)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}class d{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const e={kind:t,children:[]};this.add(e),this.stack.push(e)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){while(this.closeNode());}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,e){return"string"===typeof e?t.addText(e):e.children&&(t.openNode(e),e.children.forEach(e=>this._walk(t,e)),t.closeNode(e)),t}static _collapse(t){"string"!==typeof t&&t.children&&(t.children.every(t=>"string"===typeof t)?t.children=[t.children.join("")]:t.children.forEach(t=>{d._collapse(t)}))}}class p extends d{constructor(t){super(),this.options=t}addKeyword(t,e){""!==t&&(this.openNode(e),this.addText(t),this.closeNode())}addText(t){""!==t&&this.add(t)}addSublanguage(t,e){const n=t.root;n.kind=e,n.sublanguage=!0,this.add(n)}toHTML(){const t=new u(this,this.options);return t.value()}finalize(){return!0}}function f(t){return new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function h(t){return t?"string"===typeof t?t:t.source:null}function m(...t){const e=t.map(t=>h(t)).join("");return e}function v(...t){const e="("+t.map(t=>h(t)).join("|")+")";return e}function g(t){return new RegExp(t.toString()+"|").exec("").length-1}function y(t,e){const n=t&&t.exec(e);return n&&0===n.index}const b=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function w(t,e="|"){let n=0;return t.map(t=>{n+=1;const e=n;let r=h(t),o="";while(r.length>0){const t=b.exec(r);if(!t){o+=r;break}o+=r.substring(0,t.index),r=r.substring(t.index+t[0].length),"\\"===t[0][0]&&t[1]?o+="\\"+String(Number(t[1])+e):(o+=t[0],"("===t[0]&&n++)}return o}).map(t=>`(${t})`).join(e)}const x=/\b\B/,k="[a-zA-Z]\\w*",S="[a-zA-Z_]\\w*",_="\\b\\d+(\\.\\d+)?",C="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",O="\\b(0b[01]+)",M="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",E=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=m(e,/.*\b/,t.binary,/\b.*/)),s({className:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,e)=>{0!==t.index&&e.ignoreMatch()}},t)},T={begin:"\\\\[\\s\\S]",relevance:0},A={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[T]},N={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[T]},R={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},I=function(t,e,n={}){const r=s({className:"comment",begin:t,end:e,contains:[]},n);return r.contains.push(R),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},j=I("//","$"),z=I("/\\*","\\*/"),P=I("#","$"),D={className:"number",begin:_,relevance:0},$={className:"number",begin:C,relevance:0},F={className:"number",begin:O,relevance:0},B={className:"number",begin:_+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},L={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[T,{begin:/\[/,end:/\]/,relevance:0,contains:[T]}]}]},V={className:"title",begin:k,relevance:0},q={className:"title",begin:S,relevance:0},H={begin:"\\.\\s*"+S,relevance:0},W=function(t){return Object.assign(t,{"on:begin":(t,e)=>{e.data._beginMatch=t[1]},"on:end":(t,e)=>{e.data._beginMatch!==t[1]&&e.ignoreMatch()}})};var U=Object.freeze({__proto__:null,MATCH_NOTHING_RE:x,IDENT_RE:k,UNDERSCORE_IDENT_RE:S,NUMBER_RE:_,C_NUMBER_RE:C,BINARY_NUMBER_RE:O,RE_STARTERS_RE:M,SHEBANG:E,BACKSLASH_ESCAPE:T,APOS_STRING_MODE:A,QUOTE_STRING_MODE:N,PHRASAL_WORDS_MODE:R,COMMENT:I,C_LINE_COMMENT_MODE:j,C_BLOCK_COMMENT_MODE:z,HASH_COMMENT_MODE:P,NUMBER_MODE:D,C_NUMBER_MODE:$,BINARY_NUMBER_MODE:F,CSS_NUMBER_MODE:B,REGEXP_MODE:L,TITLE_MODE:V,UNDERSCORE_TITLE_MODE:q,METHOD_GUARD:H,END_SAME_AS_BEGIN:W});function J(t,e){const n=t.input[t.index-1];"."===n&&e.ignoreMatch()}function K(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=J,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,void 0===t.relevance&&(t.relevance=0))}function G(t,e){Array.isArray(t.illegal)&&(t.illegal=v(...t.illegal))}function X(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function Z(t,e){void 0===t.relevance&&(t.relevance=1)}const Y=["of","and","for","in","not","or","if","then","parent","list","value"],Q="keyword";function tt(t,e,n=Q){const r={};return"string"===typeof t?o(n,t.split(" ")):Array.isArray(t)?o(n,t):Object.keys(t).forEach((function(n){Object.assign(r,tt(t[n],e,n))})),r;function o(t,n){e&&(n=n.map(t=>t.toLowerCase())),n.forEach((function(e){const n=e.split("|");r[n[0]]=[t,et(n[0],n[1])]}))}}function et(t,e){return e?Number(e):nt(t)?0:1}function nt(t){return Y.includes(t.toLowerCase())}function rt(t,{plugins:e}){function n(e,n){return new RegExp(h(e),"m"+(t.case_insensitive?"i":"")+(n?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(t,e){e.position=this.position++,this.matchIndexes[this.matchAt]=e,this.regexes.push([e,t]),this.matchAt+=g(t)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const t=this.regexes.map(t=>t[1]);this.matcherRe=n(w(t),!0),this.lastIndex=0}exec(t){this.matcherRe.lastIndex=this.lastIndex;const e=this.matcherRe.exec(t);if(!e)return null;const n=e.findIndex((t,e)=>e>0&&void 0!==t),r=this.matchIndexes[n];return e.splice(0,n),Object.assign(e,r)}}class o{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(t){if(this.multiRegexes[t])return this.multiRegexes[t];const e=new r;return this.rules.slice(t).forEach(([t,n])=>e.addRule(t,n)),e.compile(),this.multiRegexes[t]=e,e}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(t,e){this.rules.push([t,e]),"begin"===e.type&&this.count++}exec(t){const e=this.getMatcher(this.regexIndex);e.lastIndex=this.lastIndex;let n=e.exec(t);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const e=this.getMatcher(0);e.lastIndex=this.lastIndex+1,n=e.exec(t)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}function i(t){const e=new o;return t.contains.forEach(t=>e.addRule(t.begin,{rule:t,type:"begin"})),t.terminatorEnd&&e.addRule(t.terminatorEnd,{type:"end"}),t.illegal&&e.addRule(t.illegal,{type:"illegal"}),e}function a(e,r){const o=e;if(e.isCompiled)return o;[X].forEach(t=>t(e,r)),t.compilerExtensions.forEach(t=>t(e,r)),e.__beforeBegin=null,[K,G,Z].forEach(t=>t(e,r)),e.isCompiled=!0;let s=null;if("object"===typeof e.keywords&&(s=e.keywords.$pattern,delete e.keywords.$pattern),e.keywords&&(e.keywords=tt(e.keywords,t.case_insensitive)),e.lexemes&&s)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return s=s||e.lexemes||/\w+/,o.keywordPatternRe=n(s,!0),r&&(e.begin||(e.begin=/\B|\b/),o.beginRe=n(e.begin),e.endSameAsBegin&&(e.end=e.begin),e.end||e.endsWithParent||(e.end=/\B|\b/),e.end&&(o.endRe=n(e.end)),o.terminatorEnd=h(e.end)||"",e.endsWithParent&&r.terminatorEnd&&(o.terminatorEnd+=(e.end?"|":"")+r.terminatorEnd)),e.illegal&&(o.illegalRe=n(e.illegal)),e.contains||(e.contains=[]),e.contains=[].concat(...e.contains.map((function(t){return it("self"===t?e:t)}))),e.contains.forEach((function(t){a(t,o)})),e.starts&&a(e.starts,r),o.matcher=i(o),o}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=s(t.classNameAliases||{}),a(t)}function ot(t){return!!t&&(t.endsWithParent||ot(t.starts))}function it(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map((function(e){return s(t,{variants:null},e)}))),t.cachedVariants?t.cachedVariants:ot(t)?s(t,{starts:t.starts?s(t.starts):null}):Object.isFrozen(t)?s(t):t}var at="10.7.3";function st(t){return Boolean(t||""===t)}function lt(t){const e={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!t.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,a(this.code);let e={};return this.autoDetect?(e=t.highlightAuto(this.code),this.detectedLanguage=e.language):(e=t.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),e.value},autoDetect(){return!this.language||st(this.autodetect)},ignoreIllegals(){return!0}},render(t){return t("pre",{},[t("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}},n={install(t){t.component("highlightjs",e)}};return{Component:e,VuePlugin:n}}const ct={"after:highlightElement":({el:t,result:e,text:n})=>{const r=dt(t);if(!r.length)return;const o=document.createElement("div");o.innerHTML=e.value,e.value=pt(r,dt(o),n)}};function ut(t){return t.nodeName.toLowerCase()}function dt(t){const e=[];return function t(n,r){for(let o=n.firstChild;o;o=o.nextSibling)3===o.nodeType?r+=o.nodeValue.length:1===o.nodeType&&(e.push({event:"start",offset:r,node:o}),r=t(o,r),ut(o).match(/br|hr|img|input/)||e.push({event:"stop",offset:r,node:o}));return r}(t,0),e}function pt(t,e,n){let r=0,o="";const i=[];function s(){return t.length&&e.length?t[0].offset!==e[0].offset?t[0].offset<e[0].offset?t:e:"start"===e[0].event?t:e:t.length?t:e}function l(t){function e(t){return" "+t.nodeName+'="'+a(t.value)+'"'}o+="<"+ut(t)+[].map.call(t.attributes,e).join("")+">"}function c(t){o+="</"+ut(t)+">"}function u(t){("start"===t.event?l:c)(t.node)}while(t.length||e.length){let e=s();if(o+=a(n.substring(r,e[0].offset)),r=e[0].offset,e===t){i.reverse().forEach(c);do{u(e.splice(0,1)[0]),e=s()}while(e===t&&e.length&&e[0].offset===r);i.reverse().forEach(l)}else"start"===e[0].event?i.push(e[0].node):i.pop(),u(e.splice(0,1)[0])}return o+a(n.substr(r))}const ft={},ht=t=>{console.error(t)},mt=(t,...e)=>{console.log("WARN: "+t,...e)},vt=(t,e)=>{ft[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),ft[`${t}/${e}`]=!0)},gt=a,yt=s,bt=Symbol("nomatch"),wt=function(t){const e=Object.create(null),n=Object.create(null),o=[];let a=!0;const s=/(^(<[^>]+>|\t|)+|\n)/gm,l="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let u={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:p};function d(t){return u.noHighlightRe.test(t)}function h(t){let e=t.className+" ";e+=t.parentNode?t.parentNode.className:"";const n=u.languageDetectRe.exec(e);if(n){const e=P(n[1]);return e||(mt(l.replace("{}",n[1])),mt("Falling back to no-highlight mode for this block.",t)),e?n[1]:"no-highlight"}return e.split(/\s+/).find(t=>d(t)||P(t))}function m(t,e,n,r){let o="",i="";"object"===typeof e?(o=t,n=e.ignoreIllegals,i=e.language,r=void 0):(vt("10.7.0","highlight(lang, code, ...args) has been deprecated."),vt("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=t,o=e);const a={code:o,language:i};L("before:highlight",a);const s=a.result?a.result:v(a.language,a.code,n,r);return s.code=a.code,L("after:highlight",s),s}function v(t,n,r,s){function c(t,e){const n=O.case_insensitive?e[0].toLowerCase():e[0];return Object.prototype.hasOwnProperty.call(t.keywords,n)&&t.keywords[n]}function d(){if(!T.keywords)return void N.addText(R);let t=0;T.keywordPatternRe.lastIndex=0;let e=T.keywordPatternRe.exec(R),n="";while(e){n+=R.substring(t,e.index);const r=c(T,e);if(r){const[t,o]=r;if(N.addText(n),n="",I+=o,t.startsWith("_"))n+=e[0];else{const n=O.classNameAliases[t]||t;N.addKeyword(e[0],n)}}else n+=e[0];t=T.keywordPatternRe.lastIndex,e=T.keywordPatternRe.exec(R)}n+=R.substr(t),N.addText(n)}function p(){if(""===R)return;let t=null;if("string"===typeof T.subLanguage){if(!e[T.subLanguage])return void N.addText(R);t=v(T.subLanguage,R,!0,A[T.subLanguage]),A[T.subLanguage]=t.top}else t=b(R,T.subLanguage.length?T.subLanguage:null);T.relevance>0&&(I+=t.relevance),N.addSublanguage(t.emitter,t.language)}function h(){null!=T.subLanguage?p():d(),R=""}function m(t){return t.className&&N.openNode(O.classNameAliases[t.className]||t.className),T=Object.create(t,{parent:{value:T}}),T}function g(t,e,n){let r=y(t.endRe,n);if(r){if(t["on:end"]){const n=new i(t);t["on:end"](e,n),n.isMatchIgnored&&(r=!1)}if(r){while(t.endsParent&&t.parent)t=t.parent;return t}}if(t.endsWithParent)return g(t.parent,e,n)}function w(t){return 0===T.matcher.regexIndex?(R+=t[0],1):(D=!0,0)}function x(t){const e=t[0],n=t.rule,r=new i(n),o=[n.__beforeBegin,n["on:begin"]];for(const i of o)if(i&&(i(t,r),r.isMatchIgnored))return w(e);return n&&n.endSameAsBegin&&(n.endRe=f(e)),n.skip?R+=e:(n.excludeBegin&&(R+=e),h(),n.returnBegin||n.excludeBegin||(R=e)),m(n),n.returnBegin?0:e.length}function k(t){const e=t[0],r=n.substr(t.index),o=g(T,t,r);if(!o)return bt;const i=T;i.skip?R+=e:(i.returnEnd||i.excludeEnd||(R+=e),h(),i.excludeEnd&&(R=e));do{T.className&&N.closeNode(),T.skip||T.subLanguage||(I+=T.relevance),T=T.parent}while(T!==o.parent);return o.starts&&(o.endSameAsBegin&&(o.starts.endRe=o.endRe),m(o.starts)),i.returnEnd?0:e.length}function S(){const t=[];for(let e=T;e!==O;e=e.parent)e.className&&t.unshift(e.className);t.forEach(t=>N.openNode(t))}let _={};function C(e,o){const i=o&&o[0];if(R+=e,null==i)return h(),0;if("begin"===_.type&&"end"===o.type&&_.index===o.index&&""===i){if(R+=n.slice(o.index,o.index+1),!a){const e=new Error("0 width match regex");throw e.languageName=t,e.badRule=_.rule,e}return 1}if(_=o,"begin"===o.type)return x(o);if("illegal"===o.type&&!r){const t=new Error('Illegal lexeme "'+i+'" for mode "'+(T.className||"<unnamed>")+'"');throw t.mode=T,t}if("end"===o.type){const t=k(o);if(t!==bt)return t}if("illegal"===o.type&&""===i)return 1;if(z>1e5&&z>3*o.index){const t=new Error("potential infinite loop, way more iterations than matches");throw t}return R+=i,i.length}const O=P(t);if(!O)throw ht(l.replace("{}",t)),new Error('Unknown language: "'+t+'"');const M=rt(O,{plugins:o});let E="",T=s||M;const A={},N=new u.__emitter(u);S();let R="",I=0,j=0,z=0,D=!1;try{for(T.matcher.considerAll();;){z++,D?D=!1:T.matcher.considerAll(),T.matcher.lastIndex=j;const t=T.matcher.exec(n);if(!t)break;const e=n.substring(j,t.index),r=C(e,t);j=t.index+r}return C(n.substr(j)),N.closeAllNodes(),N.finalize(),E=N.toHTML(),{relevance:Math.floor(I),value:E,language:t,illegal:!1,emitter:N,top:T}}catch($){if($.message&&$.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:$.message,context:n.slice(j-100,j+100),mode:$.mode},sofar:E,relevance:0,value:gt(n),emitter:N};if(a)return{illegal:!1,relevance:0,value:gt(n),emitter:N,language:t,top:T,errorRaised:$};throw $}}function g(t){const e={relevance:0,emitter:new u.__emitter(u),value:gt(t),illegal:!1,top:c};return e.emitter.addText(t),e}function b(t,n){n=n||u.languages||Object.keys(e);const r=g(t),o=n.filter(P).filter($).map(e=>v(e,t,!1));o.unshift(r);const i=o.sort((t,e)=>{if(t.relevance!==e.relevance)return e.relevance-t.relevance;if(t.language&&e.language){if(P(t.language).supersetOf===e.language)return 1;if(P(e.language).supersetOf===t.language)return-1}return 0}),[a,s]=i,l=a;return l.second_best=s,l}function w(t){return u.tabReplace||u.useBR?t.replace(s,t=>"\n"===t?u.useBR?"<br>":t:u.tabReplace?t.replace(/\t/g,u.tabReplace):t):t}function x(t,e,r){const o=e?n[e]:r;t.classList.add("hljs"),o&&t.classList.add(o)}const k={"before:highlightElement":({el:t})=>{u.useBR&&(t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightElement":({result:t})=>{u.useBR&&(t.value=t.value.replace(/\n/g,"<br>"))}},S=/^(<[^>]+>|\t)+/gm,_={"after:highlightElement":({result:t})=>{u.tabReplace&&(t.value=t.value.replace(S,t=>t.replace(/\t/g,u.tabReplace)))}};function C(t){let e=null;const n=h(t);if(d(n))return;L("before:highlightElement",{el:t,language:n}),e=t;const r=e.textContent,o=n?m(r,{language:n,ignoreIllegals:!0}):b(r);L("after:highlightElement",{el:t,result:o,text:r}),t.innerHTML=o.value,x(t,n,o.language),t.result={language:o.language,re:o.relevance,relavance:o.relevance},o.second_best&&(t.second_best={language:o.second_best.language,re:o.second_best.relevance,relavance:o.second_best.relevance})}function O(t){t.useBR&&(vt("10.3.0","'useBR' will be removed entirely in v11.0"),vt("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),u=yt(u,t)}const M=()=>{if(M.called)return;M.called=!0,vt("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead.");const t=document.querySelectorAll("pre code");t.forEach(C)};function E(){vt("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),T=!0}let T=!1;function A(){if("loading"===document.readyState)return void(T=!0);const t=document.querySelectorAll("pre code");t.forEach(C)}function N(){T&&A()}function R(n,r){let o=null;try{o=r(t)}catch(i){if(ht("Language definition for '{}' could not be registered.".replace("{}",n)),!a)throw i;ht(i),o=c}o.name||(o.name=n),e[n]=o,o.rawDefinition=r.bind(null,t),o.aliases&&D(o.aliases,{languageName:n})}function I(t){delete e[t];for(const e of Object.keys(n))n[e]===t&&delete n[e]}function j(){return Object.keys(e)}function z(t){vt("10.4.0","requireLanguage will be removed entirely in v11."),vt("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const e=P(t);if(e)return e;const n=new Error("The '{}' language is required, but not loaded.".replace("{}",t));throw n}function P(t){return t=(t||"").toLowerCase(),e[t]||e[n[t]]}function D(t,{languageName:e}){"string"===typeof t&&(t=[t]),t.forEach(t=>{n[t.toLowerCase()]=e})}function $(t){const e=P(t);return e&&!e.disableAutodetect}function F(t){t["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=e=>{t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=e=>{t["after:highlightBlock"](Object.assign({block:e.el},e))})}function B(t){F(t),o.push(t)}function L(t,e){const n=t;o.forEach((function(t){t[n]&&t[n](e)}))}function V(t){return vt("10.2.0","fixMarkup will be removed entirely in v11.0"),vt("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),w(t)}function q(t){return vt("10.7.0","highlightBlock will be removed entirely in v12.0"),vt("10.7.0","Please use highlightElement now."),C(t)}"undefined"!==typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",N,!1),Object.assign(t,{highlight:m,highlightAuto:b,highlightAll:A,fixMarkup:V,highlightElement:C,highlightBlock:q,configure:O,initHighlighting:M,initHighlightingOnLoad:E,registerLanguage:R,unregisterLanguage:I,listLanguages:j,getLanguage:P,registerAliases:D,requireLanguage:z,autoDetection:$,inherit:yt,addPlugin:B,vuePlugin:lt(t).VuePlugin}),t.debugMode=function(){a=!1},t.safeMode=function(){a=!0},t.versionString=at;for(const i in U)"object"===typeof U[i]&&r(U[i]);return Object.assign(t,U),t.addPlugin(k),t.addPlugin(ct),t.addPlugin(_),t};var xt=wt({});t.exports=xt},"18ff":function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=93)}({0:function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},4:function(t,e){t.exports=n("d010")},93:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"el-dropdown-menu__item",class:{"is-disabled":t.disabled,"el-dropdown-menu__item--divided":t.divided},attrs:{"aria-disabled":t.disabled,tabindex:t.disabled?null:-1},on:{click:t.handleClick}},[t.icon?n("i",{class:t.icon}):t._e(),t._t("default")],2)},o=[];r._withStripped=!0;var i=n(4),a=n.n(i),s={name:"ElDropdownItem",mixins:[a.a],props:{command:{},disabled:Boolean,divided:Boolean,icon:String},methods:{handleClick:function(t){this.dispatch("ElDropdown","menu-item-click",[this.command,this])}}},l=s,c=n(0),u=Object(c["a"])(l,r,o,!1,null,null,null);u.options.__file="packages/dropdown/src/dropdown-item.vue";var d=u.exports;d.install=function(t){t.component(d.name,d)};e["default"]=d}})},"1e63":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"publish-container"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("")]),n("el-breadcrumb-item",[t._v(" "+t._s(t.$route.query.id?"":"")+" ")])],1)],1),n("el-form",{ref:"form",attrs:{model:t.article,"label-width":"60px",rules:t.rules}},[n("el-form-item",{attrs:{label:"",prop:"title"}},[n("el-input",{model:{value:t.article.title,callback:function(e){t.$set(t.article,"title",e)},expression:"article.title"}})],1),n("el-form-item",{attrs:{label:"",prop:"content"}},[n("el-tiptap",{attrs:{extensions:t.extensions,lang:"zh",placeholder:"...",height:400},model:{value:t.article.content,callback:function(e){t.$set(t.article,"content",e)},expression:"article.content"}})],1),n("el-form-item",{attrs:{label:""}},[n("el-radio-group",{model:{value:t.article.cover.type,callback:function(e){t.$set(t.article.cover,"type",e)},expression:"article.cover.type"}},[n("el-radio",{attrs:{label:1}},[t._v("")]),n("el-radio",{attrs:{label:3}},[t._v("")]),n("el-radio",{attrs:{label:0}},[t._v("")]),n("el-radio",{attrs:{label:-1}},[t._v("")])],1),t.article.cover.type>0?n("div",{staticStyle:{display:"flex"}},t._l(t.article.cover.type,(function(e,r){return n("upload-cover",{key:e,model:{value:t.article.cover.images[r],callback:function(e){t.$set(t.article.cover.images,r,e)},expression:"article.cover.images[index]"}})})),1):t._e()],1),n("el-form-item",{attrs:{label:"",prop:"channel_id"}},[n("el-select",{attrs:{placeholder:""},model:{value:t.article.channel_id,callback:function(e){t.$set(t.article,"channel_id",e)},expression:"article.channel_id"}},t._l(t.channels,(function(t,e){return n("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onPublish(!1)}}},[t._v(" "+t._s(t.$route.query.id?"":"")+" ")]),n("el-button",{on:{click:function(e){return t.onPublish(!0)}}},[t._v("")])],1)],1)],1)],1)},o=[],i=n("1da1"),a=(n("96cf"),n("2423")),s=n("685c"),l=n("4ccc"),c=(n("7eef"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-cover-container"},[n("div",{staticClass:"avatar-uploader",on:{click:t.onUploadCover}},[t.value?n("img",{staticClass:"avatar",attrs:{src:t.value}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),n("el-dialog",{attrs:{title:"",visible:t.dialogVisible,"append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-tabs",{attrs:{type:"card"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[n("el-tab-pane",{attrs:{label:"",name:"lib"}},[n("image-list",{ref:"imageList",attrs:{"is-show-Add":!1,"is-show-operation":!1,"is-show-checked":!0}}),n("el-button",{staticStyle:{"margin-top":"10px",float:"right","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.onChooseImage}},[t._v("")])],1),n("el-tab-pane",{attrs:{label:"",name:"upload"}},[n("div",[n("input",{ref:"file",attrs:{type:"file"},on:{change:t.onFileChange}})]),n("div",[n("el-image",{attrs:{src:t.previewImage}})],1),n("el-button",{staticStyle:{"margin-top":"10px",float:"right","margin-right":"10px"},attrs:{type:"primary",loading:t.isUploadLoading},on:{click:t.onConfirmImage}},[t._v("")])],1)],1)],1)],1)}),u=[],d=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("3c33")),p={name:"UploadCover",components:{ImageList:d["a"]},props:["value"],data:function(){return{dialogVisible:!1,activeTab:"lib",checkedFile:"",previewImage:"",isUploadLoading:!1}},methods:{onUploadCover:function(){this.dialogVisible=!0},onChooseImage:function(){this.dialogVisible=!1;var t=this.$refs.imageList.currentCheckedIndex,e=this.$refs.imageList.imageList;this.$emit("input",e[t].url)},onFileChange:function(){var t=this.$refs.file.files[0];if(t){var e=window.URL.createObjectURL(t);this.previewImage=e,this.checkedFile=t}},onConfirmImage:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.checkedFile){e.next=3;break}return t.$msgError(""),e.abrupt("return");case 3:return t.isUploadLoading=!0,n=new FormData,n.append("image",t.checkedFile),e.prev=6,e.next=9,Object(s["d"])(n);case 9:r=e.sent,o=r.data.data.url,t.$emit("input",o),t.$msgSuccess(""),t.isUploadLoading=!1,t.dialogVisible=!1,e.next=22;break;case 17:e.prev=17,e.t0=e["catch"](6),console.log(e.t0),t.$msgError(""),t.isUploadLoading=!1;case 22:case"end":return e.stop()}}),e,null,[[6,17]])})))()}}},f=p,h=(n("f427"),n("2877")),m=Object(h["a"])(f,c,u,!1,null,"09a4e0e4",null),v=m.exports,g={name:"PublishIndex",components:{"el-tiptap":l["f"],UploadCover:v},data:function(){return{article:{title:"",content:"",cover:{type:0,images:[]},channel_id:null},channels:[],extensions:[new l["e"],new l["D"],new l["v"],new l["l"]({level:5}),new l["h"],new l["g"],new l["b"]({bubble:!0}),new l["K"]({bubble:!0,menubar:!1}),new l["q"],new l["y"],new l["t"],new l["c"],new l["u"],new l["s"],new l["p"]({uploadRequest:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("image",t),e.next=4,Object(s["d"])(n);case 4:return r=e.sent,e.abrupt("return",r.data.data.url);case 6:case"end":return e.stop()}}),e)})))()}}),new l["o"],new l["d"],new l["a"],new l["H"],new l["I"],new l["E"],new l["r"],new l["n"],new l["k"],new l["J"],new l["m"],new l["z"],new l["B"],new l["A"],new l["C"],new l["i"],new l["F"],new l["G"],new l["w"],new l["x"],new l["j"]],rules:{title:[{required:!0,message:"",trigger:"blur"},{min:5,max:30,message:" 5-30 ",trigger:"blur"}],content:[{required:!0,message:"",trigger:"blur"},{validator:function(t,e,n){"<p></p>"===e&&n(new Error("")),n()},trigger:"blur"}],channel_id:[{required:!0,message:"",trigger:"blur"}]}}},created:function(){this.loadArticleChannel(),this.$route.query.id&&this.loadArticleInfo()},methods:{loadArticleChannel:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a["b"])();case 3:n=e.sent,t.channels=n.data.data.channels,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},onPublish:function(t){var e=this;this.$refs.form.validate(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return",!1);case 2:if(!e.$route.query.id){n.next=16;break}return n.prev=3,n.next=6,Object(a["f"])(e.$route.query.id,e.article,t);case 6:e.$msgSuccess("".concat(t?"":"","")),e.$router.push({name:"article"}),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](3),e.$msgError("".concat(t?"":"","")),console.log(n.t0);case 14:n.next=27;break;case 16:return n.prev=16,n.next=19,Object(a["e"])(e.article,t);case 19:e.$msgSuccess("".concat(t?"":"","")),e.$router.push({name:"article"}),n.next=27;break;case 23:n.prev=23,n.t1=n["catch"](16),e.$msgError("".concat(t?"":"","")),console.log(n.t1);case 27:case"end":return n.stop()}}),n,null,[[3,10],[16,23]])})));return function(t){return n.apply(this,arguments)}}())},loadArticleInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a["c"])(t.$route.query.id);case 3:n=e.sent,t.article=n.data.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},y=g,b=Object(h["a"])(y,r,o,!1,null,"5fe943e6",null);e["default"]=b.exports},2423:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"f",(function(){return c}));var r=n("b775"),o=function(t){return Object(r["a"])({method:"GET",url:"/mp/v1_0/articles",params:t})},i=function(){return Object(r["a"])({method:"GET",url:"/mp/v1_0/channels"})},a=function(t){return Object(r["a"])({method:"DELETE",url:"/mp/v1_0/articles/".concat(t)})},s=function(t,e){return Object(r["a"])({method:"POST",url:"/mp/v1_0/articles",params:{draft:e},data:t})},l=function(t){return Object(r["a"])({method:"GET",url:"/mp/v1_0/articles/".concat(t)})},c=function(t,e,n){return Object(r["a"])({method:"PUT",url:"/mp/v1_0/articles/".concat(t),params:{draft:n},data:e})}},"304a":function(t,e,n){"use strict";function r(t){this.content=t}n.r(e),n.d(e,"ContentMatch",(function(){return L})),n.d(e,"DOMParser",(function(){return ft})),n.d(e,"DOMSerializer",(function(){return At})),n.d(e,"Fragment",(function(){return l})),n.d(e,"Mark",(function(){return f})),n.d(e,"MarkType",(function(){return ut})),n.d(e,"Node",(function(){return D})),n.d(e,"NodeRange",(function(){return j})),n.d(e,"NodeType",(function(){return at})),n.d(e,"ReplaceError",(function(){return h})),n.d(e,"ResolvedPos",(function(){return T})),n.d(e,"Schema",(function(){return dt})),n.d(e,"Slice",(function(){return m})),r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,i=o.find(t),a=o.content.slice();return-1==i?a.push(n||t,e):(a[i+1]=e,n&&(a[i]=n)),new r(a)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var o=this.remove(e),i=o.content.slice(),a=o.find(t);return i.splice(-1==a?i.length:a,0,e,n),new r(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=r.from(t),t.size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=r.from(t),t.size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};var o=r,i=o;function a(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var o=t.child(r),i=e.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){var l=a(o.content,i.content,n+1);if(null!=l)return l}n+=o.nodeSize}else n+=o.nodeSize}}function s(t,e,n,r){for(var o=t.childCount,i=e.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};var a=t.child(--o),l=e.child(--i),c=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){var u=0,d=Math.min(a.text.length,l.text.length);while(u<d&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1])u++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){var p=s(a.content,l.content,n-1,r-1);if(p)return p}n-=c,r-=c}else n-=c,r-=c}}var l=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},c={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};l.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,a=0;a<e;i++){var s=this.content[i],l=a+s.nodeSize;if(l>t&&!1!==n(s,r+a,o,i)&&s.content.size){var c=a+1;s.nodesBetween(Math.max(0,t-c),Math.min(s.content.size,e-c),n,r+c)}a=l}},l.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},l.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,(function(a,s){a.isText?(o+=a.text.slice(Math.max(t,s)-s,e-s),i=!n):a.isLeaf&&r?(o+=r,i=!n):!i&&a.isBlock&&(o+=n,i=!0)}),0),o},l.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new l(r,this.size+t.size)},l.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,i=0;i<e;o++){var a=this.content[o],s=i+a.nodeSize;s>t&&((i<t||s>e)&&(a=a.isText?a.cut(Math.max(0,t-i),Math.min(a.text.length,e-i)):a.cut(Math.max(0,t-i-1),Math.min(a.content.size,e-i-1))),n.push(a),r+=a.nodeSize),i=s}return new l(n,r)},l.prototype.cutByIndex=function(t,e){return t==e?l.empty:0==t&&e==this.content.length?this:new l(this.content.slice(t,e))},l.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new l(r,o)},l.prototype.addToStart=function(t){return new l([t].concat(this.content),this.size+t.nodeSize)},l.prototype.addToEnd=function(t){return new l(this.content.concat(t),this.size+t.nodeSize)},l.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},c.firstChild.get=function(){return this.content.length?this.content[0]:null},c.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},c.childCount.get=function(){return this.content.length},l.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},l.prototype.maybeChild=function(t){return this.content[t]},l.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},l.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),a(this,t,e)},l.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),s(this,t,e,n)},l.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return d(0,t);if(t==this.size)return d(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=this.child(n),i=r+o.nodeSize;if(i>=t)return i==t||e>0?d(n+1,i):d(n,r);r=i}},l.prototype.toString=function(){return"<"+this.toStringInner()+">"},l.prototype.toStringInner=function(){return this.content.join(", ")},l.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},l.fromJSON=function(t,e){if(!e)return l.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new l(e.map(t.nodeFromJSON))},l.fromArray=function(t){if(!t.length)return l.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new l(e||t,n)},l.from=function(t){if(!t)return l.empty;if(t instanceof l)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new l([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(l.prototype,c);var u={index:0,offset:0};function d(t,e){return u.index=t,u.offset=e,u}function p(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!p(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!p(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}l.empty=new l([],0);var f=function(t,e){this.type=t,this.attrs=e};function h(t){var e=Error.call(this,t);return e.__proto__=h.prototype,e}f.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},f.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},f.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},f.prototype.eq=function(t){return this==t||this.type==t.type&&p(this.attrs,t.attrs)},f.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},f.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},f.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},f.setFrom=function(t){if(!t||0==t.length)return f.none;if(t instanceof f)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},f.none=[],h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.name="ReplaceError";var m=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},v={size:{configurable:!0}};function g(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,a=t.maybeChild(o),s=t.findIndex(n),l=s.index,c=s.offset;if(i==e||a.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(o,a.copy(g(a.content,e-i-1,n-i-1)))}function y(t,e,n,r){var o=t.findIndex(e),i=o.index,a=o.offset,s=t.maybeChild(i);if(a==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var l=y(s.content,e-a-1,n);return l&&t.replaceChild(i,s.copy(l))}function b(t,e,n){if(n.openStart>t.depth)throw new h("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new h("Inconsistent open depths");return w(t,e,n,0)}function w(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var a=w(t,e,n,r+1);return i.copy(i.content.replaceChild(o,a))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var s=E(n,t),l=s.start,c=s.end;return C(i,O(t,l,c,e,r))}var u=t.parent,d=u.content;return C(u,d.cut(0,t.parentOffset).append(n.content).append(d.cut(e.parentOffset)))}return C(i,M(t,e,r))}function x(t,e){if(!e.type.compatibleContent(t.type))throw new h("Cannot join "+e.type.name+" onto "+t.type.name)}function k(t,e,n){var r=t.node(n);return x(r,e.node(n)),r}function S(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function _(t,e,n,r){var o=(e||t).node(n),i=0,a=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(S(t.nodeAfter,r),i++));for(var s=i;s<a;s++)S(o.child(s),r);e&&e.depth==n&&e.textOffset&&S(e.nodeBefore,r)}function C(t,e){if(!t.type.validContent(e))throw new h("Invalid content for node "+t.type.name);return t.copy(e)}function O(t,e,n,r,o){var i=t.depth>o&&k(t,e,o+1),a=r.depth>o&&k(n,r,o+1),s=[];return _(null,t,o,s),i&&a&&e.index(o)==n.index(o)?(x(i,a),S(C(i,O(t,e,n,r,o+1)),s)):(i&&S(C(i,M(t,e,o+1)),s),_(e,n,o,s),a&&S(C(a,M(n,r,o+1)),s)),_(r,null,o,s),new l(s)}function M(t,e,n){var r=[];if(_(null,t,n,r),t.depth>n){var o=k(t,e,n+1);S(C(o,M(t,e,n+1)),r)}return _(e,null,n,r),new l(r)}function E(t,e){for(var n=e.depth-t.openStart,r=e.node(n),o=r.copy(t.content),i=n-1;i>=0;i--)o=e.node(i).copy(l.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}v.size.get=function(){return this.content.size-this.openStart-this.openEnd},m.prototype.insertAt=function(t,e){var n=y(this.content,t+this.openStart,e,null);return n&&new m(n,this.openStart,this.openEnd)},m.prototype.removeBetween=function(t,e){return new m(g(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},m.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},m.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},m.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},m.fromJSON=function(t,e){if(!e)return m.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new m(l.fromJSON(t,e.content),n,r)},m.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new m(t,n,r)},Object.defineProperties(m.prototype,v),m.empty=new m(l.empty,0,0);var T=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},A={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};T.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},A.parent.get=function(){return this.node(this.depth)},A.doc.get=function(){return this.node(0)},T.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},T.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},T.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},T.prototype.start=function(t){return t=this.resolveDepth(t),0==t?0:this.path[3*t-1]+1},T.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},T.prototype.before=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},T.prototype.after=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},A.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},A.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},A.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},T.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,o=0;o<t;o++)r+=n.child(o).nodeSize;return r},T.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return f.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var o=n;n=r,r=o}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i},T.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},T.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},T.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new j(this,t,n)},T.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},T.prototype.max=function(t){return t.pos>this.pos?t:this},T.prototype.min=function(t){return t.pos<this.pos?t:this},T.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},T.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var a=i.content.findIndex(o),s=a.index,l=a.offset,c=o-l;if(n.push(i,s,r+l),!c)break;if(i=i.child(s),i.isText)break;o=c-1,r+=l+1}return new T(e,n,o)},T.resolveCached=function(t,e){for(var n=0;n<N.length;n++){var r=N[n];if(r.pos==e&&r.doc==t)return r}var o=N[R]=T.resolve(t,e);return R=(R+1)%I,o},Object.defineProperties(T.prototype,A);var N=[],R=0,I=12,j=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},z={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};z.start.get=function(){return this.$from.before(this.depth+1)},z.end.get=function(){return this.$to.after(this.depth+1)},z.parent.get=function(){return this.$from.node(this.depth)},z.startIndex.get=function(){return this.$from.index(this.depth)},z.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(j.prototype,z);var P=Object.create(null),D=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||l.empty,this.marks=r||f.none},$={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};$.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},$.childCount.get=function(){return this.content.childCount},D.prototype.child=function(t){return this.content.child(t)},D.prototype.maybeChild=function(t){return this.content.maybeChild(t)},D.prototype.forEach=function(t){this.content.forEach(t)},D.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},D.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},$.textContent.get=function(){return this.textBetween(0,this.content.size,"")},D.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},$.firstChild.get=function(){return this.content.firstChild},$.lastChild.get=function(){return this.content.lastChild},D.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},D.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},D.prototype.hasMarkup=function(t,e,n){return this.type==t&&p(this.attrs,e||t.defaultAttrs||P)&&f.sameSet(this.marks,n||f.none)},D.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},D.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},D.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},D.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return m.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),a=r.start(i),s=r.node(i),l=s.content.cut(r.pos-a,o.pos-a);return new m(l,r.depth-i,o.depth-i)},D.prototype.replace=function(t,e,n){return b(this.resolve(t),this.resolve(e),n)},D.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(e=e.maybeChild(r),!e)return null;if(o==t||e.isText)return e;t-=o+1}},D.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},D.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},D.prototype.resolve=function(t){return T.resolveCached(this,t)},D.prototype.resolveNoCache=function(t){return T.resolve(this,t)},D.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},$.isBlock.get=function(){return this.type.isBlock},$.isTextblock.get=function(){return this.type.isTextblock},$.inlineContent.get=function(){return this.type.inlineContent},$.isInline.get=function(){return this.type.isInline},$.isText.get=function(){return this.type.isText},$.isLeaf.get=function(){return this.type.isLeaf},$.isAtom.get=function(){return this.type.isAtom},D.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),B(this.marks,t)},D.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},D.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=l.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(t).matchFragment(n,r,o),a=i&&i.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(var s=r;s<o;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0},D.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},D.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},D.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=f.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!f.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},D.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},D.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=l.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(D.prototype,$);var F=function(t){function e(e,n,r,o){if(t.call(this,e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):B(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(D);function B(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var L=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},V={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};L.parse=function(t,e){var n=new q(t,e);if(null==n.next)return L.empty;var r=W(n);n.next&&n.err("Unexpected trailing text");var o=et(Y(r));return nt(o,n),o},L.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},L.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},V.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},V.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},L.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},L.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];function o(i,a){var s=i.matchFragment(t,n);if(s&&(!e||s.validEnd))return l.from(a.map((function(t){return t.createAndFill()})));for(var c=0;c<i.next.length;c+=2){var u=i.next[c],d=i.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==r.indexOf(d)){r.push(d);var p=o(d,a.concat(u));if(p)return p}}}return o(this,[])},L.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},L.prototype.computeWrapping=function(t){var e=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var s=0;s<o.next.length;s+=2){var l=o.next[s];l.isLeaf||l.hasRequiredAttrs()||l.name in e||r.type&&!o.next[s+1].validEnd||(n.push({match:l.contentMatch,type:l,via:r}),e[l.name]=!0)}}},V.edgeCount.get=function(){return this.next.length>>1},L.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},L.prototype.toString=function(){var t=[];function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}return e(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)r+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return r})).join("\n")},Object.defineProperties(L.prototype,V),L.empty=new L(!0);var q=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},H={next:{configurable:!0}};function W(t){var e=[];do{e.push(U(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function U(t){var e=[];do{e.push(J(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function J(t){for(var e=Z(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=G(t,e)}return e}function K(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function G(t,e){var n=K(t),r=n;return t.eat(",")&&(r="}"!=t.next?K(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function X(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var a=n[i];a.groups.indexOf(e)>-1&&o.push(a)}return 0==o.length&&t.err("No node type or group '"+e+"' found"),o}function Z(t){if(t.eat("(")){var e=W(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=X(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}function Y(t){var e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach((function(t){return t.to=e}))}function i(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(i(n,e))}),[]);if("seq"==t.type)for(var a=0;;a++){var s=i(t.exprs[a],e);if(a==t.exprs.length-1)return s;o(s,e=n())}else{if("star"==t.type){var l=n();return r(e,l),o(i(t.expr,l),l),[r(l)]}if("plus"==t.type){var c=n();return o(i(t.expr,e),c),o(i(t.expr,c),c),[r(c)]}if("opt"==t.type)return[r(e)].concat(i(t.expr,e));if("range"==t.type){for(var u=e,d=0;d<t.min;d++){var p=n();o(i(t.expr,u),p),u=p}if(-1==t.max)o(i(t.expr,u),u);else for(var f=t.min;f<t.max;f++){var h=n();r(u,h),o(i(t.expr,u),h),u=h}return[r(u)]}if("name"==t.type)return[r(e,null,t.value)]}}}function Q(t,e){return e-t}function tt(t,e){var n=[];return r(e),n.sort(Q);function r(e){var o=t[e];if(1==o.length&&!o[0].term)return r(o[0].to);n.push(e);for(var i=0;i<o.length;i++){var a=o[i],s=a.term,l=a.to;s||-1!=n.indexOf(l)||r(l)}}}function et(t){var e=Object.create(null);return n(tt(t,0));function n(r){var o=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),a=i>-1&&o[i+1];tt(t,r).forEach((function(t){a||o.push(n,a=[]),-1==a.indexOf(t)&&a.push(t)}))}}))}));for(var i=e[r.join(",")]=new L(r.indexOf(t.length-1)>-1),a=0;a<o.length;a+=2){var s=o[a+1].sort(Q);i.next.push(o[a],e[s.join(",")]||n(s))}return i}}function nt(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,a=[],s=0;s<o.next.length;s+=2){var l=o.next[s],c=o.next[s+1];a.push(l.name),!i||l.isText||l.hasRequiredAttrs()||(i=!1),-1==r.indexOf(c)&&r.push(c)}i&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function rt(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function ot(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function it(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new lt(t[n]);return e}H.next.get=function(){return this.tokens[this.pos]},q.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},q.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(q.prototype,H);var at=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=it(n.attrs),this.defaultAttrs=rt(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},st={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};st.isInline.get=function(){return!this.isBlock},st.isTextblock.get=function(){return this.isBlock&&this.inlineContent},st.isLeaf.get=function(){return this.contentMatch==L.empty},st.isAtom.get=function(){return this.isLeaf||this.spec.atom},at.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},at.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},at.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:ot(this.attrs,t)},at.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new D(this,this.computeAttrs(t),l.from(e),f.setFrom(n))},at.prototype.createChecked=function(t,e,n){if(e=l.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new D(this,this.computeAttrs(t),e,f.setFrom(n))},at.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),e=l.from(e),e.size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(l.empty,!0);return o?new D(this,t,e.append(o),f.setFrom(n)):null},at.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},at.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},at.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},at.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:f.empty:t},at.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new at(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(at.prototype,st);var lt=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},ct={isRequired:{configurable:!0}};ct.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(lt.prototype,ct);var ut=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=it(r.attrs),this.rank=e,this.excluded=null;var o=rt(this.attrs);this.instance=o&&new f(this,o)};ut.prototype.create=function(t){return!t&&this.instance?this.instance:new f(this,ot(this.attrs,t))},ut.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,o){return n[t]=new ut(t,r++,e,o)})),n},ut.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t},ut.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},ut.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var dt=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=i.from(t.nodes),this.spec.marks=i.from(t.marks),this.nodes=at.compile(this.spec.nodes,this),this.marks=ut.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var o=this.nodes[r],a=o.spec.content||"",s=o.spec.marks;o.contentMatch=n[a]||(n[a]=L.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==s?null:s?pt(this,s.split(" ")):""!=s&&o.inlineContent?null:[]}for(var l in this.marks){var c=this.marks[l],u=c.spec.excludes;c.excluded=null==u?[c]:""==u?[]:pt(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function pt(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=t.marks[o],a=i;if(i)n.push(i);else for(var s in t.marks){var l=t.marks[s];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}dt.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof at))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},dt.prototype.text=function(t,e){var n=this.nodes.text;return new F(n,n.defaultAttrs,t,f.setFrom(e))},dt.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},dt.prototype.nodeFromJSON=function(t){return D.fromJSON(this,t)},dt.prototype.markFromJSON=function(t){return f.fromJSON(this,t)},dt.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var ft=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))};ft.prototype.parse=function(t,e){void 0===e&&(e={});var n=new kt(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},ft.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new kt(this,e,!0);return n.addAll(t,null,e.from,e.to),m.maxOpen(n.finish())},ft.prototype.matchTag=function(t,e,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(Ct(t,o.tag)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(t);if(!1===i)continue;o.attrs=i}return o}}},ft.prototype.matchStyle=function(t,e,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(t)||i.context&&!n.matchesContext(i.context)||i.style.length>t.length&&(61!=i.style.charCodeAt(t.length)||i.style.slice(t.length+1)!=e))){if(i.getAttrs){var a=i.getAttrs(e);if(!1===a)continue;i.attrs=a}return i}}},ft.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var o=e[r],i=null==o.priority?50:o.priority;if(i<n)break}e.splice(r,0,t)}var r=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach((function(t){n(t=Mt(t)),t.mark=e}))};for(var o in t.marks)r(o);var i=function(e){var r=t.nodes[a].spec.parseDOM;r&&r.forEach((function(t){n(t=Mt(t)),t.node=a}))};for(var a in t.nodes)i();return e},ft.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new ft(t,ft.schemaRules(t)))};var ht={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},mt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},vt={ol:!0,ul:!0},gt=1,yt=2,bt=4;function wt(t){return(t?gt:0)|("full"===t?yt:0)}var xt=function(t,e,n,r,o,i,a){this.type=t,this.attrs=e,this.solid=o,this.match=i||(a&bt?null:t.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=f.none,this.pendingMarks=r,this.stashMarks=[]};xt.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(l.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},xt.prototype.finish=function(t){if(!(this.options&gt)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=l.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(l.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},xt.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},xt.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):Et(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},xt.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!ht.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var kt=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=wt(e.preserveWhitespace)|(n?bt:0);r=o?new xt(o.type,o.attrs,f.none,f.none,!0,e.topMatch||o.type.contentMatch,i):new xt(n?null:t.schema.topNodeType,null,f.none,f.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},St={top:{configurable:!0},currentPos:{configurable:!0}};function _t(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&vt.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}function Ct(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Ot(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];while(e=n.exec(t))r.push(e[1],e[2].trim());return r}function Mt(t){var e={};for(var n in t)e[n]=t[n];return e}function Et(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[],a=function(t){i.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),o=r.type,s=r.next;if(o==e)return!0;if(i.indexOf(s)<0&&a(s))return!0}};return a(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}function Tt(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}St.top.get=function(){return this.nodes[this.open]},kt.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(Ot(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},kt.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(n.options&yt||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(n.options&gt)e=n.options&yt?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},kt.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();vt.hasOwnProperty(r)&&this.parser.normalizeLists&&_t(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(o?o.ignore:mt.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var i,a=this.top,s=this.needsBlock;if(ht.hasOwnProperty(r))i=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),i&&this.sync(a),this.needsBlock=s}else this.addElementByRule(t,o,!1===o.consuming?n:null)},kt.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},kt.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},kt.prototype.readStyles=function(t){var e=f.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(t[n],t[n+1],this,r);if(!o)continue t;if(o.ignore)return null;if(e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),!1!==o.consuming)break;r=o}return e},kt.prototype.addElementByRule=function(t,e,n){var r,o,i,a,s=this;e.node?(o=this.parser.schema.nodes[e.node],o.isLeaf?this.insertNode(o.create(e.attrs))||this.leafFallback(t):r=this.enter(o,e.attrs,e.preserveWhitespace)):(i=this.parser.schema.marks[e.mark],a=i.create(e.attrs),this.addPendingMark(a));var l=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return s.insertNode(t)}));else{var c=e.contentElement;"string"==typeof c?c=t.querySelector(c):"function"==typeof c&&(c=c(t)),c||(c=t),this.findAround(t,c,!0),this.addAll(c,r)}r&&(this.sync(l),this.open--),a&&this.removePendingMark(a,l)},kt.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,a=null==r?null:t.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&ht.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},kt.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var a=0;a<e.length;a++)this.enterInner(e[a],null,!1);return!0},kt.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},kt.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},kt.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=null==r?o.options&~bt:wt(r);o.options&bt&&0==o.content.length&&(i|=bt),this.nodes.push(new xt(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},kt.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},kt.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},kt.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},St.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},kt.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},kt.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},kt.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)){var o=e.compareDocumentPosition(this.find[r].node);o&(n?2:4)&&(this.find[r].pos=this.currentPos)}},kt.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},kt.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),a=function(t,s){for(;t>=0;t--){var l=n[t];if(""==l){if(t==n.length-1||0==t)continue;for(;s>=i;s--)if(a(t-1,s))return!0;return!1}var c=s>0||0==s&&o?e.nodes[s].type:r&&s>=i?r.node(s-i).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;s--}return!0};return a(n.length-1,this.open)},kt.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},kt.prototype.addPendingMark=function(t){var e=Tt(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},kt.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n],o=r.pendingMarks.lastIndexOf(t);if(o>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var i=r.popFromStashMark(t);i&&r.type&&r.type.allowsMarkType(i.type)&&(r.activeMarks=i.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(kt.prototype,St);var At=function(t,e){this.nodes=t||{},this.marks=e||{}};function Nt(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Rt(t){return t.document||window.document}At.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=Rt(e).createDocumentFragment());var o=n,i=null;return t.forEach((function(t){if(i||t.marks.length){i||(i=[]);var n=0,a=0;while(n<i.length&&a<t.marks.length){var s=t.marks[a];if(r.marks[s.type.name]){if(!s.eq(i[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}while(n<i.length)o=i.pop(),i.pop();while(a<t.marks.length){var l=t.marks[a++],c=r.serializeMark(l,t.isInline,e);c&&(i.push(l,o),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(r.serializeNodeInner(t,e))})),n},At.prototype.serializeNodeInner=function(t,e){void 0===e&&(e={});var n=At.renderSpec(Rt(e),this.nodes[t.type.name](t)),r=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return r},At.prototype.serializeNode=function(t,e){void 0===e&&(e={});for(var n=this.serializeNodeInner(t,e),r=t.marks.length-1;r>=0;r--){var o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},At.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&At.renderSpec(Rt(n),r(t,e))},At.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var r=e[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,a=n?t.createElementNS(n,r):t.createElement(r),s=e[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var c in l=2,s)if(null!=s[c]){var u=c.indexOf(" ");u>0?a.setAttributeNS(c.slice(0,u),c.slice(u+1),s[c]):a.setAttribute(c,s[c])}for(var d=l;d<e.length;d++){var p=e[d];if(0===p){if(d<e.length-1||d>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var f=At.renderSpec(t,p,n),h=f.dom,m=f.contentDOM;if(a.appendChild(h),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:a,contentDOM:i}},At.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new At(this.nodesFromSchema(t),this.marksFromSchema(t)))},At.nodesFromSchema=function(t){var e=Nt(t.nodes);return e.text||(e.text=function(t){return t.text}),e},At.marksFromSchema=function(t){return Nt(t.marks)}},"3c33":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"image-list-container"},[n("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("el-radio-group",{attrs:{size:"mini"},on:{change:t.onLabelChange},model:{value:t.isCollect,callback:function(e){t.isCollect=e},expression:"isCollect"}},[n("el-radio-button",{attrs:{label:!1}},[t._v("")]),n("el-radio-button",{attrs:{label:!0}},[t._v("")])],1),t.isShowAdd?n("el-button",{attrs:{type:"success",round:"",size:"mini"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("")]):t._e()],1),n("el-row",{staticClass:"image-list-wrapper",attrs:{gutter:20}},t._l(t.imageList,(function(e,r){return n("el-col",{key:r,staticClass:"image-container",attrs:{lg:4,md:6,sm:8,xs:12}},[n("div",{staticClass:"image-wrapper"},[n("el-image",{staticClass:"image",staticStyle:{height:"150px",width:"100%"},attrs:{src:e.url,"preview-src-list":t.isShowOperation?[e.url]:null,fit:"fill",lazy:""},on:{click:function(e){!t.isShowOperation&&t.onImageCheck(r)}}}),t.isShowChecked&&r===t.currentCheckedIndex?n("div",{staticClass:"image-check"},[n("i",{staticClass:"el-icon-check"})]):t._e(),t.isShowOperation?n("div",{staticClass:"image-operation"},[n("el-button",{attrs:{icon:e.is_collected?"iconfont icon-shoucang2":"iconfont icon-shoucang_quxiaoshoucang",circle:"",size:"mini",type:"warning",loading:e.isLoading},on:{click:function(n){return t.onStar(!e.is_collected,e.id,r)}}}),n("el-button",{attrs:{icon:"iconfont icon-shanchu",circle:"",type:"danger",size:"mini",loading:e.isLoading},on:{click:function(n){return t.onDelete(e.id,r)}}})],1):t._e()],1)])})),1),n("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":t.page,layout:"prev, pager, next",total:t.totalCount},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"current-change":function(e){return t.loadImageList(t.page)}}}),n("el-dialog",{attrs:{title:"",visible:t.dialogVisible,"append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.dialogVisible?n("el-upload",{attrs:{drag:"",action:"http://api-toutiao-web.itheima.net/mp/v1_0/user/images",headers:t.uploadHeaders,name:"image","on-success":t.onUploadSuccess,"on-error":t.onUploadError,multiple:""}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[t._v(""),n("em",[t._v("")])]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("")])]):t._e()],1)],1)},o=[],i=n("1da1"),a=(n("96cf"),n("159b"),n("685c")),s={name:"ImageList",props:{isShowAdd:{type:Boolean,default:!0},isShowOperation:{type:Boolean,default:!0},isShowChecked:{type:Boolean,default:!1}},data:function(){var t=window.localStorage.getItem("user");return{isCollect:!1,perPage:12,imageList:[],totalCount:0,page:1,dialogVisible:!1,uploadHeaders:{Authorization:"Bearer ".concat(t)},currentCheckedIndex:null}},created:function(){this.loadImageList(1)},methods:{loadImageList:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,o,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.currentCheckedIndex=null,n.prev=1,n.next=4,Object(a["b"])({page:t,collect:e.isCollect,per_page:e.perPage});case 4:r=n.sent,o=r.data.data,i=o.results,s=o.total_count,i.forEach((function(t){t.isLoading=!1})),e.imageList=i,e.totalCount=s,n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](1),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()},onLabelChange:function(){this.loadImageList(1)},onUploadSuccess:function(){this.dialogVisible=!1,this.loadImageList(1),this.$msgSuccess("")},onUploadError:function(){this.dialogVisible=!1,this.loadImageList(1),this.$msgError("")},onStar:function(t,e,n){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r.imageList[n].isLoading=!0,o.prev=1,o.next=4,Object(a["c"])({collect:t},e);case 4:r.loadImageList(r.page),r.imageList[n].isLoading=!1,r.$msgSuccess("".concat(t?"":"","")),o.next=14;break;case 9:o.prev=9,o.t0=o["catch"](1),console.log(o.t0),r.imageList[n].isLoading=!1,r.$msgError("".concat(t?"":"",""));case 14:case"end":return o.stop()}}),o,null,[[1,9]])})))()},onDelete:function(t,e){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.imageList[e].isLoading=!0,r.prev=1,r.next=4,Object(a["a"])(t);case 4:n.loadImageList(n.page),n.imageList[e].isLoading=!1,n.$msgSuccess(""),r.next=14;break;case 9:r.prev=9,r.t0=r["catch"](1),console.log(r.t0),n.imageList[e].isLoading=!1,n.$msgError("");case 14:case"end":return r.stop()}}),r,null,[[1,9]])})))()},onImageCheck:function(t){this.currentCheckedIndex=t}}},l=s,c=(n("5764"),n("2877")),u=Object(c["a"])(l,r,o,!1,null,"60a747fc",null);e["a"]=u.exports},"3ce4":function(t,e,n){"use strict";var r=n("1020"),o=n("073e");e.highlight=a,e.highlightAuto=s,e.registerLanguage=l,e.listLanguages=c,e.registerAlias=u,d.prototype.addText=h,d.prototype.addKeyword=p,d.prototype.addSublanguage=f,d.prototype.openNode=m,d.prototype.closeNode=v,d.prototype.closeAllNodes=y,d.prototype.finalize=y,d.prototype.toHTML=g;var i="hljs-";function a(t,e,n){var a,s=r.configure({}),l=n||{},c=l.prefix;if("string"!==typeof t)throw o("Expected `string` for name, got `%s`",t);if(!r.getLanguage(t))throw o("Unknown language: `%s` is not registered",t);if("string"!==typeof e)throw o("Expected `string` for value, got `%s`",e);if(null!==c&&void 0!==c||(c=i),r.configure({__emitter:d,classPrefix:c}),a=r.highlight(e,{language:t,ignoreIllegals:!0}),r.configure(s||{}),a.errorRaised)throw a.errorRaised;return{relevance:a.relevance,language:a.language,value:a.emitter.rootNode.children}}function s(t,e){var n,s,l,c,u=e||{},d=u.subset||r.listLanguages(),p=u.prefix,f=d.length,h=-1;if(null!==p&&void 0!==p||(p=i),"string"!==typeof t)throw o("Expected `string` for value, got `%s`",t);s={relevance:0,language:null,value:[]},n={relevance:0,language:null,value:[]};while(++h<f)c=d[h],r.getLanguage(c)&&(l=a(c,t,e),l.language=c,l.relevance>s.relevance&&(s=l),l.relevance>n.relevance&&(s=n,n=l));return s.language&&(n.secondBest=s),n}function l(t,e){r.registerLanguage(t,e)}function c(){return r.listLanguages()}function u(t,e){var n,o=t;for(n in e&&(o={},o[t]=e),o)r.registerAliases(o[n],{languageName:n})}function d(t){this.options=t,this.rootNode={children:[]},this.stack=[this.rootNode]}function p(t,e){this.openNode(e),this.addText(t),this.closeNode()}function f(t,e){var n=this.stack,r=n[n.length-1],o=t.rootNode.children,i=e?{type:"element",tagName:"span",properties:{className:[e]},children:o}:o;r.children=r.children.concat(i)}function h(t){var e,n,r=this.stack;""!==t&&(e=r[r.length-1],n=e.children[e.children.length-1],n&&"text"===n.type?n.value+=t:e.children.push({type:"text",value:t}))}function m(t){var e=this.stack,n=this.options.classPrefix+t,r=e[e.length-1],o={type:"element",tagName:"span",properties:{className:[n]},children:[]};r.children.push(o),e.push(o)}function v(){this.stack.pop()}function g(){return""}function y(){}},"4ccc":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return Tu})),n.d(e,"b",(function(){return ef})),n.d(e,"c",(function(){return Iu})),n.d(e,"d",(function(){return Au})),n.d(e,"e",(function(){return ru})),n.d(e,"f",(function(){return nu})),n.d(e,"g",(function(){return Pf})),n.d(e,"h",(function(){return Nf})),n.d(e,"i",(function(){return zh})),n.d(e,"j",(function(){return $h})),n.d(e,"l",(function(){return Mu})),n.d(e,"m",(function(){return $f})),n.d(e,"n",(function(){return Df})),n.d(e,"o",(function(){return tf})),n.d(e,"p",(function(){return $p})),n.d(e,"q",(function(){return rf})),n.d(e,"r",(function(){return Jf})),n.d(e,"s",(function(){return pf})),n.d(e,"t",(function(){return Ru})),n.d(e,"u",(function(){return ju})),n.d(e,"v",(function(){return vu})),n.d(e,"w",(function(){return Wh})),n.d(e,"x",(function(){return Vh})),n.d(e,"y",(function(){return af})),n.d(e,"z",(function(){return Zp})),n.d(e,"E",(function(){return Lf})),n.d(e,"F",(function(){return bf})),n.d(e,"G",(function(){return wf})),n.d(e,"H",(function(){return qp})),n.d(e,"I",(function(){return Hp})),n.d(e,"K",(function(){return nf}));var r=n("2b0e"),o=n("cd42");n.d(e,"D",(function(){return o["l"]}));var i=n("f23d");n.d(e,"k",(function(){return i["e"]})),n.d(e,"A",(function(){return i["q"]})),n.d(e,"B",(function(){return i["r"]})),n.d(e,"C",(function(){return i["s"]})),n.d(e,"J",(function(){return i["v"]}));var a=n("5313"),s=n("986d"),l=n("299c"),c=n.n(l),u=n("eedf"),d=n.n(u),p=n("dcdc"),f=n.n(p),h=n("df33"),m=n.n(h),v=n("18ff"),g=n.n(v),y=n("defb"),b=n.n(y),w=n("b370"),x=n.n(w),k=n("6ac9"),S=n.n(k),_=n("89a9"),C=n.n(_),O=n("6ed5"),M=n.n(O),E=n("304a"),T=n("55be"),A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function N(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function R(t,e){return t(e={exports:{}},e.exports),e.exports}function I(t){return t&&t.default||t}var j=function(t){return t&&t.Math==Math&&t},z=j("object"==typeof globalThis&&globalThis)||j("object"==typeof window&&window)||j("object"==typeof self&&self)||j("object"==typeof A&&A)||Function("return this")(),P=function(t){try{return!!t()}catch(t){return!0}},D=!P((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),$={}.propertyIsEnumerable,F=Object.getOwnPropertyDescriptor,B={f:F&&!$.call({1:2},1)?function(t){var e=F(this,t);return!!e&&e.enumerable}:$},L=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},V={}.toString,q=function(t){return V.call(t).slice(8,-1)},H="".split,W=P((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==q(t)?H.call(t,""):Object(t)}:Object,U=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},J=function(t){return W(U(t))},K=function(t){return"object"==typeof t?null!==t:"function"==typeof t},G=function(t,e){if(!K(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!K(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!K(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!K(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},X={}.hasOwnProperty,Z=function(t,e){return X.call(t,e)},Y=z.document,Q=K(Y)&&K(Y.createElement),tt=function(t){return Q?Y.createElement(t):{}},et=!D&&!P((function(){return 7!=Object.defineProperty(tt("div"),"a",{get:function(){return 7}}).a})),nt=Object.getOwnPropertyDescriptor,rt={f:D?nt:function(t,e){if(t=J(t),e=G(e,!0),et)try{return nt(t,e)}catch(t){}if(Z(t,e))return L(!B.f.call(t,e),t[e])}},ot=function(t){if(!K(t))throw TypeError(String(t)+" is not an object");return t},it=Object.defineProperty,at={f:D?it:function(t,e,n){if(ot(t),e=G(e,!0),ot(n),et)try{return it(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},st=D?function(t,e,n){return at.f(t,e,L(1,n))}:function(t,e,n){return t[e]=n,t},lt=function(t,e){try{st(z,t,e)}catch(n){z[t]=e}return e},ct=z["__core-js_shared__"]||lt("__core-js_shared__",{}),ut=Function.toString;"function"!=typeof ct.inspectSource&&(ct.inspectSource=function(t){return ut.call(t)});var dt,pt,ft,ht=ct.inspectSource,mt=z.WeakMap,vt="function"==typeof mt&&/native code/.test(ht(mt)),gt=R((function(t){(t.exports=function(t,e){return ct[t]||(ct[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})})),yt=0,bt=Math.random(),wt=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++yt+bt).toString(36)},xt=gt("keys"),kt=function(t){return xt[t]||(xt[t]=wt(t))},St={},_t=z.WeakMap;if(vt){var Ct=new _t,Ot=Ct.get,Mt=Ct.has,Et=Ct.set;dt=function(t,e){return Et.call(Ct,t,e),e},pt=function(t){return Ot.call(Ct,t)||{}},ft=function(t){return Mt.call(Ct,t)}}else{var Tt=kt("state");St[Tt]=!0,dt=function(t,e){return st(t,Tt,e),e},pt=function(t){return Z(t,Tt)?t[Tt]:{}},ft=function(t){return Z(t,Tt)}}var At,Nt,Rt={set:dt,get:pt,has:ft,enforce:function(t){return ft(t)?pt(t):dt(t,{})},getterFor:function(t){return function(e){var n;if(!K(e)||(n=pt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},It=R((function(t){var e=Rt.get,n=Rt.enforce,r=String(String).split("String");(t.exports=function(t,e,o,i){var a=!!i&&!!i.unsafe,s=!!i&&!!i.enumerable,l=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof e||Z(o,"name")||st(o,"name",e),n(o).source=r.join("string"==typeof e?e:"")),t!==z?(a?!l&&t[e]&&(s=!0):delete t[e],s?t[e]=o:st(t,e,o)):s?t[e]=o:lt(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||ht(this)}))})),jt=z,zt=function(t){return"function"==typeof t?t:void 0},Pt=function(t,e){return arguments.length<2?zt(jt[t])||zt(z[t]):jt[t]&&jt[t][e]||z[t]&&z[t][e]},Dt=Math.ceil,$t=Math.floor,Ft=function(t){return isNaN(t=+t)?0:(t>0?$t:Dt)(t)},Bt=Math.min,Lt=function(t){return t>0?Bt(Ft(t),9007199254740991):0},Vt=Math.max,qt=Math.min,Ht=function(t,e){var n=Ft(t);return n<0?Vt(n+e,0):qt(n,e)},Wt=function(t){return function(e,n,r){var o,i=J(e),a=Lt(i.length),s=Ht(r,a);if(t&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===n)return t||s||0;return!t&&-1}},Ut={includes:Wt(!0),indexOf:Wt(!1)},Jt=Ut.indexOf,Kt=function(t,e){var n,r=J(t),o=0,i=[];for(n in r)!Z(St,n)&&Z(r,n)&&i.push(n);for(;e.length>o;)Z(r,n=e[o++])&&(~Jt(i,n)||i.push(n));return i},Gt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Xt=Gt.concat("length","prototype"),Zt={f:Object.getOwnPropertyNames||function(t){return Kt(t,Xt)}},Yt={f:Object.getOwnPropertySymbols},Qt=Pt("Reflect","ownKeys")||function(t){var e=Zt.f(ot(t)),n=Yt.f;return n?e.concat(n(t)):e},te=function(t,e){for(var n=Qt(e),r=at.f,o=rt.f,i=0;i<n.length;i++){var a=n[i];Z(t,a)||r(t,a,o(e,a))}},ee=/#|\.prototype\./,ne=function(t,e){var n=oe[re(t)];return n==ae||n!=ie&&("function"==typeof e?P(e):!!e)},re=ne.normalize=function(t){return String(t).replace(ee,".").toLowerCase()},oe=ne.data={},ie=ne.NATIVE="N",ae=ne.POLYFILL="P",se=ne,le=rt.f,ce=function(t,e){var n,r,o,i,a,s=t.target,l=t.global,c=t.stat;if(n=l?z:c?z[s]||lt(s,{}):(z[s]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(a=le(n,r))&&a.value:n[r],!se(l?r:s+(c?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;te(i,o)}(t.sham||o&&o.sham)&&st(i,"sham",!0),It(n,r,i,t)}},ue=Array.isArray||function(t){return"Array"==q(t)},de=function(t){return Object(U(t))},pe=function(t,e,n){var r=G(e);r in t?at.f(t,r,L(0,n)):t[r]=n},fe=!!Object.getOwnPropertySymbols&&!P((function(){return!String(Symbol())})),he=fe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,me=gt("wks"),ve=z.Symbol,ge=he?ve:ve&&ve.withoutSetter||wt,ye=function(t){return Z(me,t)||(fe&&Z(ve,t)?me[t]=ve[t]:me[t]=ge("Symbol."+t)),me[t]},be=ye("species"),we=function(t,e){var n;return ue(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!ue(n.prototype)?K(n)&&null===(n=n[be])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},xe=Pt("navigator","userAgent")||"",ke=z.process,Se=ke&&ke.versions,_e=Se&&Se.v8;_e?Nt=(At=_e.split("."))[0]+At[1]:xe&&(!(At=xe.match(/Edge\/(\d+)/))||At[1]>=74)&&(At=xe.match(/Chrome\/(\d+)/))&&(Nt=At[1]);var Ce=Nt&&+Nt,Oe=ye("species"),Me=function(t){return Ce>=51||!P((function(){var e=[];return(e.constructor={})[Oe]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Ee=ye("isConcatSpreadable"),Te=Ce>=51||!P((function(){var t=[];return t[Ee]=!1,t.concat()[0]!==t})),Ae=Me("concat"),Ne=function(t){if(!K(t))return!1;var e=t[Ee];return void 0!==e?!!e:ue(t)};ce({target:"Array",proto:!0,forced:!Te||!Ae},{concat:function(t){var e,n,r,o,i,a=de(this),s=we(a,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(Ne(i=-1===e?a:arguments[e])){if(l+(o=Lt(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,l++)n in i&&pe(s,l,i[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");pe(s,l++,i)}return s.length=l,s}});var Re,Ie=Object.keys||function(t){return Kt(t,Gt)},je=D?Object.defineProperties:function(t,e){ot(t);for(var n,r=Ie(e),o=r.length,i=0;o>i;)at.f(t,n=r[i++],e[n]);return t},ze=Pt("document","documentElement"),Pe=kt("IE_PROTO"),De=function(){},$e=function(t){return"<script>"+t+"<\/script>"},Fe=function(){try{Re=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Fe=Re?function(t){t.write($e("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Re):((e=tt("iframe")).style.display="none",ze.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write($e("document.F=Object")),t.close(),t.F);for(var n=Gt.length;n--;)delete Fe.prototype[Gt[n]];return Fe()};St[Pe]=!0;var Be=Object.create||function(t,e){var n;return null!==t?(De.prototype=ot(t),n=new De,De.prototype=null,n[Pe]=t):n=Fe(),void 0===e?n:je(n,e)},Le=ye("unscopables"),Ve=Array.prototype;null==Ve[Le]&&at.f(Ve,Le,{configurable:!0,value:Be(null)});var qe=function(t){Ve[Le][t]=!0},He=Object.defineProperty,We={},Ue=function(t){throw t},Je=function(t,e){if(Z(We,t))return We[t];e||(e={});var n=[][t],r=!!Z(e,"ACCESSORS")&&e.ACCESSORS,o=Z(e,0)?e[0]:Ue,i=Z(e,1)?e[1]:void 0;return We[t]=!!n&&!P((function(){if(r&&!D)return!0;var t={length:-1};r?He(t,1,{enumerable:!0,get:Ue}):t[1]=1,n.call(t,o,i)}))},Ke=Ut.includes,Ge=Je("indexOf",{ACCESSORS:!0,1:0});ce({target:"Array",proto:!0,forced:!Ge},{includes:function(t){return Ke(this,t,arguments.length>1?arguments[1]:void 0)}}),qe("includes");var Xe=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Ze=function(t){return function(e,n,r,o){Xe(n);var i=de(e),a=W(i),s=Lt(i.length),l=t?s-1:0,c=t?-1:1;if(r<2)for(;;){if(l in a){o=a[l],l+=c;break}if(l+=c,t?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:s>l;l+=c)l in a&&(o=n(o,a[l],l,i));return o}},Ye=function(t,e){var n=[][t];return!!n&&P((function(){n.call(null,e||function(){throw 1},1)}))},Qe={left:Ze(!1),right:Ze(!0)}.left,tn=Ye("reduce"),en=Je("reduce",{1:0});ce({target:"Array",proto:!0,forced:!tn||!en},{reduce:function(t){return Qe(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var nn=P((function(){Ie(1)}));ce({target:"Object",stat:!0,forced:nn},{keys:function(t){return Ie(de(t))}});var rn=function(){var t=ot(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function on(t,e){return RegExp(t,e)}var an={UNSUPPORTED_Y:P((function(){var t=on("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:P((function(){var t=on("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},sn=RegExp.prototype.exec,ln=String.prototype.replace,cn=sn,un=function(){var t=/a/,e=/b*/g;return sn.call(t,"a"),sn.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),dn=an.UNSUPPORTED_Y||an.BROKEN_CARET,pn=void 0!==/()??/.exec("")[1];(un||pn||dn)&&(cn=function(t){var e,n,r,o,i=this,a=dn&&i.sticky,s=rn.call(i),l=i.source,c=0,u=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(t).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(l="(?: "+l+")",u=" "+u,c++),n=new RegExp("^(?:"+l+")",s)),pn&&(n=new RegExp("^"+l+"$(?!\\s)",s)),un&&(e=i.lastIndex),r=sn.call(a?n:i,u),a?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:un&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),pn&&r&&r.length>1&&ln.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var fn=cn;ce({target:"RegExp",proto:!0,forced:/./.exec!==fn},{exec:fn});var hn=ye("match"),mn=function(t){var e;return K(t)&&(void 0!==(e=t[hn])?!!e:"RegExp"==q(t))},vn=function(t){if(mn(t))throw TypeError("The method doesn't accept regular expressions");return t},gn=ye("match");ce({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[gn]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~String(U(this)).indexOf(vn(t),arguments.length>1?arguments[1]:void 0)}});var yn=ye("species"),bn=!P((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),wn="$0"==="a".replace(/./,"$0"),xn=ye("replace"),kn=!!/./[xn]&&""===/./[xn]("a","$0"),Sn=!P((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),_n=function(t,e,n,r){var o=ye(t),i=!P((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!P((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[yn]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](""),!e}));if(!i||!a||"replace"===t&&(!bn||!wn||kn)||"split"===t&&!Sn){var s=/./[o],l=n(o,""[t],(function(t,e,n,r,o){return e.exec===fn?i&&!o?{done:!0,value:s.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:wn,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:kn}),c=l[0],u=l[1];It(String.prototype,t,c),It(RegExp.prototype,o,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})}r&&st(RegExp.prototype[o],"sham",!0)},Cn=ye("species"),On=function(t,e){var n,r=ot(t).constructor;return void 0===r||null==(n=ot(r)[Cn])?e:Xe(n)},Mn=function(t){return function(e,n){var r,o,i=String(U(e)),a=Ft(n),s=i.length;return a<0||a>=s?t?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===s||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):r:t?i.slice(a,a+2):o-56320+(r-55296<<10)+65536}},En={codeAt:Mn(!1),charAt:Mn(!0)},Tn=En.charAt,An=function(t,e,n){return e+(n?Tn(t,e).length:1)},Nn=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==q(t))throw TypeError("RegExp#exec called on incompatible receiver");return fn.call(t,e)},Rn=[].push,In=Math.min,jn=!P((function(){return!RegExp(4294967295,"y")}));function zn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dn(t,e,n){return e&&Pn(t.prototype,e),n&&Pn(t,n),t}_n("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(U(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!mn(t))return e.call(r,t,o);for(var i,a,s,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,d=new RegExp(t.source,c+"g");(i=fn.call(d,r))&&!((a=d.lastIndex)>u&&(l.push(r.slice(u,i.index)),i.length>1&&i.index<r.length&&Rn.apply(l,i.slice(1)),s=i[0].length,u=a,l.length>=o));)d.lastIndex===i.index&&d.lastIndex++;return u===r.length?!s&&d.test("")||l.push(""):l.push(r.slice(u)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=U(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var i=n(r,t,this,o,r!==e);if(i.done)return i.value;var a=ot(t),s=String(this),l=On(a,RegExp),c=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(jn?"y":"g"),d=new l(jn?a:"^(?:"+a.source+")",u),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===s.length)return null===Nn(d,s)?[s]:[];for(var f=0,h=0,m=[];h<s.length;){d.lastIndex=jn?h:0;var v,g=Nn(d,jn?s:s.slice(h));if(null===g||(v=In(Lt(d.lastIndex+(jn?0:h)),s.length))===f)h=An(s,h,c);else{if(m.push(s.slice(f,h)),m.length===p)return m;for(var y=1;y<=g.length-1;y++)if(m.push(g[y]),m.length===p)return m;h=f=v}}return m.push(s.slice(f)),m}]}),!jn);var $n=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return ot(n),function(t){if(!K(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Fn=function(t,e,n){var r,o;return $n&&"function"==typeof(r=e.constructor)&&r!==n&&K(o=r.prototype)&&o!==n.prototype&&$n(t,o),t},Bn=ye("species"),Ln=function(t){var e=Pt(t),n=at.f;D&&e&&!e[Bn]&&n(e,Bn,{configurable:!0,get:function(){return this}})},Vn=at.f,qn=Zt.f,Hn=Rt.set,Wn=ye("match"),Un=z.RegExp,Jn=Un.prototype,Kn=/a/g,Gn=/a/g,Xn=new Un(Kn)!==Kn,Zn=an.UNSUPPORTED_Y;if(D&&se("RegExp",!Xn||Zn||P((function(){return Gn[Wn]=!1,Un(Kn)!=Kn||Un(Gn)==Gn||"/a/i"!=Un(Kn,"i")})))){for(var Yn=function(t,e){var n,r=this instanceof Yn,o=mn(t),i=void 0===e;if(!r&&o&&t.constructor===Yn&&i)return t;Xn?o&&!i&&(t=t.source):t instanceof Yn&&(i&&(e=rn.call(t)),t=t.source),Zn&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a=Fn(Xn?new Un(t,e):Un(t,e),r?this:Jn,Yn);return Zn&&n&&Hn(a,{sticky:n}),a},Qn=function(t){t in Yn||Vn(Yn,t,{configurable:!0,get:function(){return Un[t]},set:function(e){Un[t]=e}})},tr=qn(Un),er=0;tr.length>er;)Qn(tr[er++]);Jn.constructor=Yn,Yn.prototype=Jn,It(z,"RegExp",Yn)}Ln("RegExp");var nr=RegExp.prototype,rr=nr.toString,or=P((function(){return"/a/b"!=rr.call({source:"a",flags:"b"})})),ir="toString"!=rr.name;(or||ir)&&It(RegExp.prototype,"toString",(function(){var t=ot(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in nr)?rn.call(t):n)}),{unsafe:!0});var ar=new RegExp("(".concat("left","|","center","|","right","|","justify",")")),sr=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/,lr=function(){function t(){zn(this,t)}return Dn(t,null,[{key:"warn",value:function(t){console.warn("".concat("[Element-Tiptap Tip]"," ").concat(t))}},{key:"error",value:function(t){console.error("".concat("[Element-Tiptap Tip]"," ").concat(t))}}]),t}(),cr={en:{editor:{extensions:{Bold:{tooltip:"Bold"},Underline:{tooltip:"Underline"},Italic:{tooltip:"Italic"},Strike:{tooltip:"Strike through"},Heading:{tooltip:"Heading",buttons:{paragraph:"Paragraph",heading:"Heading"}},Blockquote:{tooltip:"Block quote"},CodeBlock:{tooltip:"Code block"},Link:{add:{tooltip:"Apply link",control:{title:"Apply Link",href:"Href",open_in_new_tab:"Open in new tab",confirm:"Apply",cancel:"Cancel"}},edit:{tooltip:"Edit link",control:{title:"Edit Link",href:"Href",open_in_new_tab:"Open in new tab",confirm:"Update",cancel:"Cancel"}},unlink:{tooltip:"Unlink"},open:{tooltip:"Open link"}},Image:{buttons:{insert_image:{tooltip:"Insert image",external:"Insert Image By Url",upload:"Upload Image"},remove_image:{tooltip:"Remove"},image_options:{tooltip:"Image options"},display:{tooltip:"Display",inline:"Inline",block:"Break Text",left:"Float Left",right:"Float Right"}},control:{insert_by_url:{title:"Insert image",placeholder:"Url of image",confirm:"Insert",cancel:"Cancel",invalid_url:"Please enter the correct url"},upload_image:{title:"Upload image",button:"Choose an image file or drag it here"},edit_image:{title:"Edit image",confirm:"Update",cancel:"Cancel",form:{src:"Image Url",alt:"Alternative Text",width:"Width",height:"Height"}}}},Iframe:{tooltip:"Insert video",control:{title:"Insert video",placeholder:"Href",confirm:"Insert",cancel:"Cancel"}},BulletList:{tooltip:"Bullet list"},OrderedList:{tooltip:"Ordered list"},TodoList:{tooltip:"Todo list"},TextAlign:{buttons:{align_left:{tooltip:"Align left"},align_center:{tooltip:"Align center"},align_right:{tooltip:"Align right"},align_justify:{tooltip:"Align justify"}}},FontType:{tooltip:"Font family"},FontSize:{tooltip:"Font size",default:"default"},TextColor:{tooltip:"Text color"},TextHighlight:{tooltip:"Text highlight"},LineHeight:{tooltip:"Line height"},Table:{tooltip:"Table",buttons:{insert_table:"Insert Table",add_column_before:"Add Column Before",add_column_after:"Add Column After",delete_column:"Delete Column",add_row_before:"Add Row Before",add_row_after:"Add Row After",delete_row:"Delete Row",merge_cells:"Merge Cells",split_cell:"Split Cell",delete_table:"Delete Table"}},Indent:{buttons:{indent:{tooltip:"Indent"},outdent:{tooltip:"Outdent"}}},FormatClear:{tooltip:"Clear format"},HorizontalRule:{tooltip:"Horizontal rule"},History:{tooltip:{undo:"Undo",redo:"Redo"}},Fullscreen:{tooltip:{fullscreen:"Full screen",exit_fullscreen:"Exit full screen"}},Print:{tooltip:"Print"},Preview:{tooltip:"Preview",dialog:{title:"Preview"}},SelectAll:{tooltip:"Select all"},CodeView:{tooltip:"Code view"}},characters:"Characters"}},zh:{editor:{extensions:{Bold:{tooltip:""},Underline:{tooltip:""},Italic:{tooltip:""},Strike:{tooltip:""},Heading:{tooltip:"",buttons:{paragraph:"",heading:""}},Blockquote:{tooltip:""},CodeBlock:{tooltip:""},Link:{add:{tooltip:"",control:{title:"",href:"",open_in_new_tab:"",confirm:"",cancel:""}},edit:{tooltip:"",control:{title:"",href:"",open_in_new_tab:"",confirm:"",cancel:""}},unlink:{tooltip:""},open:{tooltip:""}},Image:{buttons:{insert_image:{tooltip:"",external:"",upload:""},remove_image:{tooltip:""},image_options:{tooltip:""},display:{tooltip:"",inline:"",block:"",left:"",right:""}},control:{insert_by_url:{title:"",placeholder:"",confirm:"",cancel:"",invalid_url:""},upload_image:{title:"",button:""},edit_image:{title:"",confirm:"",cancel:"",form:{src:"",alt:"",width:"",height:""}}}},Iframe:{tooltip:"",control:{title:"",placeholder:"",confirm:"",cancel:""}},BulletList:{tooltip:""},OrderedList:{tooltip:""},TodoList:{tooltip:""},TextAlign:{buttons:{align_left:{tooltip:""},align_center:{tooltip:""},align_right:{tooltip:""},align_justify:{tooltip:""}}},FontType:{tooltip:""},FontSize:{tooltip:"",default:""},TextColor:{tooltip:""},TextHighlight:{tooltip:""},LineHeight:{tooltip:""},Table:{tooltip:"",buttons:{insert_table:"",add_column_before:"",add_column_after:"",delete_column:"",add_row_before:"",add_row_after:"",delete_row:"",merge_cells:"",split_cell:"",delete_table:""}},Indent:{buttons:{indent:{tooltip:""},outdent:{tooltip:""}}},FormatClear:{tooltip:""},HorizontalRule:{tooltip:""},History:{tooltip:{undo:"",redo:""}},Fullscreen:{tooltip:{fullscreen:"",exit_fullscreen:""}},Print:{tooltip:""},Preview:{tooltip:"",dialog:{title:""}},SelectAll:{tooltip:""},CodeView:{tooltip:""}},characters:""}},zh_tw:{editor:{extensions:{Bold:{tooltip:""},Underline:{tooltip:""},Italic:{tooltip:""},Strike:{tooltip:""},Heading:{tooltip:"",buttons:{paragraph:"",heading:""}},Blockquote:{tooltip:""},CodeBlock:{tooltip:""},Link:{add:{tooltip:"",control:{title:"",href:"",open_in_new_tab:"",confirm:"",cancel:""}},edit:{tooltip:"",control:{title:"",href:"",open_in_new_tab:"",confirm:"",cancel:""}},unlink:{tooltip:""},open:{tooltip:""}},Image:{buttons:{insert_image:{tooltip:"",external:"",upload:""},remove_image:{tooltip:""},image_options:{tooltip:""},display:{tooltip:"",inline:"",block:"",left:"",right:""}},control:{insert_by_url:{title:"",placeholder:"",confirm:"",cancel:"",invalid_url:""},upload_image:{title:"",button:""},edit_image:{title:"",confirm:"",cancel:"",form:{src:"",alt:"",width:"",height:""}}}},Iframe:{tooltip:"",control:{title:"",placeholder:"",confirm:"",cancel:""}},BulletList:{tooltip:""},OrderedList:{tooltip:""},TodoList:{tooltip:""},TextAlign:{buttons:{align_left:{tooltip:""},align_center:{tooltip:""},align_right:{tooltip:""},align_justify:{tooltip:""}}},FontType:{tooltip:""},FontSize:{tooltip:"",default:""},TextColor:{tooltip:""},TextHighlight:{tooltip:""},LineHeight:{tooltip:""},Table:{tooltip:"",buttons:{insert_table:"",add_column_before:"",add_column_after:"",delete_column:"",add_row_before:"",add_row_after:"",delete_row:"",merge_cells:"",split_cell:"",delete_table:""}},Indent:{buttons:{indent:{tooltip:""},outdent:{tooltip:""}}},FormatClear:{tooltip:""},HorizontalRule:{tooltip:""},History:{tooltip:{undo:"",redo:""}},Fullscreen:{tooltip:{fullscreen:"",exit_fullscreen:""}},Print:{tooltip:""},Preview:{tooltip:"",dialog:{title:""}},SelectAll:{tooltip:""},CodeView:{tooltip:""}},characters:""}},pl:{editor:{extensions:{Bold:{tooltip:"Pogrubienie"},Underline:{tooltip:"Podkrelenie"},Italic:{tooltip:"Kursywa"},Strike:{tooltip:"Przekrelenie"},Heading:{tooltip:"Nagwek",buttons:{paragraph:"Paragraf",heading:"Nagwek"}},Blockquote:{tooltip:"Cytat"},CodeBlock:{tooltip:"Kod"},Link:{add:{tooltip:"Dodaj link",control:{title:"Dodaj Link",href:"rdo",open_in_new_tab:"Otwrz w nowej karcie",confirm:"Dodaj",cancel:"Anuluj"}},edit:{tooltip:"Edytuj link",control:{title:"Edytuj link",href:"rdo",open_in_new_tab:"Otwrz w nowej karcie",confirm:"aktualizacja",cancel:"Anuluj"}},unlink:{tooltip:"Odczepi"},open:{tooltip:"Otwrz link"}},Image:{buttons:{insert_image:{tooltip:"Dodaj obraz",external:"Dodaj obraz online",upload:"Dodaj obraz z dysku"},remove_image:{tooltip:"Usu"},image_options:{tooltip:"Opcje obrazu"},display:{tooltip:"Pokaz",inline:"Inline",block:"Podziel tekst",left:"Przesu w lewo",right:"Py w prawo"}},control:{insert_by_url:{title:"Dodawanie obrazu online",placeholder:"URL obrazu",confirm:"Dodaj",cancel:"Zamknij",invalid_url:"Prosz poda prawidowy link prowadzcy do obrazu"},upload_image:{title:"Dodawanie obrazu z dysku",button:"Wska obraz lub przecignij go tutaj"},edit_image:{title:"Edytuj obraz",confirm:"Aktualizacja",cancel:"Zamknij",form:{src:"URL obrazu",alt:"Alternatywny Tekst",width:"Szeroko",height:"Wysoko"}}}},Iframe:{tooltip:"Dodaj film",control:{title:"Dodaj film",placeholder:"URL filmu",confirm:"Dodaj",cancel:"Zamknij"}},BulletList:{tooltip:"Lista wypunktowana"},OrderedList:{tooltip:"Lista uporzdkowana"},TodoList:{tooltip:"Lista rzeczy do zrobienia"},TextAlign:{buttons:{align_left:{tooltip:"Wyrwnaj do lewej"},align_center:{tooltip:"Wyrodkuj"},align_right:{tooltip:"Wyrwnaj do prawej"},align_justify:{tooltip:"Wyjustuj"}}},FontType:{tooltip:"Rodzina czcionek"},FontSize:{tooltip:"Rozmiar czcionki",default:"domylna"},TextColor:{tooltip:"Kolor tekstu"},TextHighlight:{tooltip:"Podwietlenie tekstu"},LineHeight:{tooltip:"Wysoko linii"},Table:{tooltip:"Tabela",buttons:{insert_table:"Dodaj tabel",add_column_before:"Dodaj kolumn przed",add_column_afer:"Dodaj kolumn za",delete_column:"Usu kolumn",add_row_before:"Dodaj wiersz przed",add_row_after:"Dodaj wiersz za",delete_row:"Usu wiersz",merge_cells:"Pocz komrki",split_cell:"Rozdziel komrki",delete_table:"Usu tabel"}},Indent:{buttons:{indent:{tooltip:"Zwiksz wcicie"},outdent:{tooltip:"Zmniejsz wcicie"}}},FormatClear:{tooltip:"Wyczy formatowanie"},HorizontalRule:{tooltip:"Linia pozioma"},History:{tooltip:{undo:"Cofnij",redo:"Powtrz"}},Fullscreen:{tooltip:{fullscreen:"Peny ekran",exit_fullscreen:"Zamknij peny ekran"}},Print:{tooltip:"Drukuj"},Preview:{tooltip:"Podgld",dialog:{title:"Podgld"}},SelectAll:{tooltip:"Zaznacz wszystko"},CodeView:{tooltip:"Widok kodu"}},characters:"Znaki"}},ru:{editor:{extensions:{Bold:{tooltip:""},Underline:{tooltip:""},Italic:{tooltip:""},Strike:{tooltip:""},Heading:{tooltip:"",buttons:{paragraph:"",heading:""}},Blockquote:{tooltip:""},CodeBlock:{tooltip:" "},Link:{add:{tooltip:" ",control:{title:" ",href:"",open_in_new_tab:"   ",confirm:"",cancel:""}},edit:{tooltip:" ",control:{title:" ",href:"",open_in_new_tab:"   ",confirm:"",cancel:""}},unlink:{tooltip:" "},open:{tooltip:" "}},Image:{buttons:{insert_image:{tooltip:" ",external:"   ",upload:" "},remove_image:{tooltip:""},image_options:{tooltip:" "},display:{tooltip:"",inline:" ",block:" ",left:"",right:""}},control:{insert_by_url:{title:" ",placeholder:" ",confirm:"",cancel:"",invalid_url:"   "},upload_image:{title:" ",button:"     "},edit_image:{title:" ",confirm:"",cancel:"",form:{src:" ",alt:" ",width:"",height:""}}}},Iframe:{tooltip:" ",control:{title:" ",placeholder:"",confirm:"",cancel:""}},BulletList:{tooltip:" "},OrderedList:{tooltip:" "},TodoList:{tooltip:" "},TextAlign:{buttons:{align_left:{tooltip:"   "},align_center:{tooltip:"  "},align_right:{tooltip:"   "},align_justify:{tooltip:"  "}}},FontType:{tooltip:""},FontSize:{tooltip:" ",default:" "},TextColor:{tooltip:" "},TextHighlight:{tooltip:"  "},LineHeight:{tooltip:""},Table:{tooltip:"",buttons:{insert_table:" ",add_column_before:"  ",add_column_after:"  ",delete_column:" ",add_row_before:"  ",add_row_after:"  ",delete_row:" ",merge_cells:" ",split_cell:" ",delete_table:" "}},Indent:{buttons:{indent:{tooltip:" "},outdent:{tooltip:" "}}},FormatClear:{tooltip:" "},HorizontalRule:{tooltip:" "},History:{tooltip:{undo:"",redo:""}},Fullscreen:{tooltip:{fullscreen:" ",exit_fullscreen:"   "}},Print:{tooltip:""},Preview:{tooltip:" ",dialog:{title:" "}},SelectAll:{tooltip:" "},CodeView:{tooltip:" "}},characters:" "}},de:{editor:{extensions:{Bold:{tooltip:"Fett"},Underline:{tooltip:"Unterstrichen"},Italic:{tooltip:"Kursiv"},Strike:{tooltip:"Durchgestrichen"},Heading:{tooltip:"berschrift",buttons:{paragraph:"Absatz",heading:"berschrift"}},Blockquote:{tooltip:"Zitat"},CodeBlock:{tooltip:"Codeblock"},Link:{add:{tooltip:"Link hinzufgen",control:{title:"Link hinzufgen",href:"Link",open_in_new_tab:"ffnen Sie in einem neuen Tab",confirm:"Hinzufgen",cancel:"Abbrechen"}},edit:{tooltip:"Link bearbeiten",control:{title:"Link bearbeiten",href:"Link",open_in_new_tab:"ffnen Sie in einem neuen Tab",confirm:"Speichern",cancel:"Abbrechen"}},unlink:{tooltip:"Link entfernen"},open:{tooltip:"Link ffnen"}},Image:{buttons:{insert_image:{tooltip:"Bild einfgen",external:"Bild von URL einfgen",upload:"Bild hochladen"},remove_image:{tooltip:"Entfernen"},image_options:{tooltip:"Bildoptionen"},display:{tooltip:"Textumbruch",inline:"In der Zeile",block:"Text teilen",left:"Links",right:"Rechts"}},control:{insert_by_url:{title:"Bild einfgen",placeholder:"Bild URL",confirm:"Einfgen",cancel:"Abbrechen",invalid_url:"Diese URL hat ein ungltiges Format"},upload_image:{title:"Bild hochladen",button:"Whlen Sie ein Bild aus, oder ziehen Sie ein Bild auf dieses Feld"},edit_image:{title:"Bild Bearbeiten",confirm:"Speichern",cancel:"Abbrechen",form:{src:"Bild URL",alt:"Alternativer Text (angezeigt beim berfahren mit Maus)",width:"Breite",height:"Hhe"}}}},Iframe:{tooltip:"Video einfgen",control:{title:"Video einfgen",placeholder:"Link",confirm:"Einfgen",cancel:"Abbrechen"}},BulletList:{tooltip:"Aufzhlungsliste"},OrderedList:{tooltip:"Nummerierte Liste"},TodoList:{tooltip:"Erledigungsliste"},TextAlign:{buttons:{align_left:{tooltip:"Linksbndig"},align_center:{tooltip:"Zentriert"},align_right:{tooltip:"Rechtsbndig"},align_justify:{tooltip:"Blocksatz"}}},FontType:{tooltip:"Schriftfamilie"},FontSize:{tooltip:"Schriftgre",default:"standard"},TextColor:{tooltip:"Textfarbe"},TextHighlight:{tooltip:"Hervorhebungsfarbe"},LineHeight:{tooltip:"Zeilenabstand"},Table:{tooltip:"Tabelle",buttons:{insert_table:"Tabelle einfgen",add_column_before:"Spalte vorher einfgen",add_column_after:"Spalte nachher einfgen",delete_column:"Spalte lschen",add_row_before:"Zeile vorher einfgen",add_row_after:"Zeile nachher einfgen",delete_row:"Zeile lschen",merge_cells:"Zellen verbinden",split_cell:"Zellen aufteilen",delete_table:"Tabelle lschen"}},Indent:{buttons:{indent:{tooltip:"Einzug vergrern"},outdent:{tooltip:"Einzug verringern"}}},FormatClear:{tooltip:"Formattierung entfernen"},HorizontalRule:{tooltip:"Horizontale Linie"},History:{tooltip:{undo:"Rckgngig",redo:"Wiederholen"}},Fullscreen:{tooltip:{fullscreen:"Vollbild",exit_fullscreen:"Vollbild verlassen"}},Print:{tooltip:"Drucken"},Preview:{tooltip:"Vorschau",dialog:{title:"Vorschau"}},SelectAll:{tooltip:"Alles auswhlen"},CodeView:{tooltip:"Codeansicht"}},characters:"Zeichen"}},ko:{editor:{extensions:{Bold:{tooltip:""},Underline:{tooltip:""},Italic:{tooltip:""},Strike:{tooltip:""},Heading:{tooltip:" ",buttons:{paragraph:"",heading:""}},Blockquote:{tooltip:""},CodeBlock:{tooltip:""},Link:{add:{tooltip:" ",control:{title:" ",href:"URL",open_in_new_tab:"  ",confirm:"",cancel:""}},edit:{tooltip:" ",control:{title:" ",href:"URL",open_in_new_tab:"  ",confirm:"",cancel:""}},unlink:{tooltip:" "},open:{tooltip:" "}},Image:{buttons:{insert_image:{tooltip:" ",external:" URL .",upload:" "},remove_image:{tooltip:""},image_options:{tooltip:" "},display:{tooltip:"",inline:"",block:"",left:" ",right:" "}},control:{insert_by_url:{title:" ",placeholder:" URL",confirm:"",cancel:"",invalid_url:" URL "},upload_image:{title:" ",button:"    "},edit_image:{title:" ",confirm:"",cancel:"",form:{src:" URL",alt:" ",width:"",height:""}}}},Iframe:{tooltip:" ",control:{title:" ",placeholder:" URL",confirm:"",cancel:""}},BulletList:{tooltip:" "},OrderedList:{tooltip:" "},TodoList:{tooltip:" "},TextAlign:{buttons:{align_left:{tooltip:" "},align_center:{tooltip:" "},align_right:{tooltip:" "},align_justify:{tooltip:" "}}},FontType:{tooltip:""},FontSize:{tooltip:" ",default:""},TextColor:{tooltip:" "},TextHighlight:{tooltip:" "},LineHeight:{tooltip:" "},Table:{tooltip:"",buttons:{insert_table:" ",add_column_before:"  ",add_column_after:"  ",delete_column:" ",add_row_before:"  ",add_row_after:"  ",delete_row:" ",merge_cells:" ",split_cell:" ",delete_table:" "}},Indent:{buttons:{indent:{tooltip:" "},outdent:{tooltip:" "}}},FormatClear:{tooltip:" "},HorizontalRule:{tooltip:" "},History:{tooltip:{undo:"",redo:" "}},Fullscreen:{tooltip:{fullscreen:"",exit_fullscreen:" "}},Print:{tooltip:""},Preview:{tooltip:"",dialog:{title:""}},SelectAll:{tooltip:""},CodeView:{tooltip:" "}},characters:""}},es:{editor:{extensions:{Bold:{tooltip:"Negrita"},Underline:{tooltip:"Subrayado"},Italic:{tooltip:"Cursiva"},Strike:{tooltip:"Texto tachado"},Heading:{tooltip:"Encabezado",buttons:{paragraph:"Prrafo",heading:"Encabezado"}},Blockquote:{tooltip:"Bloque de cita"},CodeBlock:{tooltip:"Bloque de cdigo"},Link:{add:{tooltip:"Crear enlace",control:{title:"Crear enlace",href:"Href",open_in_new_tab:"Abrir en una pestaa nueva",confirm:"Crear",cancel:"Cancelar"}},edit:{tooltip:"Editar enlace",control:{title:"Editar enlace",href:"Href",open_in_new_tab:"Abrir en una pestaa nueva",confirm:"Actualizar",cancel:"Cancelar"}},unlink:{tooltip:"Desenlazar"},open:{tooltip:"Abrir enlace"}},Image:{buttons:{insert_image:{tooltip:"Insertar imagen",external:"Insertar imagen desde Url",upload:"Cargar imagen"},remove_image:{tooltip:"Eliminar"},image_options:{tooltip:"Opciones de imagen"},display:{tooltip:"Visualizacin",inline:"En lnea",block:"Bloque",left:"Flotar a la izquierda",right:"Flotar a la derecha"}},control:{insert_by_url:{title:"Insertar imagen",placeholder:"Url de la imagen",confirm:"Insertar",cancel:"Cancelar",invalid_url:"Por favor introduce una Url vlida"},upload_image:{title:"Cargar imagen",button:"Selecciona una imagen o arrstrala aqu"},edit_image:{title:"Editar imagen",confirm:"Actualizar",cancel:"Cancelar",form:{src:"Url de la imagen",alt:"Texto alternativo",width:"Ancho",height:"Alto"}}}},Iframe:{tooltip:"Insertar vdeo",control:{title:"Insertar vdeo",placeholder:"Href",confirm:"Insertar",cancel:"Cancelar"}},BulletList:{tooltip:"Lista desordenada"},OrderedList:{tooltip:"Lista ordenada"},TodoList:{tooltip:"Lista de tareas"},TextAlign:{buttons:{align_left:{tooltip:"Alinear a la izquierda"},align_center:{tooltip:"Centrar texto"},align_right:{tooltip:"Alinear a la derecha"},align_justify:{tooltip:"Texto justificado"}}},FontType:{tooltip:"Fuente"},FontSize:{tooltip:"Tamao de fuente",default:"por defecto"},TextColor:{tooltip:"Color de texto"},TextHighlight:{tooltip:"Resaltar texto"},LineHeight:{tooltip:"Altura de lnea"},Table:{tooltip:"Tabla",buttons:{insert_table:"Insertar tabla",add_column_before:"Aadir columna antes",add_column_after:"Aadir columna despus",delete_column:"Eliminar columna",add_row_before:"Aadir fila antes",add_row_after:"Aadir fila despus",delete_row:"Eliminar fila",merge_cells:"Fusionar celdas",split_cell:"Separar celda",delete_table:"Eliminar la tabla"}},Indent:{buttons:{indent:{tooltip:"Indentar"},outdent:{tooltip:"Desindentar"}}},FormatClear:{tooltip:"Borrar formato"},HorizontalRule:{tooltip:"Separador horizontal"},History:{tooltip:{undo:"Deshacer",redo:"Rehacer"}},Fullscreen:{tooltip:{fullscreen:"Pantalla completa",exit_fullscreen:"Salir de pantalla completa"}},Print:{tooltip:"Imprimir"},Preview:{tooltip:"Vista previa",dialog:{title:"Vista previa"}},SelectAll:{tooltip:"Seleccionar todo"},CodeView:{tooltip:"Vista de cdigo"}},characters:"Caracteres"}},fr:{editor:{extensions:{Bold:{tooltip:"Gras"},Underline:{tooltip:"Soulign"},Italic:{tooltip:"Italique"},Strike:{tooltip:"Barr"},Heading:{tooltip:"Titre",buttons:{paragraph:"Paragraphe",heading:"Titre"}},Blockquote:{tooltip:"Citation"},CodeBlock:{tooltip:"Bloc de code"},Link:{add:{tooltip:"Appliquer le lien",control:{title:"Appliquer le lien",href:"Cible du lien",open_in_new_tab:"Ouvrir dans un nouvel onglet",confirm:"Appliquer",cancel:"Annuler"}},edit:{tooltip:"Editer le lien",control:{title:"Editer le lien",href:"Cible du lien",open_in_new_tab:"Ouvrir dans un nouvel onglet",confirm:"Mettre  jour",cancel:"Annuler"}},unlink:{tooltip:"Supprimer le lien"},open:{tooltip:"Ouvrir le lien"}},Image:{buttons:{insert_image:{tooltip:"Insrer une image",external:"Insrer une image via un lien",upload:"Tlcharger une image"},remove_image:{tooltip:"Retirer"},image_options:{tooltip:"Options de l'image"},display:{tooltip:"Affichage",inline:"En ligne",block:"Rupture du texte",left:"Floter  gauche",right:"Floter  droite"}},control:{insert_by_url:{title:"Insrer une image",placeholder:"Lien de l'image",confirm:"Insrer",cancel:"Annuler",invalid_url:"Lien de l'image incorrect, merci de corriger"},upload_image:{title:"Tlcharger une image",button:"Choisir une image ou dposer celle-ci ici"},edit_image:{title:"Editer l'image",confirm:"Mettre  jour",cancel:"Annuler",form:{src:"Lien de l'image",alt:"Texte alternatif",width:"Largeur",height:"Hauteur"}}}},Iframe:{tooltip:"Insrer une video",control:{title:"Insrer une video",placeholder:"Lien",confirm:"Insrer",cancel:"Annuler"}},BulletList:{tooltip:"Liste  puces"},OrderedList:{tooltip:"Liste ordonne"},TodoList:{tooltip:"Liste de choses  faire"},TextAlign:{buttons:{align_left:{tooltip:"Aligner  gauche"},align_center:{tooltip:"Aigner au centre"},align_right:{tooltip:"Aligner  droite"},align_justify:{tooltip:"Justifier"}}},FontType:{tooltip:"Police de caractre"},FontSize:{tooltip:"Taille de la police",default:"Par dfaut"},TextColor:{tooltip:"Couleur du texte"},TextHighlight:{tooltip:"Texte surlign"},LineHeight:{tooltip:"Hauteur de ligne"},Table:{tooltip:"Tableau",buttons:{insert_table:"Insrer un tableau",add_column_before:"Ajouter une colonne avant",add_column_after:"Ajouter une colonne aprs",delete_column:"Supprimer une colonne",add_row_before:"Ajouter une ligne avant",add_row_after:"Ajouter une ligna aprs",delete_row:"Supprimer une ligne",merge_cells:"Fusionner les cellules",split_cell:"Diviser la cellule",delete_table:"Supprimer le tableau"}},Indent:{buttons:{indent:{tooltip:"Retrait positif"},outdent:{tooltip:"Retrait ngatif"}}},FormatClear:{tooltip:"Supprimer le formatage"},HorizontalRule:{tooltip:"Ligne horizontal"},History:{tooltip:{undo:"Annuler",redo:"Refaire"}},Fullscreen:{tooltip:{fullscreen:"Plein cran",exit_fullscreen:"Sortir du plein cran"}},Print:{tooltip:"Impression"},Preview:{tooltip:"Prvisualisation",dialog:{title:"Prvisualisation"}},SelectAll:{tooltip:"Tout slectionner"},CodeView:{tooltip:"Voir le code source"}},characters:"Caractres"}}},ur={get defaultLanguage(){return"en"},get supportedLanguages(){return Object.keys(cr)},loadLanguage:function(t){return cr[t]},isLangSupported:function(t){return this.supportedLanguages.includes(t)},buildI18nHandler:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";this.isLangSupported(e)?t=e:(lr.warn("Can't find the current language \"".concat(e,'", Using language "').concat("en",'" by default. Welcome contribution to https://github.com/Leecason/element-tiptap')),t="en");var n=this.loadLanguage(t);return function(t){return t.split(".").reduce((function(t,e){return t[e]}),n)}}},dr=function(t,e,n){if(Xe(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},pr=[].push,fr=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,a=5==t||i;return function(s,l,c,u){for(var d,p,f=de(s),h=W(f),m=dr(l,c,3),v=Lt(h.length),g=0,y=u||we,b=e?y(s,v):n?y(s,0):void 0;v>g;g++)if((a||g in h)&&(p=m(d=h[g],g,f),t))if(e)b[g]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return g;case 2:pr.call(b,d)}else if(o)return!1;return i?-1:r||o?o:b}},hr={forEach:fr(0),map:fr(1),filter:fr(2),some:fr(3),every:fr(4),find:fr(5),findIndex:fr(6)},mr=hr.find,vr=!0,gr=Je("find");"find"in[]&&Array(1).find((function(){vr=!1})),ce({target:"Array",proto:!0,forced:vr||!gr},{find:function(t){return mr(this,t,arguments.length>1?arguments[1]:void 0)}}),qe("find");var yr=at.f,br=Function.prototype,wr=br.toString,xr=/^\s*function ([^ (]*)/;D&&!("name"in br)&&yr(br,"name",{configurable:!0,get:function(){try{return wr.call(this).match(xr)[1]}catch(t){return""}}});var kr=Object.assign,Sr=Object.defineProperty,_r=!kr||P((function(){if(D&&1!==kr({b:1},kr(Sr({},"a",{enumerable:!0,get:function(){Sr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=kr({},t)[n]||"abcdefghijklmnopqrst"!=Ie(kr({},e)).join("")}))?function(t,e){for(var n=de(t),r=arguments.length,o=1,i=Yt.f,a=B.f;r>o;)for(var s,l=W(arguments[o++]),c=i?Ie(l).concat(i(l)):Ie(l),u=c.length,d=0;u>d;)s=c[d++],D&&!a.call(l,s)||(n[s]=l[s]);return n}:kr;function Cr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Or(t){return function(t){if(Array.isArray(t))return Cr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Cr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Er(t,e){return(Er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Er(t,e)}function Ar(t){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nr(t){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rr(t,e){return!e||"object"!==Nr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ir(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rr(this,n)}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function jr(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function zr(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}
/**
  * vue-class-component v7.2.3
  * (c) 2015-present Evan You
  * @license MIT
  */function Pr(t){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Fr(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function Br(t,e){Lr(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(n){Lr(t.prototype,e.prototype,n)})),Object.getOwnPropertyNames(e).forEach((function(n){Lr(t,e,n)}))}function Lr(t,e,n){(n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e)).forEach((function(r){var o=n?Reflect.getOwnMetadata(r,e,n):Reflect.getOwnMetadata(r,e);n?Reflect.defineMetadata(r,o,t,n):Reflect.defineMetadata(r,o,t)}))}ce({target:"Object",stat:!0,forced:Object.assign!==_r},{assign:_r});var Vr={__proto__:[]}instanceof Array;function qr(t){return function(e,n,r){var o="function"==typeof e?e:e.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof r&&(r=void 0),o.__decorators__.push((function(e){return t(e,n,r)}))}}function Hr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r["default"].extend({mixins:e})}function Wr(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||n.push(r);n.forEach((function(n){"_"!==n.charAt(0)&&Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var r=new e;e.prototype._init=n;var o={};return Object.keys(r).forEach((function(t){void 0!==r[t]&&(o[t]=r[t])})),o}var Ur=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function Jr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(Ur.indexOf(t)>-1)e[t]=n[t];else{var r=Object.getOwnPropertyDescriptor(n,t);void 0!==r.value?"function"==typeof r.value?(e.methods||(e.methods={}))[t]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){return Dr({},t,r.value)}}):(r.get||r.set)&&((e.computed||(e.computed={}))[t]={get:r.get,set:r.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return Wr(this,t)}});var o=t.__decorators__;o&&(o.forEach((function(t){return t(e)})),delete t.__decorators__);var i=Object.getPrototypeOf(t.prototype),a=i instanceof r["default"]?i.constructor:r["default"],s=a.extend(e);return Gr(s,t,a),Fr()&&Br(s,t),s}var Kr={prototype:!0,arguments:!0,callee:!0,caller:!0};function Gr(t,e,n){Object.getOwnPropertyNames(e).forEach((function(r){if(!Kr[r]){var o=Object.getOwnPropertyDescriptor(t,r);if(!o||o.configurable){var i=Object.getOwnPropertyDescriptor(e,r);if(!Vr){if("cid"===r)return;var a=Object.getOwnPropertyDescriptor(n,r);if(!function(t){var e=Pr(t);return null==t||"object"!==e&&"function"!==e}(i.value)&&a&&a.value===i.value)return}Object.defineProperty(t,r,i)}}}))}function Xr(t){return"function"==typeof t?Jr(t):function(e){return Jr(e,t)}}function Zr(t){return qr((function(e,n){void 0===e.inject&&(e.inject={}),Array.isArray(e.inject)||(e.inject[n]=t||n)}))}Xr.registerHooks=function(t){Ur.push.apply(Ur,$r(t))};var Yr="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function Qr(t,e,n){if(Yr&&!Array.isArray(t)&&"function"!=typeof t&&void 0===t.type){var r=Reflect.getMetadata("design:type",e,n);r!==Object&&(t.type=r)}}function to(t){return void 0===t&&(t={}),function(e,n){Qr(t,e,n),qr((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}function eo(t,e){void 0===e&&(e={});var n=e.deep,r=void 0!==n&&n,o=e.immediate,i=void 0!==o&&o;return qr((function(e,n){"object"!=typeof e.watch&&(e.watch=Object.create(null));var o=e.watch;"object"!=typeof o[t]||Array.isArray(o[t])?void 0===o[t]&&(o[t]=[]):o[t]=[o[t]],o[t].push({handler:n,deep:r,immediate:i})}))}var no=/\B([A-Z])/g;function ro(t){return function(e,n,r){var o=n.replace(no,"-$1").toLowerCase(),i=r.value;r.value=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=function(r){var i=t||o;void 0===r?0===n.length?e.$emit(i):1===n.length?e.$emit(i,n[0]):e.$emit.apply(e,[i].concat(n)):0===n.length?e.$emit(i,r):1===n.length?e.$emit(i,r,n[0]):e.$emit.apply(e,[i,r].concat(n))},s=i.apply(this,n);return oo(s)?s.then((function(t){a(t)})):a(s),s}}}function oo(t){return t instanceof Promise||t&&"function"==typeof t.then}var io=function(t){Tr(n,o["f"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"name",get:function(){return"content_attributes"}},{key:"defaultOptions",get:function(){return{spellcheck:!0}}},{key:"plugins",get:function(){return[new a["Plugin"]({props:{attributes:Object.assign({},this.options)}})]}}]),n}(),ao=Me("slice"),so=Je("slice",{ACCESSORS:!0,0:0,1:2}),lo=ye("species"),co=[].slice,uo=Math.max;ce({target:"Array",proto:!0,forced:!ao||!so},{slice:function(t,e){var n,r,o,i=J(this),a=Lt(i.length),s=Ht(t,a),l=Ht(void 0===e?a:e,a);if(ue(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!ue(n.prototype)?K(n)&&null===(n=n[lo])&&(n=void 0):n=void 0,n===Array||void 0===n))return co.call(i,s,l);for(r=new(void 0===n?Array:n)(uo(l-s,0)),o=0;s<l;s++,o++)s in i&&pe(r,o,i[s]);return r.length=o,r}});var po="\t\n\v\f\r \u2028\u2029\ufeff",fo="["+po+"]",ho=RegExp("^"+fo+fo+"*"),mo=RegExp(fo+fo+"*$"),vo=function(t){return function(e){var n=String(U(e));return 1&t&&(n=n.replace(ho,"")),2&t&&(n=n.replace(mo,"")),n}},go={start:vo(1),end:vo(2),trim:vo(3)},yo=Zt.f,bo=rt.f,wo=at.f,xo=go.trim,ko=z.Number,So=ko.prototype,_o="Number"==q(Be(So)),Co=function(t){var e,n,r,o,i,a,s,l,c=G(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=xo(c)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(a=(i=c.slice(2)).length,s=0;s<a;s++)if((l=i.charCodeAt(s))<48||l>o)return NaN;return parseInt(i,r)}return+c};if(se("Number",!ko(" 0o1")||!ko("0b1")||ko("+0x1"))){for(var Oo,Mo=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof Mo&&(_o?P((function(){So.valueOf.call(n)})):"Number"!=q(n))?Fn(new ko(Co(e)),n,Mo):Co(e)},Eo=D?yo(ko):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),To=0;Eo.length>To;To++)Z(ko,Oo=Eo[To])&&!Z(Mo,Oo)&&wo(Mo,Oo,bo(ko,Oo));Mo.prototype=So,So.constructor=Mo,It(z,"Number",Mo)}ce({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Ao={};Ao[ye("toStringTag")]="z";var No="[object z]"===String(Ao),Ro=ye("toStringTag"),Io="Arguments"==q(function(){return arguments}()),jo=No?q:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ro))?n:Io?q(e):"Object"==(r=q(e))&&"function"==typeof e.callee?"Arguments":r},zo=No?{}.toString:function(){return"[object "+jo(this)+"]"};No||It(Object.prototype,"toString",zo,{unsafe:!0});var Po=z.Promise,Do=function(t,e,n){for(var r in e)It(t,r,e[r],n);return t},$o=at.f,Fo=ye("toStringTag"),Bo=function(t,e,n){t&&!Z(t=n?t:t.prototype,Fo)&&$o(t,Fo,{configurable:!0,value:e})},Lo=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Vo={},qo=ye("iterator"),Ho=Array.prototype,Wo=function(t){return void 0!==t&&(Vo.Array===t||Ho[qo]===t)},Uo=ye("iterator"),Jo=function(t){if(null!=t)return t[Uo]||t["@@iterator"]||Vo[jo(t)]},Ko=function(t,e,n,r){try{return r?e(ot(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&ot(o.call(t)),e}},Go=R((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,n,r,o,i){var a,s,l,c,u,d,p,f=dr(n,r,o?2:1);if(i)a=t;else{if("function"!=typeof(s=Jo(t)))throw TypeError("Target is not iterable");if(Wo(s)){for(l=0,c=Lt(t.length);c>l;l++)if((u=o?f(ot(p=t[l])[0],p[1]):f(t[l]))&&u instanceof e)return u;return new e(!1)}a=s.call(t)}for(d=a.next;!(p=d.call(a)).done;)if("object"==typeof(u=Ko(a,f,p.value,o))&&u&&u instanceof e)return u;return new e(!1)}).stop=function(t){return new e(!0,t)}})),Xo=ye("iterator"),Zo=!1;try{var Yo=0,Qo={next:function(){return{done:!!Yo++}},return:function(){Zo=!0}};Qo[Xo]=function(){return this},Array.from(Qo,(function(){throw 2}))}catch(Zh){}var ti,ei,ni,ri=function(t,e){if(!e&&!Zo)return!1;var n=!1;try{var r={};r[Xo]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},oi=/(iphone|ipod|ipad).*applewebkit/i.test(xe),ii=z.location,ai=z.setImmediate,si=z.clearImmediate,li=z.process,ci=z.MessageChannel,ui=z.Dispatch,di=0,pi={},fi=function(t){if(pi.hasOwnProperty(t)){var e=pi[t];delete pi[t],e()}},hi=function(t){return function(){fi(t)}},mi=function(t){fi(t.data)},vi=function(t){z.postMessage(t+"",ii.protocol+"//"+ii.host)};ai&&si||(ai=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return pi[++di]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},ti(di),di},si=function(t){delete pi[t]},"process"==q(li)?ti=function(t){li.nextTick(hi(t))}:ui&&ui.now?ti=function(t){ui.now(hi(t))}:ci&&!oi?(ni=(ei=new ci).port2,ei.port1.onmessage=mi,ti=dr(ni.postMessage,ni,1)):!z.addEventListener||"function"!=typeof postMessage||z.importScripts||P(vi)||"file:"===ii.protocol?ti="onreadystatechange"in tt("script")?function(t){ze.appendChild(tt("script")).onreadystatechange=function(){ze.removeChild(this),fi(t)}}:function(t){setTimeout(hi(t),0)}:(ti=vi,z.addEventListener("message",mi,!1)));var gi,yi,bi,wi,xi,ki,Si,_i,Ci={set:ai,clear:si},Oi=rt.f,Mi=Ci.set,Ei=z.MutationObserver||z.WebKitMutationObserver,Ti=z.process,Ai=z.Promise,Ni="process"==q(Ti),Ri=Oi(z,"queueMicrotask"),Ii=Ri&&Ri.value;Ii||(gi=function(){var t,e;for(Ni&&(t=Ti.domain)&&t.exit();yi;){e=yi.fn,yi=yi.next;try{e()}catch(t){throw yi?wi():bi=void 0,t}}bi=void 0,t&&t.enter()},Ni?wi=function(){Ti.nextTick(gi)}:Ei&&!oi?(xi=!0,ki=document.createTextNode(""),new Ei(gi).observe(ki,{characterData:!0}),wi=function(){ki.data=xi=!xi}):Ai&&Ai.resolve?(Si=Ai.resolve(void 0),_i=Si.then,wi=function(){_i.call(Si,gi)}):wi=function(){Mi.call(z,gi)});var ji,zi,Pi,Di,$i=Ii||function(t){var e={fn:t,next:void 0};bi&&(bi.next=e),yi||(yi=e,wi()),bi=e},Fi=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Xe(e),this.reject=Xe(n)},Bi={f:function(t){return new Fi(t)}},Li=function(t,e){if(ot(t),K(e)&&e.constructor===t)return e;var n=Bi.f(t);return(0,n.resolve)(e),n.promise},Vi=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},qi=Ci.set,Hi=ye("species"),Wi="Promise",Ui=Rt.get,Ji=Rt.set,Ki=Rt.getterFor(Wi),Gi=Po,Xi=z.TypeError,Zi=z.document,Yi=z.process,Qi=Pt("fetch"),ta=Bi.f,ea=ta,na="process"==q(Yi),ra=!!(Zi&&Zi.createEvent&&z.dispatchEvent),oa=se(Wi,(function(){if(ht(Gi)===String(Gi)){if(66===Ce)return!0;if(!na&&"function"!=typeof PromiseRejectionEvent)return!0}if(Ce>=51&&/native code/.test(Gi))return!1;var t=Gi.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[Hi]=e,!(t.then((function(){}))instanceof e)})),ia=oa||!ri((function(t){Gi.all(t).catch((function(){}))})),aa=function(t){var e;return!(!K(t)||"function"!=typeof(e=t.then))&&e},sa=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;$i((function(){for(var o=e.value,i=1==e.state,a=0;r.length>a;){var s,l,c,u=r[a++],d=i?u.ok:u.fail,p=u.resolve,f=u.reject,h=u.domain;try{d?(i||(2===e.rejection&&da(t,e),e.rejection=1),!0===d?s=o:(h&&h.enter(),s=d(o),h&&(h.exit(),c=!0)),s===u.promise?f(Xi("Promise-chain cycle")):(l=aa(s))?l.call(s,p,f):p(s)):f(o)}catch(t){h&&!c&&h.exit(),f(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&ca(t,e)}))}},la=function(t,e,n){var r,o;ra?((r=Zi.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),z.dispatchEvent(r)):r={promise:e,reason:n},(o=z["on"+t])?o(r):"unhandledrejection"===t&&function(t,e){var n=z.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},ca=function(t,e){qi.call(z,(function(){var n,r=e.value;if(ua(e)&&(n=Vi((function(){na?Yi.emit("unhandledRejection",r,t):la("unhandledrejection",t,r)})),e.rejection=na||ua(e)?2:1,n.error))throw n.value}))},ua=function(t){return 1!==t.rejection&&!t.parent},da=function(t,e){qi.call(z,(function(){na?Yi.emit("rejectionHandled",t):la("rejectionhandled",t,e.value)}))},pa=function(t,e,n,r){return function(o){t(e,n,o,r)}},fa=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,sa(t,e,!0))},ha=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw Xi("Promise can't be resolved itself");var o=aa(n);o?$i((function(){var r={done:!1};try{o.call(n,pa(ha,t,r,e),pa(fa,t,r,e))}catch(n){fa(t,r,n,e)}})):(e.value=n,e.state=1,sa(t,e,!1))}catch(n){fa(t,{done:!1},n,e)}}};function ma(t){return Number.isNaN(t)}function va(t,e,n){return t<e?e:t>n?n:t}function ga(t){var e=new FileReader;return new Promise((function(n,r){e.onload=function(t){return n(t.target.result)},e.onerror=r,e.readAsDataURL(t)}))}oa&&(Gi=function(t){Lo(this,Gi,Wi),Xe(t),ji.call(this);var e=Ui(this);try{t(pa(ha,this,e),pa(fa,this,e))}catch(t){fa(this,e,t)}},(ji=function(t){Ji(this,{type:Wi,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Do(Gi.prototype,{then:function(t,e){var n=Ki(this),r=ta(On(this,Gi));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=na?Yi.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&sa(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),zi=function(){var t=new ji,e=Ui(t);this.promise=t,this.resolve=pa(ha,t,e),this.reject=pa(fa,t,e)},Bi.f=ta=function(t){return t===Gi||t===Pi?new zi(t):ea(t)},"function"==typeof Po&&(Di=Po.prototype.then,It(Po.prototype,"then",(function(t,e){var n=this;return new Gi((function(t,e){Di.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Qi&&ce({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Li(Gi,Qi.apply(z,arguments))}}))),ce({global:!0,wrap:!0,forced:oa},{Promise:Gi}),Bo(Gi,Wi,!1),Ln(Wi),Pi=Pt(Wi),ce({target:Wi,stat:!0,forced:oa},{reject:function(t){var e=ta(this);return e.reject.call(void 0,t),e.promise}}),ce({target:Wi,stat:!0,forced:oa},{resolve:function(t){return Li(this,t)}}),ce({target:Wi,stat:!0,forced:ia},{all:function(t){var e=this,n=ta(e),r=n.resolve,o=n.reject,i=Vi((function(){var n=Xe(e.resolve),i=[],a=0,s=1;Go(t,(function(t){var l=a++,c=!1;i.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,i[l]=t,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=ta(e),r=n.reject,o=Vi((function(){var o=Xe(e.resolve);Go(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var ya=function(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),ba=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"elTiptapEditorStyle",get:function(){return[this.editorSizeStyle]}},{key:"editorSizeStyle",get:function(){var t=this.width,e=this.height;return{width:t=ma(Number(t))?t:"".concat(t).concat("px"),height:e=ma(Number(e))?e:"".concat(e).concat("px")}}}]),n}();jr([to({type:[String,Number],default:void 0})],ba.prototype,"width",void 0),jr([to({type:[String,Number],default:void 0})],ba.prototype,"height",void 0),jr([to({type:Boolean,default:!0})],ba.prototype,"showMenubar",void 0),jr([to({type:Boolean,default:!0})],ba.prototype,"charCounterCount",void 0);var wa=ba=jr([Xr],ba),xa=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).cmInstance=null,t.isCodeViewMode=!1,t}return Dn(n,[{key:"onCodeViewModeChange",value:function(t){var e=this;if(t)this.$nextTick((function(){return!e.cmInstance&&e.initCodemirror()}));else if(this.cmInstance){var n=this.cmInstance.getValue();this.editor.setContent(n,!0),this.destroyCodemirror()}}},{key:"initCodemirror",value:function(){var t=this.extensions.find((function(t){return"code_view"===t.name}));if(t){var e=t.options,n=e.codemirror,r=e.codemirrorOptions;if(n){var o=Object.assign(Object.assign({},r),{readOnly:this.readonly,spellcheck:this.spellcheckEnabled});this.cmInstance=n.fromTextArea(this.$refs.cmTextArea,o),this.cmInstance.setValue(this.editor.getHTML()),this.formatCode()}}}},{key:"destroyCodemirror",value:function(){var t=this.cmInstance.doc.cm.getWrapperElement();t&&t.remove&&t.remove(),this.cmInstance=null}},{key:"formatCode",value:function(){var t=this.cmInstance;t.execCommand("selectAll");var e={from:t.getCursor(!0),to:t.getCursor(!1)};t.autoFormatRange(e.from,e.to),t.setCursor(0)}}]),n}();jr([eo("isCodeViewMode")],xa.prototype,"onCodeViewModeChange",null);var ka=xa=jr([Xr],xa),Sa=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"generateCommandButtonComponentSpecs",value:function(t){var e=this;return this.editor.extensions.extensions.reduce((function(n,r){if(!1===r.options.menubar)return n;if("function"!=typeof r.menuBtnView)return n;var o=r.menuBtnView(Object.assign(Object.assign({},t),{editor:e.editor,t:e.et.t}));return Array.isArray(o)?[].concat(Or(n),Or(o)):[].concat(Or(n),[o])}),[])}}]),n}();function _a(t,e,n,r,o,i,a,s,l,c){"boolean"!=typeof a&&(l=s,s=a,a=!1);const u="function"==typeof n?n.options:n;let d;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),r&&(u._scopeId=r),i?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=d):e&&(d=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),d)if(u.functional){const t=u.render;u.render=function(e,n){return d.call(n),t(e,n)}}else{const t=u.beforeCreate;u.beforeCreate=t?[].concat(t,d):[d]}return n}jr([to({type:o["b"],required:!0})],Sa.prototype,"editor",void 0),jr([Zr()],Sa.prototype,"et",void 0);const Ca=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("default",[n("div",{staticClass:"el-tiptap-editor__menu-bar"},t._l(t.generateCommandButtonComponentSpecs(e),(function(e,r){return n(e.component,t._g(t._b({key:"command-button"+r,tag:"component",attrs:{"enable-tooltip":t.et.tooltip,readonly:t.et.isCodeViewMode}},"component",e.componentProps,!1),e.componentEvents))})),1)],null,e)]}}],null,!0)})},staticRenderFns:[]},void 0,Sa=jr([Xr({components:{EditorMenuBar:o["d"]}})],Sa),void 0,!1,void 0,!1,void 0,void 0,void 0);var Oa=hr.some,Ma=Ye("some"),Ea=Je("some");ce({target:"Array",proto:!0,forced:!Ma||!Ea},{some:function(t){return Oa(this,t,arguments.length>1?arguments[1]:void 0)}});var Ta=/"/g,Aa=function(t,e,n,r){var o=String(U(t)),i="<"+e;return""!==n&&(i+=" "+n+'="'+String(r).replace(Ta,"&quot;")+'"'),i+">"+o+"</"+e+">"},Na=function(t){return P((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))};ce({target:"String",proto:!0,forced:Na("link")},{link:function(t){return Aa(this,"a","href",t)}});for(var Ra="-_",Ia=36;Ia--;)Ra+=Ia.toString(36);for(Ia=36;Ia---10;)Ra+=Ia.toString(36).toUpperCase();let ja={};function za(t,e){e?e.constructor.super.util.warn(t,e):console.error(t)}var Pa={name:"fa-icon",props:{name:{type:String,validator(t){return!t||t in ja||(za(`Invalid prop: prop "name" is referring to an unregistered icon "${t}".\nPlease make sure you have imported this icon before using it.`,this),!1)}},title:String,scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:t=>"horizontal"===t||"vertical"===t||"both"===t},label:String,tabindex:[Number,String]},data:()=>({id:$a("va-"),x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}),computed:{normalizedScale(){let t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(za('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass(){let t={"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-flip-both":"both"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse};return this.classes&&Object.keys(this.classes).forEach(e=>{this.classes[e]&&(t[e]=!0)}),t},icon(){return this.name?ja[this.name]:null},box(){return this.icon?`0 0 ${this.icon.width} ${this.icon.height}`:`0 0 ${this.width} ${this.height}`},ratio(){if(!this.icon)return 1;let{width:t,height:e}=this.icon;return Math.max(t,e)/16},width(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw(){if(!this.icon||!this.icon.raw)return null;let t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,(t,n,r)=>{let o=$a("vat-");return e[r]=o,` id="${o}"`}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(t,n,r,o)=>{let i=n||o;return i&&e[i]?"#"+e[i]:t}),t},focusable(){let{tabindex:t}=this;return null==t?"false":("string"==typeof t?parseInt(t,10):t)>=0?null:"false"}},mounted(){this.updateStack()},updated(){this.updateStack()},methods:{updateStack(){if(!this.name&&null!==this.name&&0===this.$children.length)return void za('Invalid prop: prop "name" is required.',this);if(this.icon)return;let t=0,e=0;this.$children.forEach(n=>{n.outerScale=this.normalizedScale,t=Math.max(t,n.width),e=Math.max(e,n.height)}),this.childrenWidth=t,this.childrenHeight=e,this.$children.forEach(n=>{n.x=(t-n.width)/2,n.y=(e-n.height)/2})}},render(t){if(null===this.name)return t();let e={class:this.klass,style:this.style,attrs:{role:this.$attrs.role||(this.label||this.title?"img":null),"aria-label":this.label||null,"aria-hidden":!(this.label||this.title),tabindex:this.tabindex,x:this.x,y:this.y,width:this.width,height:this.height,viewBox:this.box,focusable:this.focusable},on:this.$listeners},n=this.id;if(this.title&&(e.attrs["aria-labelledby"]=n),this.raw){let t=`<g>${this.raw}</g>`;this.title&&(t=`<title id="${n}">${function(t){return t.replace(/[<>"&]/g,t=>Fa[t]||t)}(this.title)}</title>${t}`),e.domProps={innerHTML:t}}let r=this.title?[t("title",{attrs:{id:n}},this.title)]:[];return t("svg",e,this.raw?null:r.concat([t("g",this.$slots.default||(this.icon?[...this.icon.paths.map((e,n)=>t("path",{attrs:e,key:"path-"+n})),...this.icon.polygons.map((e,n)=>t("polygon",{attrs:e,key:"polygon-"+n}))]:[]))]))},register(t){for(let e in t){let n=t[e],{paths:r=[],d:o,polygons:i=[],points:a}=n;o&&r.push({d:o}),a&&i.push({points:a}),ja[e]=Da({},n,{paths:r,polygons:i})}},icons:ja};function Da(t,...e){return e.forEach(e=>{for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function $a(t=""){return t+function(t){var e="";for(Ia=t||21;Ia--;)e+=Ra[64*Math.random()|0];return e}(7)}const Fa={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"},Ba=_a({},void 0,Pa,void 0,void 0,void 0,!1,void 0,void 0,void 0);function La(t){return function(t){if(Array.isArray(t))return Va(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Va(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Va(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Va(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qa(t,e){var n=t.selection,r=n.from,o=n.to,i=[];t.doc.nodesBetween(r,o,(function(t){i=[].concat(La(i),La(t.marks))}));var a=i.find((function(t){return t.type.name===e.name}));return a?a.attrs:{}}function Ha(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t||!e)return!1;var n=t.parent.childAfter(t.parentOffset);if(!n.node)return!1;var r=n.node.marks.find((function(t){return t.type===e}));if(!r)return!1;for(var o=t.index(),i=t.start()+n.offset,a=o+1,s=i+n.node.nodeSize;o>0&&r.isInSet(t.parent.child(o-1).marks);)o-=1,i-=t.parent.child(o).nodeSize;for(;a<t.parent.childCount&&r.isInSet(t.parent.child(a).marks);)s+=t.parent.child(a).nodeSize,a+=1;return{from:i,to:s}}Ba.register({heading:{width:512,height:512,paths:[{d:"M448 96v320h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-160c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32v-128h-192v128h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-160c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32v-320h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32v128h192v-128h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32z"}]}}),Ba.register({font:{width:448,height:512,paths:[{d:"M432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h19.6l-23.3-64h-152.6l-23.3 64h19.6c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h23.4l130.7-362.3c4.1-12 17.6-21.7 30.3-21.7h0 47.2 0c12.6 0 26.2 9.7 30.3 21.7l130.7 362.3h23.4zM176.8 272h94.3l-47.2-129.5z"}]}}),Ba.register({tint:{width:352,height:512,paths:[{d:"M205.2 22.1c47 158.5 146.8 200.1 146.8 311.8 0 98.4-78.7 178.1-176 178.1s-176-79.7-176-178.1c0-111.2 100-154.1 146.8-311.8 9-30.1 50.5-28.8 58.4 0zM176 448c8.8 0 16-7.2 16-16s-7.2-16-16-16c-44.1 0-80-35.9-80-80 0-8.8-7.2-16-16-16s-16 7.2-16 16c0 61.8 50.3 112 112 112z"}]}}),Ba.register({highlighter:{width:544,height:512,paths:[{d:"M0 480l68.3-70.5 67 67-35.5 35.5zM124.6 240l41.5-35.4 173.3 173.3-35.5 41.6c-9.5 10.8-24.4 15-38.2 10.8l-42.7-13.1-50.9 50.9-96.2-96.2 50.9-50.9-13-42.8c-0.9-2.9-1.6-7.7-1.6-10.7 0-9.1 5.5-21.4 12.4-27.4zM527.9 79.3c20.5 20.5 21.5 53.4 2.3 75.1l-169.9 199.1-169.8-169.8 199.1-170c21.7-19.2 54.6-18.1 75.1 2.4z"}]}}),Ba.register({bold:{width:384,height:512,paths:[{d:"M333.5 238c34.4 27.5 55.6 71.2 50.8 119.6-6.9 70.7-70.2 122.4-141 122.4h-209.3c-8.8 0-16-7.2-16-16v-48c0-8.8 7.2-16 16-16h31.9v-288h-31.9c-8.8 0-16-7.2-16-16v-48c0-8.8 7.2-16 16-16h199.4c74.6 0 134.4 64.5 127.1 140.8-2 20.3-14.1 49.5-27 65.2zM145.7 112v96h87.8c26.5 0 48-21.5 48-48s-21.5-48-48-48h-87.8zM233.4 400c30.9 0 56-25.1 56-56s-25.1-56-56-56h-87.8v112h87.8z"}]}}),Ba.register({underline:{width:448,height:512,paths:[{d:"M32 64c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h144c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32v160c0 44.2 35.8 80 80 80s80-35.8 80-80v-160h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h144c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32v160c0 88.2-71.8 160-160 160s-160-71.8-160-160v-160h-32zM432 448c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Ba.register({italic:{width:320,height:512,paths:[{d:"M320 48v32c0 8.8-7.2 16-16 16h-62.8l-80 320h46.8c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-192c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h62.8l80-320h-46.8c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16z"}]}}),Ba.register({strikethrough:{width:512,height:512,paths:[{d:"M496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-480c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h102.3c-11.7-16.5-19.8-35.5-21.8-56.4-0.3-3.3-0.6-8.7-0.6-12 0-68.2 55.4-123.6 123.6-123.7h68 0c43.7 0 95 31.7 114.5 70.8l0.5 1c0.9 1.9 1.7 5.1 1.7 7.1 0 5.5-4 11.9-8.8 14.3l-42.9 21.5c-1.9 0.9-5.1 1.7-7.2 1.7-5.5 0-11.9-4-14.3-8.8-7.6-15.2-27.6-27.6-44.6-27.6h0-66.8c-24 0-43.5 19.5-43.5 43.5 0 17.7 13.8 36.4 30.7 41.6l87.2 26.8h202.1zM315.8 320h94.4c2.2 6.6 4.6 17.5 5.3 24.4 0.3 3.3 0.6 8.7 0.6 12 0 68.2-55.4 123.6-123.6 123.7h-68 0c-43.7 0-95-31.7-114.5-70.8l-0.5-1c-0.9-1.9-1.7-5.1-1.7-7.1 0-5.5 4-11.9 8.8-14.3l42.9-21.5c1.9-0.9 5.1-1.7 7.2-1.7 5.5 0 11.9 4 14.3 8.8 7.6 15.2 27.6 27.6 44.6 27.6h0 66.8c24 0 43.5-19.5 43.5-43.5 0-13.2-9.1-29.5-20.2-36.5z"}]}}),Ba.register({link:{width:512,height:512,paths:[{d:"M326.6 185.4c59.7 59.8 58.9 155.7 0.4 214.6-0.1 0.1-0.2 0.3-0.4 0.4l-67.2 67.2c-59.3 59.3-155.7 59.3-215 0-59.3-59.3-59.3-155.7 0-215l37.1-37.1c9.8-9.8 26.8-3.3 27.3 10.6 0.6 17.7 3.8 35.5 9.7 52.7 2 5.8 0.6 12.3-3.8 16.6l-13.1 13.1c-28 28-28.9 73.7-1.2 102 28 28.6 74.1 28.7 102.3 0.5l67.2-67.2c28.2-28.2 28.1-73.8 0-101.8-3.7-3.7-7.4-6.6-10.3-8.6-3.7-2.5-6.8-8.2-6.9-12.6-0.4-10.6 3.3-21.5 11.7-29.8l21.1-21.1c5.5-5.5 14.2-6.2 20.6-1.7 6.1 4.2 15.3 12 20.5 17.2zM467.5 44.4c59.3 59.3 59.3 155.7 0 215l-37.1 37.1c-9.8 9.8-26.8 3.3-27.3-10.6-0.6-17.7-3.8-35.5-9.7-52.7-2-5.8-0.6-12.3 3.8-16.6l13.1-13.1c28-28 28.9-73.7 1.2-102-28-28.6-74.1-28.7-102.3-0.5l-67.2 67.2c-28.2 28.2-28.1 73.8 0 101.8 3.7 3.7 7.4 6.6 10.3 8.6 3.7 2.5 6.8 8.2 6.9 12.6 0.4 10.6-3.3 21.5-11.7 29.8l-21.1 21.1c-5.5 5.5-14.2 6.2-20.6 1.7-6.1-4.2-15.3-12-20.5-17.2-59.7-59.8-58.9-155.7-0.4-214.6 0.1-0.1 0.2-0.3 0.4-0.4l67.2-67.2c59.3-59.3 155.7-59.3 215 0z"}]}}),Ba.register({edit:{width:576,height:512,paths:[{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8l-218.4 218.4-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8 218.4-218.4c3.8-3.8 10-3.8 13.8 0zM564.6 60.3c15.2 15.2 15.2 39.9 0 55.2l-35.4 35.4c-3.8 3.8-10 3.8-13.8 0l-90.2-90.2c-3.8-3.8-3.8-10 0-13.8l35.4-35.4c15.3-15.2 40-15.2 55.2 0zM384 346.2c0-3.2 1.3-6.2 3.5-8.5l40-40c7.6-7.5 20.5-2.2 20.5 8.5v157.8c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h285.8c10.7 0 16.1 12.9 8.5 20.5l-40 40c-2.3 2.2-5.3 3.5-8.5 3.5h-229.8v320h320v-101.8z"}]}}),Ba.register({unlink:{width:512,height:512,paths:[{d:"M304.1 405.9c4.7 4.7 4.7 12.3 0 17l-44.7 44.7c-59.3 59.3-155.7 59.3-215 0-59.3-59.3-59.3-155.7 0-215l44.7-44.7c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17l-44.7 44.7c-28.1 28.1-28.1 73.8 0 101.8 28.1 28.1 73.8 28.1 101.8 0l44.7-44.7c4.7-4.7 12.3-4.7 17 0zM247.5 145.7l-39.6-39.6c-4.7-4.7-4.7-12.3 0-17l44.7-44.7c59.3-59.3 155.7-59.3 215 0s59.3 155.7 0 215l-44.7 44.7c-4.7 4.7-12.3 4.7-17 0l-39.6-39.6c-4.7-4.7-4.7-12.3 0-17l44.7-44.7c28.1-28.1 28.1-73.8 0-101.8-28.1-28.1-73.8-28.1-101.8 0l-44.7 44.7c-4.7 4.7-12.3 4.7-17 0zM482.3 505c-9.4 9.4-24.6 9.4-33.9 0l-441.4-441.4c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l441.4 441.4c9.4 9.4 9.4 24.6 0 33.9z"}]}}),Ba.register({"external-link-alt":{width:512,height:512,paths:[{d:"M432 320c8.8 0 16 7.2 16 16v128c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-144v320h320v-112c0-8.8 7.2-16 16-16h32zM488 0c13.2 0 24 10.8 24 24v128c0 21.5-26 32-41 17l-35.7-35.7-243.6 243.7c-3.9 3.9-11.5 7.1-17 7.1s-13.1-3.2-17-7.1l-22.7-22.6c-3.9-3.9-7.1-11.5-7.1-17s3.2-13.1 7.1-17l243.7-243.6-35.7-35.7c-15-15.1-4.4-41 17-41h128z"}]}}),Ba.register({image:{width:512,height:512,paths:[{d:"M464 448h-416c-26.5 0-48-21.5-48-48v-288c0-26.5 21.5-48 48-48h416c26.5 0 48 21.5 48 48v288c0 26.5-21.5 48-48 48zM112 120c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56zM64 384h384v-112l-87.5-87.5c-4.7-4.7-12.3-4.7-17 0l-135.5 135.5-55.5-55.5c-4.7-4.7-12.3-4.7-17 0l-71.5 71.5v48z"}]}}),Ba.register({"regular/image":{width:512,height:512,paths:[{d:"M464 64c26.5 0 48 21.5 48 48v288c0 26.5-21.5 48-48 48h-416c-26.5 0-48-21.5-48-48v-288c0-26.5 21.5-48 48-48h416zM458 400c3.3 0 6-2.7 6-6v-276c0-3.3-2.7-6-6-6h-404c-3.3 0-6 2.7-6 6v276c0 3.3 2.7 6 6 6h404zM128 152c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40zM96 352v-48l39.5-39.5c4.7-4.7 12.3-4.7 17 0l39.5 39.5 119.5-119.5c4.7-4.7 12.3-4.7 17 0l87.5 87.5v80h-320z"}]}}),Ba.register({"ellipsis-h":{width:512,height:512,paths:[{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zM432 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM80 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72z"}]}}),Ba.register({"regular/trash-alt":{width:448,height:512,paths:[{d:"M268 416c-6.6 0-12-5.4-12-12v-216c0-6.6 5.4-12 12-12h24c6.6 0 12 5.4 12 12v216c0 6.6-5.4 12-12 12h-24zM432 80c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16v336c0 26.5-21.5 48-48 48h-288c-26.5 0-48-21.5-48-48v-336h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h82.4l34-56.7c7.7-12.9 26.2-23.3 41.2-23.3h0 100.8 0c15 0 33.4 10.4 41.2 23.3l34 56.7h82.4zM171.8 50.9l-17.5 29.1h139.2l-17.5-29.1c-1-1.6-3.3-2.9-5.1-2.9h0-94 0c-1.9 0-4.2 1.3-5.1 2.9zM368 464v-336h-288v336h288zM156 416c-6.6 0-12-5.4-12-12v-216c0-6.6 5.4-12 12-12h24c6.6 0 12 5.4 12 12v216c0 6.6-5.4 12-12 12h-24z"}]}}),Ba.register({video:{width:576,height:512,paths:[{d:"M336.2 64c26.4 0 47.8 21.4 47.8 47.8v288.4c0 26.4-21.4 47.8-47.8 47.8h-288.4c-26.4 0-47.8-21.4-47.8-47.8v-288.4c0-26.4 21.4-47.8 47.8-47.8h288.4zM525.6 101.7c21.3-14.6 50.4 0.4 50.4 25.8v256.9c0 25.5-29.2 40.4-50.4 25.8l-109.6-75.5v-157.4z"}]}}),Ba.register({code:{width:640,height:512,paths:[{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9l136.5-470.2c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9l-136.5 470.2c-1.9 6.4-8.5 10.1-14.9 8.2zM164.9 399.3c-4.5 4.9-12.1 5.1-17 0.5l-144.1-135.1c-5.1-4.7-5.1-12.8 0-17.5l144.1-135c4.9-4.6 12.5-4.3 17 0.5l43.5 46.4c4.7 4.9 4.3 12.7-0.8 17.2l-90.6 79.7 90.6 79.7c5.1 4.5 5.4 12.3 0.8 17.2zM492.1 399.9c-4.9 4.5-12.5 4.3-17-0.6l-43.5-46.4c-4.7-4.9-4.3-12.7 0.8-17.2l90.6-79.7-90.6-79.8c-5.1-4.5-5.4-12.3-0.8-17.2l43.5-46.4c4.6-4.8 12.2-5 17-0.5l144.1 135.2c5.1 4.7 5.1 12.8 0 17.5z"}]}}),Ba.register({"quote-right":{width:512,height:512,paths:[{d:"M464 32c26.5 0 48 21.5 48 48v240c0 88.4-71.6 160-160 160h-8c-13.3 0-24-10.7-24-24v-48c0-13.3 10.7-24 24-24h8c35.3 0 64-28.7 64-64v-64h-80c-26.5 0-48-21.5-48-48v-128c0-26.5 21.5-48 48-48h128zM176 32c26.5 0 48 21.5 48 48v240c0 88.4-71.6 160-160 160h-8c-13.3 0-24-10.7-24-24v-48c0-13.3 10.7-24 24-24h8c35.3 0 64-28.7 64-64v-64h-80c-26.5 0-48-21.5-48-48v-128c0-26.5 21.5-48 48-48h128z"}]}}),Ba.register({"align-left":{width:448,height:512,paths:[{d:"M12.8 352c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3 0c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3zM12.8 96c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3 0c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3zM432 160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Ba.register({"align-center":{width:448,height:512,paths:[{d:"M432 160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM108.1 96c-6.7 0-12.1-5.4-12.1-12.1v-39.8c0-6.7 5.4-12.1 12.1-12.1h0 231.8c6.7 0 12.1 5.4 12.1 12.1v39.8 0c0 6.7-5.4 12.1-12.1 12.1v0h-231.8zM339.9 352h-231.8c-6.7 0-12.1-5.4-12.1-12.1v-39.8c0-6.7 5.4-12.1 12.1-12.1h0 231.8c6.7 0 12.1 5.4 12.1 12.1v39.8 0c0 6.7-5.4 12.1-12.1 12.1v0z"}]}}),Ba.register({"align-right":{width:448,height:512,paths:[{d:"M16 224c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM435.2 32c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3zM435.2 288c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3z"}]}}),Ba.register({"align-justify":{width:448,height:512,paths:[{d:"M432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 288c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Ba.register({"text-width":{width:448,height:512,paths:[{d:"M432 32c8.8 0 16 7.2 16 16v80c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-16h-120v112h24c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h24v-112h-120v16c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-80c0-8.8 7.2-16 16-16h416zM363.3 292.7l80 80c2.6 2.6 4.7 7.7 4.7 11.3s-2.1 8.7-4.7 11.3l-80 80c-10 10-27.3 3-27.3-11.3v-48h-224v48c0 15.6-18 20.6-27.3 11.3l-80-80c-2.6-2.6-4.7-7.7-4.7-11.3s2.1-8.7 4.7-11.3l80-80c10-10 27.3-3 27.3 11.3v48h224v-48c0-15.6 18-20.6 27.3-11.3z"}]}}),Ba.register({"text-height":{width:576,height:512,paths:[{d:"M304 32c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32h-56v304h40c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-160c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h40v-304h-56v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-96c0-8.8 7.2-16 16-16h288zM560 368c15.6 0 20.6 18 11.3 27.3l-80 80c-2.6 2.6-7.7 4.7-11.3 4.7s-8.7-2.1-11.3-4.7l-80-80c-10-10-3-27.3 11.3-27.3h48v-224h-48c-15.6 0-20.6-18-11.3-27.3l80-80c2.6-2.6 7.7-4.7 11.3-4.7s8.7 2.1 11.3 4.7l80 80c10 10 3 27.3-11.3 27.3h-48v224h48z"}]}}),Ba.register({"list-ul":{width:512,height:512,paths:[{d:"M48 48c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM48 208c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM48 368c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM496 384c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 64c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320z"}]}}),Ba.register({"list-ol":{width:512,height:512,paths:[{d:"M61.8 401c19.6 5.1 28.7 20.5 28.7 34.9 0 21.4-14.3 44.1-48.5 44.1-16.6 0-29.3-4.8-37-9.4-5.8-4.2-6.3-9.8-2.6-15.9l5.6-9.3c3.9-6.6 9.1-7 15.6-3.1 4.1 1.7 11 3.1 15.5 3.1 10.2 0 14.4-3.5 14.4-8.2 0-6.6-5.6-9.1-15.9-9.1h-4.7c-6 0-9.3-2.1-12.3-7.9l-1-1.9c-2.5-4.8-1.2-9.8 2.8-14.9l5.6-7c2.9-3.6 7.8-9.1 11-12.3h-22.8c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h57c7.5 0 11.3 4 11.3 11.3v3.3c0 0.2 0 0.6 0 0.9 0 4.2-2.3 10.2-5.1 13.3zM496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 64c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 384c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM16 160c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h16v-64h-8c-4.4 0-8-3.6-8-8 0-1 0.4-2.6 0.8-3.6l8-16c1.2-2.4 4.4-4.4 7.1-4.4h24c4.4 0 8 3.6 8 8v88h16c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-64zM12.1 320c-7 0-12.1-4-12.1-11.4v-4c0-47.3 51-56.4 51-69.1 0-7.2-6-8.8-9.3-8.8h-0.1c-3 0-7.2 1.7-9.4 3.8-5.1 4.9-10.5 7-16.1 2.4l-8.6-6.9c-5.8-4.5-7.2-9.8-2.8-15.4 6.7-8.8 19.1-18.8 40.5-18.8 19.5 0 44.5 10.5 44.5 39.6 0 37.8-45 46.2-48.3 56.4h38.7c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-67.9z"}]}}),Ba.register({tasks:{width:512,height:512,paths:[{d:"M139.6 35.5l17 16.5c1.9 1.9 3.4 5.7 3.4 8.5 0 2.8-1.6 6.6-3.5 8.5l-72.2 72.2-15.6 15.6c-2 1.9-6 3.5-8.8 3.5-2.8 0-6.8-1.6-8.8-3.5l-47.6-47.4c-1.9-1.9-3.5-5.8-3.5-8.5 0-2.8 1.6-6.6 3.5-8.5l15.7-15.7c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5l22.7 22.1 63.7-63.3c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5zM139.6 194.7l17 17c1.9 1.9 3.4 5.7 3.4 8.4 0 2.7-1.6 6.6-3.5 8.5l-72.2 72.2-15.7 15.7c-2 1.9-6 3.5-8.8 3.5s-6.8-1.6-8.8-3.5l-47.5-47.5c-1.9-1.9-3.5-5.7-3.5-8.5s1.6-6.6 3.5-8.5l15.7-15.7c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5l22.7 22.1 63.7-63.7c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5zM64 368c26.5 0 48 21.5 48 48s-21.5 48-48 48c-26.5 0-48.6-21.5-48.6-48s22.1-48 48.6-48zM496 384c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-288c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h288zM496 64c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-288c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h288zM496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-288c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h288z"}]}}),Ba.register({indent:{width:448,height:512,paths:[{d:"M27.3 363.3c-10 10-27.3 3-27.3-11.3v-192c0-14.2 17.3-21.3 27.3-11.3l96 96c2.6 2.6 4.7 7.7 4.7 11.3 0 3.7-2.1 8.7-4.7 11.3zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM435.2 288c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM435.2 160c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Ba.register({outdent:{width:448,height:512,paths:[{d:"M100.7 363.3l-96-96c-2.6-2.6-4.7-7.7-4.7-11.3s2.1-8.7 4.7-11.3l96-96c10-10 27.3-3 27.3 11.3v192c0 14.2-17.3 21.3-27.3 11.3zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM435.2 288c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM435.2 160c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Ba.register({minus:{width:448,height:512,paths:[{d:"M416 208c17.7 0 32 14.3 32 32v32c0 17.7-14.3 32-32 32h-384c-17.7 0-32-14.3-32-32v-32c0-17.7 14.3-32 32-32h384z"}]}}),Ba.register({table:{width:512,height:512,paths:[{d:"M464 32c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48h-416c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h416zM224 416v-96h-160v96h160zM224 256v-96h-160v96h160zM448 416v-96h-160v96h160zM448 256v-96h-160v96h160z"}]}}),Ba.register({"remove-format":{width:640,height:512,paths:[{d:"M336 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32.5l26.5-79.6 67.1 51.8-9.3 27.8h11.2zM633.8 458.1c3.4 2.7 6.2 8.3 6.2 12.6 0 3-1.5 7.4-3.4 9.8l-19.6 25.3c-2.7 3.4-8.3 6.2-12.6 6.2-3 0-7.4-1.5-9.8-3.4l-588.4-454.7c-3.4-2.7-6.2-8.3-6.2-12.6 0-3 1.5-7.4 3.4-9.8l19.6-25.3c2.7-3.4 8.3-6.2 12.6-6.2 3 0 7.4 1.5 9.8 3.4l114.5 88.5v-43.9c0-8.8 7.2-16 16-16h416c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32h-117.8l-49.2 147.6zM309.9 207.8l31.9-95.8h-117.8v29.4z"}]}}),Ba.register({undo:{width:512,height:512,paths:[{d:"M212.3 224.3h-200.3c-6.6 0-12-5.4-12-12v-200.3c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v78.1c45.8-50.8 112.3-82.6 186.2-82.1 136.9 1 246.4 111.6 246.2 248.5-0.3 136.7-111.2 247.5-248 247.5-64.1 0-122.5-24.3-166.5-64.2-5.1-4.6-5.3-12.6-0.5-17.4l34-34c4.5-4.5 11.7-4.7 16.4-0.5 31 27.5 71.9 44.1 116.6 44.1 97.3 0 176-78.7 176-176 0-97.3-78.7-176-176-176-58.5 0-110.3 28.5-142.3 72.3h98.3c6.6 0 12 5.4 12 12v48c0 6.6-5.4 12-12 12z"}]}}),Ba.register({redo:{width:512,height:512,paths:[{d:"M500.3 0c6.6 0 12 5.4 12 12v200.3c0 6.6-5.4 12-12 12h-200.3c-6.6 0-12-5.4-12-12v-47.4 0c0-6.6 5.4-12 12-12 0.2 0 0.4 0 0.6 0l101.5 4.9c-28.9-43-94.3-77.8-146.1-77.8-97.2 0-176 78.8-176 176 0 97.2 78.8 176 176 176 36.7 0 88.7-19.7 116.3-43.9 1.9-1.6 5.4-3 7.9-3 2.7 0 6.5 1.6 8.5 3.5l34 34c1.9 1.9 3.5 5.7 3.5 8.5 0 3-1.8 7-4 8.9-39 35.3-113.3 63.9-165.8 63.9h-0.3c-136.9 0-247.9-110.9-248-247.8-0.1-136.7 111.3-248.2 248-248.2h0.3c63.2 0 147.7 39.1 188.6 87.3l-4-82.8c0-0.2 0-0.4 0-0.6 0-6.6 5.4-12 12-12h0 47.4z"}]}}),Ba.register({expand:{width:448,height:512,paths:[{d:"M0 180v-124c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-84v84c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12zM288 44c0-6.6 5.4-12 12-12h124c13.3 0 24 10.7 24 24v124c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-84h-84c-6.6 0-12-5.4-12-12v-40zM436 320c6.6 0 12 5.4 12 12v124c0 13.3-10.7 24-24 24h-124c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84v-84c0-6.6 5.4-12 12-12h40zM160 468c0 6.6-5.4 12-12 12h-124c-13.3 0-24-10.7-24-24v-124c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40z"}]}}),Ba.register({compress:{width:448,height:512,paths:[{d:"M436 192h-124c-13.3 0-24-10.7-24-24v-124c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zM160 168c0 13.3-10.7 24-24 24h-124c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84v-84c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v124zM160 468c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-84h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h124c13.3 0 24 10.7 24 24v124zM352 468c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-124c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-84v84z"}]}}),Ba.register({print:{width:512,height:512,paths:[{d:"M448 192c35.3 0 64 28.7 64 64v112c0 8.8-7.2 16-16 16h-48v96c0 17.7-14.3 32-32 32h-320c-17.7 0-32-14.3-32-32v-96h-48c-8.8 0-16-7.2-16-16v-112c0-35.3 28.7-64 64-64v-160c0-17.7 14.3-32 32-32h274.7c8.5 0 16.6 3.4 22.6 9.4l45.3 45.3c6 6 9.4 14.1 9.4 22.6v114.8zM384 448v-96h-256v96h256zM384 224v-96h-48c-8.8 0-16-7.2-16-16v-48h-192v160h256zM432 296c13.3 0 24-10.8 24-24 0-13.3-10.8-24-24-24s-24 10.7-24 24c0 13.3 10.8 24 24 24z"}]}}),Ba.register({eye:{width:576,height:512,paths:[{d:"M572.5 241.4c1.9 3.8 3.5 10.3 3.5 14.6s-1.6 10.8-3.5 14.6c-54.2 105.8-161.6 177.4-284.5 177.4s-230.3-71.6-284.5-177.4c-1.9-3.8-3.5-10.3-3.5-14.6s1.6-10.8 3.5-14.6c54.2-105.8 161.6-177.4 284.5-177.4s230.3 71.6 284.5 177.4zM288 400h0.1c79.4 0 143.9-64.5 143.9-143.9v-0.1c0-79.5-64.5-144-144-144s-144 64.5-144 144 64.5 144 144 144zM288 160h0.2c52.9 0 95.8 42.9 95.8 95.8 0 52.9-42.9 95.8-95.8 95.8-52.9 0-95.8-42.9-95.8-95.8 0-7 1.5-18.3 3.3-25.1 7 5.1 19.7 9.3 28.4 9.3 26.4 0 47.8-21.4 47.8-47.8 0-8.7-4.2-21.4-9.3-28.4 6.8-2 18.2-3.7 25.3-3.8z"}]}}),Ba.register({"regular/object-group":{width:512,height:512,paths:[{d:"M500 128h-12v256h12c6.6 0 12 5.4 12 12v72c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-12h-320v12c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-72c0-6.6 5.4-12 12-12h12v-256h-12c-6.6 0-12-5.4-12-12v-72c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v12h320v-12c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v72c0 6.6-5.4 12-12 12zM448 64v32h32v-32h-32zM32 64v32h32v-32h-32zM64 448v-32h-32v32h32zM480 448v-32h-32v32h32zM440 384v-256h-12c-6.6 0-12-5.4-12-12v-12h-320v12c0 6.6-5.4 12-12 12h-12v256h12c6.6 0 12 5.4 12 12v12h320v-12c0-6.6 5.4-12 12-12h12zM404 192c6.6 0 12 5.4 12 12v168c0 6.6-5.4 12-12 12h-200c-6.6 0-12-5.4-12-12v-52h-84c-6.6 0-12-5.4-12-12v-168c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v52h84zM136 168v112h144v-112h-144zM376 344v-112h-56v76c0 6.6-5.4 12-12 12h-76v24h144z"}]}}),Ba.register({"regular/file-code":{width:384,height:512,paths:[{d:"M149.9 349.1c3.5 3.3 3.7 8.9 0.4 12.4l-17.4 18.6c-1.6 1.8-4 2.8-6.4 2.8-2.2 0-4.4-0.9-6-2.4l-57.7-54.1c-3.7-3.4-3.7-9.3 0-12.8l57.7-54.1c3.4-3.3 9-3.2 12.4 0.4l17.4 18.6 0.2 0.2c3.2 3.6 2.8 9.2-0.8 12.4l-32.8 28.9 32.8 28.9zM369.9 97.9c9 9 14.1 21.3 14.1 34v332.1c0 26.5-21.5 48-48 48h-288c-26.5 0-48-21.5-48-48v-416c0-26.5 21.5-48 48-48.1h204.1c12.7 0 24.9 5.1 33.9 14.1zM256 51.9v76.1h76.1zM336 464v-288h-104c-13.3 0-24-10.7-24-24v-104h-160v416h288zM209.6 214l24.4 7c4.7 1.3 7.4 6.2 6 10.9l-54.7 188.2c-1.3 4.6-6.2 7.4-10.9 6l-24.4-7.1c-4.7-1.3-7.4-6.2-6-10.9l54.7-188.1c1.4-4.7 6.2-7.4 10.9-6zM234.1 290.9c-3.5-3.3-3.7-8.9-0.4-12.4l17.4-18.6c3.3-3.6 8.9-3.7 12.4-0.4l57.7 54.1c3.7 3.4 3.7 9.3 0 12.8l-57.7 54.1c-3.5 3.3-9.1 3.1-12.4-0.4l-17.4-18.6-0.2-0.2c-3.2-3.6-2.8-9.2 0.8-12.4l32.8-28.9-32.8-28.9z"}]}}),Ba.register({"arrow-left":{width:448,height:512,paths:[{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0l-194.4-194.3c-9.4-9.4-9.4-24.6 0-33.9l194.4-194.4c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-0.4 34.3l-120.5 114.8h287.4c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24h-287.4l120.5 114.8c9.8 9.3 10 24.8 0.4 34.3z"}]}});var Wa=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"onClick",value:function(){this.readonly||this.command()}},{key:"commandButtonClass",get:function(){return{"el-tiptap-editor__command-button":!0,"el-tiptap-editor__command-button--active":this.isActive,"el-tiptap-editor__command-button--readonly":this.readonly}}}]),n}();jr([to({type:String,required:!0})],Wa.prototype,"icon",void 0),jr([to({type:Boolean,default:!1})],Wa.prototype,"isActive",void 0),jr([to({type:String,required:!0})],Wa.prototype,"tooltip",void 0),jr([to({type:Boolean,required:!0})],Wa.prototype,"enableTooltip",void 0),jr([to({type:Function,default:function(){}})],Wa.prototype,"command",void 0),jr([to({type:Boolean,default:!1})],Wa.prototype,"readonly",void 0);const Ua=_a({render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-tooltip",{attrs:{content:this.tooltip,"open-delay":350,disabled:!this.enableTooltip||this.readonly,transition:"el-zoom-in-bottom",effect:"dark",placement:"top"}},[e("div",{class:this.commandButtonClass,on:{mousedown:function(t){t.preventDefault()},click:this.onClick}},[e("v-icon",{attrs:{name:this.icon}})],1)])},staticRenderFns:[]},void 0,Wa=jr([Xr({components:Mr({"v-icon":Ba},c.a.name,c.a)})],Wa),void 0,!1,void 0,!1,void 0,void 0,void 0);var Ja=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"openLink",value:function(){if(this.url){var t=window.open();t&&(t.opener=null,t.location.href=this.url)}}}]),n}();jr([to({type:String,required:!0})],Ja.prototype,"url",void 0),jr([Zr()],Ja.prototype,"et",void 0);const Ka=_a({render:function(){var t=this.$createElement;return(this._self._c||t)("command-button",{attrs:{command:this.openLink,"enable-tooltip":this.et.tooltip,tooltip:this.et.t("editor.extensions.Link.open.tooltip"),icon:"external-link-alt"}})},staticRenderFns:[]},void 0,Ja=jr([Xr({components:{CommandButton:Ua}})],Ja),void 0,!1,void 0,!1,void 0,void 0,void 0);var Ga=R((function(t,e){e.__esModule=!0,e.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},e.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e.isHtmlElement=function(t){return t&&t.nodeType===Node.ELEMENT_NODE},e.isFunction=function(t){return t&&"[object Function]"==={}.toString.call(t)},e.isUndefined=function(t){return void 0===t},e.isDefined=function(t){return null!=t}}));N(Ga),Ga.isString,Ga.isObject,Ga.isHtmlElement,Ga.isFunction,Ga.isUndefined,Ga.isDefined;var Xa=R((function(t,e){e.__esModule=!0,e.isEmpty=e.isEqual=e.arrayEquals=e.looseEqual=e.capitalize=e.kebabCase=e.autoprefixer=e.isFirefox=e.isEdge=e.isIE=e.coerceTruthyValueToArray=e.arrayFind=e.arrayFindIndex=e.escapeRegexpString=e.valueEquals=e.generateId=e.getValueByPath=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.noop=function(){},e.hasOwn=function(t,e){return a.call(t,e)},e.toObject=function(t){for(var e={},n=0;n<t.length;n++)t[n]&&s(e,t[n]);return e},e.getPropByPath=function(t,e,n){for(var r=t,o=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0,a=o.length;i<a-1&&(r||n);++i){var s=o[i];if(!(s in r)){if(n)throw new Error("please transfer a valid prop path to form item!");break}r=r[s]}return{o:r,k:o[i],v:r?r[o[i]]:null}},e.rafThrottle=function(t){var e=!1;return function(){for(var n=this,r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];e||(e=!0,window.requestAnimationFrame((function(r){t.apply(n,o),e=!1})))}},e.objToArray=function(t){return Array.isArray(t)?t:d(t)?[]:[t]};var o,i=(o=r["default"])&&o.__esModule?o:{default:o},a=Object.prototype.hasOwnProperty;function s(t,e){for(var n in e)t[n]=e[n];return t}e.getValueByPath=function(t,e){for(var n=(e=e||"").split("."),r=t,o=null,i=0,a=n.length;i<a;i++){var s=n[i];if(!r)break;if(i===a-1){o=r[s];break}r=r[s]}return o},e.generateId=function(){return Math.floor(1e4*Math.random())},e.valueEquals=function(t,e){if(t===e)return!0;if(!(t instanceof Array))return!1;if(!(e instanceof Array))return!1;if(t.length!==e.length)return!1;for(var n=0;n!==t.length;++n)if(t[n]!==e[n])return!1;return!0},e.escapeRegexpString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(t).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var l=e.arrayFindIndex=function(t,e){for(var n=0;n!==t.length;++n)if(e(t[n]))return n;return-1},c=(e.arrayFind=function(t,e){var n=l(t,e);return-1!==n?t[n]:void 0},e.coerceTruthyValueToArray=function(t){return Array.isArray(t)?t:t?[t]:[]},e.isIE=function(){return!i.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},e.isEdge=function(){return!i.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},e.isFirefox=function(){return!i.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},e.autoprefixer=function(t){if("object"!==(void 0===t?"undefined":n(t)))return t;var e=["ms-","webkit-"];return["transform","transition","animation"].forEach((function(n){var r=t[n];n&&r&&e.forEach((function(e){t[e+n]=r}))})),t},e.kebabCase=function(t){var e=/([^-])([A-Z])/g;return t.replace(e,"$1-$2").replace(e,"$1-$2").toLowerCase()},e.capitalize=function(t){return(0,Ga.isString)(t)?t.charAt(0).toUpperCase()+t.slice(1):t},e.looseEqual=function(t,e){var n=(0,Ga.isObject)(t),r=(0,Ga.isObject)(e);return n&&r?JSON.stringify(t)===JSON.stringify(e):!n&&!r&&String(t)===String(e)}),u=e.arrayEquals=function(t,e){if(e=e||[],(t=t||[]).length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!c(t[n],e[n]))return!1;return!0},d=(e.isEqual=function(t,e){return Array.isArray(t)&&Array.isArray(e)?u(t,e):c(t,e)},e.isEmpty=function(t){if(null==t)return!0;if("boolean"==typeof t)return!1;if("number"==typeof t)return!t;if(t instanceof Error)return""===t.message;switch(Object.prototype.toString.call(t)){case"[object String]":case"[object Array]":return!t.length;case"[object File]":case"[object Map]":case"[object Set]":return!t.size;case"[object Object]":return!Object.keys(t).length}return!1})}));N(Xa),Xa.isEmpty,Xa.isEqual,Xa.arrayEquals,Xa.looseEqual,Xa.capitalize,Xa.kebabCase,Xa.autoprefixer,Xa.isFirefox,Xa.isEdge,Xa.isIE,Xa.coerceTruthyValueToArray,Xa.arrayFind,Xa.arrayFindIndex,Xa.escapeRegexpString,Xa.valueEquals,Xa.generateId,Xa.getValueByPath,Xa.noop,Xa.hasOwn,Xa.toObject,Xa.getPropByPath,Xa.rafThrottle,Xa.objToArray;var Za=R((function(t,e){e.__esModule=!0,e.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}}));N(Za);var Ya=R((function(t,e){e.__esModule=!0,e.isDef=function(t){return null!=t},e.isKorean=function(t){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(t)}}));N(Ya),Ya.isDef,Ya.isKorean;var Qa=R((function(t,e){function n(t,e,r){this.$children.forEach((function(o){o.$options.componentName===t?o.$emit.apply(o,[e].concat(r)):n.apply(o,[t,e].concat([r]))}))}e.__esModule=!0,e.default={methods:{dispatch:function(t,e,n){for(var r=this.$parent||this.$root,o=r.$options.componentName;r&&(!o||o!==t);)(r=r.$parent)&&(o=r.$options.componentName);r&&r.$emit.apply(r,[e].concat(n))},broadcast:function(t,e,r){n.call(this,t,e,r)}}}}));N(Qa);var ts=R((function(t,e){e.__esModule=!0,e.default=function(t){for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e]||{};for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];void 0!==i&&(t[o]=i)}}return t}}));N(ts);var es=N(R((function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=76)}({0:function(t,e,n){function r(t,e,n,r,o,i,a,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},11:function(t,e){t.exports=Za},21:function(t,e){t.exports=Ya},4:function(t,e){t.exports=Qa},76:function(t,e,n){n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?n("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),"textarea"!==t.type?n("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)):t._e(),t.$slots.prefix||t.prefixIcon?n("span",{staticClass:"el-input__prefix"},[t._t("prefix"),t.prefixIcon?n("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t.getSuffixVisible()?n("span",{staticClass:"el-input__suffix"},[n("span",{staticClass:"el-input__suffix-inner"},[t.showClear&&t.showPwdVisible&&t.isWordLimitVisible?t._e():[t._t("suffix"),t.suffixIcon?n("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],t.showClear?n("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(t){t.preventDefault()},click:t.clear}}):t._e(),t.showPwdVisible?n("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:t.handlePasswordVisible}}):t._e(),t.isWordLimitVisible?n("span",{staticClass:"el-input__count"},[n("span",{staticClass:"el-input__count-inner"},[t._v("\n            "+t._s(t.textLength)+"/"+t._s(t.upperLimit)+"\n          ")])]):t._e()],2),t.validateState?n("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t.$slots.append?n("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:n("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$attrs,!1)),t.isWordLimitVisible&&"textarea"===t.type?n("span",{staticClass:"el-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()],2)};r._withStripped=!0;var o=n(4),i=n.n(o),a=n(11),s=n.n(a),l=void 0,c="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",u=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function d(t){var e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),o=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:u.map((function(t){return t+":"+e.getPropertyValue(t)})).join(";"),paddingSize:r,borderSize:o,boxSizing:n}}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l||(l=document.createElement("textarea"),document.body.appendChild(l));var r=d(t),o=r.paddingSize,i=r.borderSize,a=r.boxSizing,s=r.contextStyle;l.setAttribute("style",s+";"+c),l.value=t.value||t.placeholder||"";var u=l.scrollHeight,p={};"border-box"===a?u+=i:"content-box"===a&&(u-=o),l.value="";var f=l.scrollHeight-o;if(null!==e){var h=f*e;"border-box"===a&&(h=h+o+i),u=Math.max(h,u),p.minHeight=h+"px"}if(null!==n){var m=f*n;"border-box"===a&&(m=m+o+i),u=Math.min(m,u)}return p.height=u+"px",l.parentNode&&l.parentNode.removeChild(l),l=null,p}var f=n(9),h=n.n(f),m=n(21),v={name:"ElInput",componentName:"ElInput",mixins:[i.a,s.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return h()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(t){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var t=this;this.$nextTick((function(){t.setNativeInputValue(),t.resizeTextarea(),t.updateIconOffset()}))}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type)if(t){var e=t.minRows,n=t.maxRows;this.textareaCalcStyle=p(this.$refs.textarea,e,n)}else this.textareaCalcStyle={minHeight:p(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var t=this.getInput();t&&t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(t){var e=t.target.value,n=e[e.length-1]||"";this.isComposing=!Object(m.isKorean)(n)},handleCompositionEnd:function(t){this.isComposing&&(this.isComposing=!1,this.handleInput(t))},handleInput:function(t){this.isComposing||t.target.value!==this.nativeInputValue&&(this.$emit("input",t.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(t){this.$emit("change",t.target.value)},calcIconOffset:function(t){var e=[].slice.call(this.$el.querySelectorAll(".el-input__"+t)||[]);if(e.length){for(var n=null,r=0;r<e.length;r++)if(e[r].parentNode===this.$el){n=e[r];break}if(n){var o={suffix:"append",prefix:"prepend"}[t];this.$slots[o]?n.style.transform="translateX("+("suffix"===t?"-":"")+this.$el.querySelector(".el-input-group__"+o).offsetWidth+"px)":n.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},g=n(0),y=Object(g.a)(v,r,[],!1,null,null,null);y.options.__file="packages/input/src/input.vue";var b=y.exports;b.install=function(t){t.component(b.name,b)},e.default=b},9:function(t,e){t.exports=ts}})}))),ns=R((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),rs=R((function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)})),is=(rs.version,function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}),as=function(t){return"object"==typeof t?null!==t:"function"==typeof t},ss=function(t){if(!as(t))throw TypeError(t+" is not an object!");return t},ls=function(t){try{return!!t()}catch(t){return!0}},cs=!ls((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),us=ns.document,ds=as(us)&&as(us.createElement),ps=function(t){return ds?us.createElement(t):{}},fs=!cs&&!ls((function(){return 7!=Object.defineProperty(ps("div"),"a",{get:function(){return 7}}).a})),hs=function(t,e){if(!as(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!as(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!as(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!as(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},ms=Object.defineProperty,vs={f:cs?Object.defineProperty:function(t,e,n){if(ss(t),e=hs(e,!0),ss(n),fs)try{return ms(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},gs=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ys=cs?function(t,e,n){return vs.f(t,e,gs(1,n))}:function(t,e,n){return t[e]=n,t},bs={}.hasOwnProperty,ws=function(t,e){return bs.call(t,e)},xs=function(t,e,n){var r,o,i,a=t&xs.F,s=t&xs.G,l=t&xs.S,c=t&xs.P,u=t&xs.B,d=t&xs.W,p=s?rs:rs[e]||(rs[e]={}),f=p.prototype,h=s?ns:l?ns[e]:(ns[e]||{}).prototype;for(r in s&&(n=e),n)(o=!a&&h&&void 0!==h[r])&&ws(p,r)||(i=o?h[r]:n[r],p[r]=s&&"function"!=typeof h[r]?n[r]:u&&o?is(i,ns):d&&h[r]==i?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(i):c&&"function"==typeof i?is(Function.call,i):i,c&&((p.virtual||(p.virtual={}))[r]=i,t&xs.R&&f&&!f[r]&&ys(f,r,i)))};xs.F=1,xs.G=2,xs.S=4,xs.P=8,xs.B=16,xs.W=32,xs.U=64,xs.R=128;var ks,Ss=xs,_s={}.toString,Cs=function(t){return _s.call(t).slice(8,-1)},Os=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Cs(t)?t.split(""):Object(t)},Ms=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},Es=function(t){return Os(Ms(t))},Ts=Math.ceil,As=Math.floor,Ns=function(t){return isNaN(t=+t)?0:(t>0?As:Ts)(t)},Rs=Math.min,Is=Math.max,js=Math.min,zs=R((function(t){var e=ns["__core-js_shared__"]||(ns["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:rs.version,mode:"pure",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})})),Ps=0,Ds=Math.random(),$s=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++Ps+Ds).toString(36))},Fs=zs("keys"),Bs=function(t){return Fs[t]||(Fs[t]=$s(t))},Ls=(ks=!1,function(t,e,n){var r,o,i=Es(t),a=(r=i.length)>0?Rs(Ns(r),9007199254740991):0,s=function(t,e){return(t=Ns(t))<0?Is(t+e,0):js(t,e)}(n,a);if(ks&&e!=e){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((ks||s in i)&&i[s]===e)return ks||s||0;return!ks&&-1}),Vs=Bs("IE_PROTO"),qs=function(t,e){var n,r=Es(t),o=0,i=[];for(n in r)n!=Vs&&ws(r,n)&&i.push(n);for(;e.length>o;)ws(r,n=e[o++])&&(~Ls(i,n)||i.push(n));return i},Hs="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Ws=Object.keys||function(t){return qs(t,Hs)},Us={f:Object.getOwnPropertySymbols},Js={f:{}.propertyIsEnumerable},Ks=function(t){return Object(Ms(t))},Gs=Object.assign,Xs=!Gs||ls((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Gs({},t)[n]||Object.keys(Gs({},e)).join("")!=r}))?function(t,e){for(var n=Ks(t),r=arguments.length,o=1,i=Us.f,a=Js.f;r>o;)for(var s,l=Os(arguments[o++]),c=i?Ws(l).concat(i(l)):Ws(l),u=c.length,d=0;u>d;)s=c[d++],cs&&!a.call(l,s)||(n[s]=l[s]);return n}:Gs;Ss(Ss.S+Ss.F,"Object",{assign:Xs});var Zs=rs.Object.assign,Ys=R((function(t){t.exports={default:Zs,__esModule:!0}}));N(Ys);var Qs=N(R((function(t,e){e.__esModule=!0;var n,r=(n=Ys)&&n.__esModule?n:{default:n};e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}}))),tl=ys,el=cs?Object.defineProperties:function(t,e){ss(t);for(var n,r=Ws(e),o=r.length,i=0;o>i;)vs.f(t,n=r[i++],e[n]);return t},nl=ns.document,rl=nl&&nl.documentElement,ol=Bs("IE_PROTO"),il=function(){},al=function(){var t,e=ps("iframe"),n=Hs.length;for(e.style.display="none",rl.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),al=t.F;n--;)delete al.prototype[Hs[n]];return al()},sl=Object.create||function(t,e){var n;return null!==t?(il.prototype=ss(t),n=new il,il.prototype=null,n[ol]=t):n=al(),void 0===e?n:el(n,e)},ll=R((function(t){var e=zs("wks"),n=ns.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:$s)("Symbol."+t))}).store=e})),cl=vs.f,ul=ll("toStringTag"),dl=function(t,e,n){t&&!ws(t=n?t:t.prototype,ul)&&cl(t,ul,{configurable:!0,value:e})},pl={};ys(pl,ll("iterator"),(function(){return this}));var fl=function(t,e,n){t.prototype=sl(pl,{next:gs(1,n)}),dl(t,e+" Iterator")},hl=Bs("IE_PROTO"),ml=Object.prototype,vl=Object.getPrototypeOf||function(t){return t=Ks(t),ws(t,hl)?t[hl]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ml:null},gl=ll("iterator"),yl=!([].keys&&"next"in[].keys()),bl=function(t,e,n,r,o,i,a){fl(n,e,r);var s,l,c,u=function(t){if(!yl&&t in h)return h[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},d=e+" Iterator",p="values"==o,f=!1,h=t.prototype,m=h[gl]||h["@@iterator"]||o&&h[o],v=m||u(o),g=o?p?u("entries"):v:void 0,y="Array"==e&&h.entries||m;if(y&&(c=vl(y.call(new t)))!==Object.prototype&&c.next&&dl(c,d,!0),p&&m&&"values"!==m.name&&(f=!0,v=function(){return m.call(this)}),a&&(yl||f||!h[gl])&&ys(h,gl,v),o)if(s={values:p?v:u("values"),keys:i?v:u("keys"),entries:g},a)for(l in s)l in h||tl(h,l,s[l]);else Ss(Ss.P+Ss.F*(yl||f),e,s);return s},wl=function(t){return function(e,n){var r,o,i=String(Ms(e)),a=Ns(n),s=i.length;return a<0||a>=s?t?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===s||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):r:t?i.slice(a,a+2):o-56320+(r-55296<<10)+65536}}(!0);bl(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=wl(e,n),this._i+=t.length,{value:t,done:!1})}));for(var xl=function(t,e){return{value:e,done:!!t}},kl=(bl(Array,"Array",(function(t,e){this._t=Es(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,xl(1)):xl(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),ll("toStringTag")),Sl="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),_l=0;_l<Sl.length;_l++){var Cl=Sl[_l],Ol=ns[Cl],Ml=Ol&&Ol.prototype;Ml&&!Ml[kl]&&ys(Ml,kl,Cl)}var El={f:ll},Tl=El.f("iterator"),Al=R((function(t){t.exports={default:Tl,__esModule:!0}}));N(Al);var Nl=R((function(t){var e=$s("meta"),n=vs.f,r=0,o=Object.isExtensible||function(){return!0},i=!ls((function(){return o(Object.preventExtensions({}))})),a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!as(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!ws(t,e)){if(!o(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!ws(t,e)){if(!o(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return i&&s.NEED&&o(t)&&!ws(t,e)&&a(t),t}}})),Rl=(Nl.KEY,Nl.NEED,Nl.fastKey,Nl.getWeak,Nl.onFreeze,vs.f),Il=function(t){var e=rs.Symbol||(rs.Symbol={});"_"==t.charAt(0)||t in e||Rl(e,t,{value:El.f(t)})},jl=Array.isArray||function(t){return"Array"==Cs(t)},zl=Hs.concat("length","prototype"),Pl={f:Object.getOwnPropertyNames||function(t){return qs(t,zl)}},Dl=Pl.f,$l={}.toString,Fl="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Bl={f:function(t){return Fl&&"[object Window]"==$l.call(t)?function(t){try{return Dl(t)}catch(t){return Fl.slice()}}(t):Dl(Es(t))}},Ll=Object.getOwnPropertyDescriptor,Vl={f:cs?Ll:function(t,e){if(t=Es(t),e=hs(e,!0),fs)try{return Ll(t,e)}catch(t){}if(ws(t,e))return gs(!Js.f.call(t,e),t[e])}},ql=Nl.KEY,Hl=Vl.f,Wl=vs.f,Ul=Bl.f,Jl=ns.Symbol,Kl=ns.JSON,Gl=Kl&&Kl.stringify,Xl=ll("_hidden"),Zl=ll("toPrimitive"),Yl={}.propertyIsEnumerable,Ql=zs("symbol-registry"),tc=zs("symbols"),ec=zs("op-symbols"),nc=Object.prototype,rc="function"==typeof Jl&&!!Us.f,oc=ns.QObject,ic=!oc||!oc.prototype||!oc.prototype.findChild,ac=cs&&ls((function(){return 7!=sl(Wl({},"a",{get:function(){return Wl(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Hl(nc,e);r&&delete nc[e],Wl(t,e,n),r&&t!==nc&&Wl(nc,e,r)}:Wl,sc=function(t){var e=tc[t]=sl(Jl.prototype);return e._k=t,e},lc=rc&&"symbol"==typeof Jl.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Jl},cc=function(t,e,n){return t===nc&&cc(ec,e,n),ss(t),e=hs(e,!0),ss(n),ws(tc,e)?(n.enumerable?(ws(t,Xl)&&t[Xl][e]&&(t[Xl][e]=!1),n=sl(n,{enumerable:gs(0,!1)})):(ws(t,Xl)||Wl(t,Xl,gs(1,{})),t[Xl][e]=!0),ac(t,e,n)):Wl(t,e,n)},uc=function(t,e){ss(t);for(var n,r=function(t){var e=Ws(t),n=Us.f;if(n)for(var r,o=n(t),i=Js.f,a=0;o.length>a;)i.call(t,r=o[a++])&&e.push(r);return e}(e=Es(e)),o=0,i=r.length;i>o;)cc(t,n=r[o++],e[n]);return t},dc=function(t){var e=Yl.call(this,t=hs(t,!0));return!(this===nc&&ws(tc,t)&&!ws(ec,t))&&(!(e||!ws(this,t)||!ws(tc,t)||ws(this,Xl)&&this[Xl][t])||e)},pc=function(t,e){if(t=Es(t),e=hs(e,!0),t!==nc||!ws(tc,e)||ws(ec,e)){var n=Hl(t,e);return!n||!ws(tc,e)||ws(t,Xl)&&t[Xl][e]||(n.enumerable=!0),n}},fc=function(t){for(var e,n=Ul(Es(t)),r=[],o=0;n.length>o;)ws(tc,e=n[o++])||e==Xl||e==ql||r.push(e);return r},hc=function(t){for(var e,n=t===nc,r=Ul(n?ec:Es(t)),o=[],i=0;r.length>i;)!ws(tc,e=r[i++])||n&&!ws(nc,e)||o.push(tc[e]);return o};rc||(tl((Jl=function(){if(this instanceof Jl)throw TypeError("Symbol is not a constructor!");var t=$s(arguments.length>0?arguments[0]:void 0),e=function(n){this===nc&&e.call(ec,n),ws(this,Xl)&&ws(this[Xl],t)&&(this[Xl][t]=!1),ac(this,t,gs(1,n))};return cs&&ic&&ac(nc,t,{configurable:!0,set:e}),sc(t)}).prototype,"toString",(function(){return this._k})),Vl.f=pc,vs.f=cc,Pl.f=Bl.f=fc,Js.f=dc,Us.f=hc,El.f=function(t){return sc(ll(t))}),Ss(Ss.G+Ss.W+Ss.F*!rc,{Symbol:Jl});for(var mc="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),vc=0;mc.length>vc;)ll(mc[vc++]);for(var gc=Ws(ll.store),yc=0;gc.length>yc;)Il(gc[yc++]);Ss(Ss.S+Ss.F*!rc,"Symbol",{for:function(t){return ws(Ql,t+="")?Ql[t]:Ql[t]=Jl(t)},keyFor:function(t){if(!lc(t))throw TypeError(t+" is not a symbol!");for(var e in Ql)if(Ql[e]===t)return e},useSetter:function(){ic=!0},useSimple:function(){ic=!1}}),Ss(Ss.S+Ss.F*!rc,"Object",{create:function(t,e){return void 0===e?sl(t):uc(sl(t),e)},defineProperty:cc,defineProperties:uc,getOwnPropertyDescriptor:pc,getOwnPropertyNames:fc,getOwnPropertySymbols:hc});var bc=ls((function(){Us.f(1)}));Ss(Ss.S+Ss.F*bc,"Object",{getOwnPropertySymbols:function(t){return Us.f(Ks(t))}}),Kl&&Ss(Ss.S+Ss.F*(!rc||ls((function(){var t=Jl();return"[null]"!=Gl([t])||"{}"!=Gl({a:t})||"{}"!=Gl(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(as(e)||void 0!==t)&&!lc(t))return jl(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!lc(e))return e}),r[1]=e,Gl.apply(Kl,r)}}),Jl.prototype[Zl]||ys(Jl.prototype,Zl,Jl.prototype.valueOf),dl(Jl,"Symbol"),dl(Math,"Math",!0),dl(ns.JSON,"JSON",!0);var wc=Object.freeze({__proto__:null});Il("asyncIterator"),Il("observable"),I(wc);var xc=rs.Symbol,kc=R((function(t){t.exports={default:xc,__esModule:!0}}));N(kc);var Sc=N(R((function(t,e){e.__esModule=!0;var n=i(Al),r=i(kc),o="function"==typeof r.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};function i(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof r.default&&"symbol"===o(n.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":o(t)}}))),_c=/%[sdj%]/g;function Cc(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=1,o=e[0],i=e.length;if("function"==typeof o)return o.apply(null,e.slice(1));if("string"==typeof o){for(var a=String(o).replace(_c,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(e[r++]);case"%d":return Number(e[r++]);case"%j":try{return JSON.stringify(e[r++])}catch(t){return"[Circular]"}break;default:return t}})),s=e[r];r<i;s=e[++r])a+=" "+s;return a}return o}function Oc(t,e){return null==t||!("array"!==e||!Array.isArray(t)||t.length)||!(!function(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"pattern"===t}(e)||"string"!=typeof t||t)}function Mc(t,e,n){var r=0,o=t.length;!function i(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<o?e(t[s],i):n([])}}([])}function Ec(t,e,n,r){if(e.first)return Mc(function(t){var e=[];return Object.keys(t).forEach((function(n){e.push.apply(e,t[n])})),e}(t),n,r);var o=e.firstFields||[];!0===o&&(o=Object.keys(t));var i=Object.keys(t),a=i.length,s=0,l=[],c=function(t){l.push.apply(l,t),++s===a&&r(l)};i.forEach((function(e){var r=t[e];-1!==o.indexOf(e)?Mc(r,n,c):function(t,e,n){var r=[],o=0,i=t.length;function a(t){r.push.apply(r,t),++o===i&&n(r)}t.forEach((function(t){e(t,a)}))}(r,n,c)}))}function Tc(t){return function(e){return e&&e.message?(e.field=e.field||t.fullField,e):{message:e,field:e.field||t.fullField}}}function Ac(t,e){if(e)for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"object"===(void 0===r?"undefined":Sc(r))&&"object"===Sc(t[n])?t[n]=Qs({},t[n],r):t[n]=r}return t}function Nc(t,e,n,r,o,i){!t.required||n.hasOwnProperty(t.field)&&!Oc(e,i||t.type)||r.push(Cc(o.messages.required,t.fullField))}var Rc={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Ic={integer:function(t){return Ic.number(t)&&parseInt(t,10)===t},float:function(t){return Ic.number(t)&&!Ic.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(t){return!1}},date:function(t){return"function"==typeof t.getTime&&"function"==typeof t.getMonth&&"function"==typeof t.getYear},number:function(t){return!isNaN(t)&&"number"==typeof t},object:function(t){return"object"===(void 0===t?"undefined":Sc(t))&&!Ic.array(t)},method:function(t){return"function"==typeof t},email:function(t){return"string"==typeof t&&!!t.match(Rc.email)&&t.length<255},url:function(t){return"string"==typeof t&&!!t.match(Rc.url)},hex:function(t){return"string"==typeof t&&!!t.match(Rc.hex)}},jc={required:Nc,whitespace:function(t,e,n,r,o){(/^\s+$/.test(e)||""===e)&&r.push(Cc(o.messages.whitespace,t.fullField))},type:function(t,e,n,r,o){if(t.required&&void 0===e)Nc(t,e,n,r,o);else{var i=t.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?Ic[i](e)||r.push(Cc(o.messages.types[i],t.fullField,t.type)):i&&(void 0===e?"undefined":Sc(e))!==t.type&&r.push(Cc(o.messages.types[i],t.fullField,t.type))}},range:function(t,e,n,r,o){var i="number"==typeof t.len,a="number"==typeof t.min,s="number"==typeof t.max,l=e,c=null,u="number"==typeof e,d="string"==typeof e,p=Array.isArray(e);if(u?c="number":d?c="string":p&&(c="array"),!c)return!1;p&&(l=e.length),d&&(l=e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?l!==t.len&&r.push(Cc(o.messages[c].len,t.fullField,t.len)):a&&!s&&l<t.min?r.push(Cc(o.messages[c].min,t.fullField,t.min)):s&&!a&&l>t.max?r.push(Cc(o.messages[c].max,t.fullField,t.max)):a&&s&&(l<t.min||l>t.max)&&r.push(Cc(o.messages[c].range,t.fullField,t.min,t.max))},enum:function(t,e,n,r,o){t.enum=Array.isArray(t.enum)?t.enum:[],-1===t.enum.indexOf(e)&&r.push(Cc(o.messages.enum,t.fullField,t.enum.join(", ")))},pattern:function(t,e,n,r,o){t.pattern&&(t.pattern instanceof RegExp?(t.pattern.lastIndex=0,t.pattern.test(e)||r.push(Cc(o.messages.pattern.mismatch,t.fullField,e,t.pattern))):"string"==typeof t.pattern&&(new RegExp(t.pattern).test(e)||r.push(Cc(o.messages.pattern.mismatch,t.fullField,e,t.pattern))))}};function zc(t,e,n,r,o){var i=t.type,a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Oc(e,i)&&!t.required)return n();jc.required(t,e,r,a,o,i),Oc(e,i)||jc.type(t,e,r,a,o)}n(a)}var Pc={string:function(t,e,n,r,o){var i=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Oc(e,"string")&&!t.required)return n();jc.required(t,e,r,i,o,"string"),Oc(e,"string")||(jc.type(t,e,r,i,o),jc.range(t,e,r,i,o),jc.pattern(t,e,r,i,o),!0===t.whitespace&&jc.whitespace(t,e,r,i,o))}n(i)},method:function(t,e,n,r,o){var i=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Oc(e)&&!t.required)return n();jc.required(t,e,r,i,o),void 0!==e&&jc.type(t,e,r,i,o)}n(i)},number:function(t,e,n,r,o){var i=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Oc(e)&&!t.required)return n();jc.required(t,e,r,i,o),void 0!==e&&(jc.type(t,e,r,i,o),jc.range(t,e,r,i,o))}n(i)},boolean:function(t,e,n,r,o){var i=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Oc(e)&&!t.required)return n();jc.required(t,e,r,i,o),void 0!==e&&jc.type(t,e,r,i,o)}n(i)},regexp:function(t,e,n,r,o){var i=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Oc(e)&&!t.required)return n();jc.required(t,e,r,i,o),Oc(e)||jc.type(t,e,r,i,o)}n(i)},integer:function(t,e,n,r,o){var i=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Oc(e)&&!t.required)return n();jc.required(t,e,r,i,o),void 0!==e&&(jc.type(t,e,r,i,o),jc.range(t,e,r,i,o))}n(i)},float:function(t,e,n,r,o){var i=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Oc(e)&&!t.required)return n();jc.required(t,e,r,i,o),void 0!==e&&(jc.type(t,e,r,i,o),jc.range(t,e,r,i,o))}n(i)},array:function(t,e,n,r,o){var i=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Oc(e,"array")&&!t.required)return n();jc.required(t,e,r,i,o,"array"),Oc(e,"array")||(jc.type(t,e,r,i,o),jc.range(t,e,r,i,o))}n(i)},object:function(t,e,n,r,o){var i=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Oc(e)&&!t.required)return n();jc.required(t,e,r,i,o),void 0!==e&&jc.type(t,e,r,i,o)}n(i)},enum:function(t,e,n,r,o){var i=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Oc(e)&&!t.required)return n();jc.required(t,e,r,i,o),e&&jc.enum(t,e,r,i,o)}n(i)},pattern:function(t,e,n,r,o){var i=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Oc(e,"string")&&!t.required)return n();jc.required(t,e,r,i,o),Oc(e,"string")||jc.pattern(t,e,r,i,o)}n(i)},date:function(t,e,n,r,o){var i=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Oc(e)&&!t.required)return n();if(jc.required(t,e,r,i,o),!Oc(e)){var a=void 0;a="number"==typeof e?new Date(e):e,jc.type(t,a,r,i,o),a&&jc.range(t,a.getTime(),r,i,o)}}n(i)},url:zc,hex:zc,email:zc,required:function(t,e,n,r,o){var i=[],a=Array.isArray(e)?"array":void 0===e?"undefined":Sc(e);jc.required(t,e,r,i,o,a),n(i)}};function Dc(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var $c=Dc();function Fc(t){this.rules=null,this._messages=$c,this.define(t)}Fc.prototype={messages:function(t){return t&&(this._messages=Ac(Dc(),t)),this._messages},define:function(t){if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===t?"undefined":Sc(t))||Array.isArray(t))throw new Error("Rules must be an object");this.rules={};var e=void 0,n=void 0;for(e in t)t.hasOwnProperty(e)&&(n=t[e],this.rules[e]=Array.isArray(n)?n:[n])},validate:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],o=t,i=n,a=r;if("function"==typeof i&&(a=i,i={}),this.rules&&0!==Object.keys(this.rules).length){if(i.messages){var s=this.messages();s===$c&&(s=Dc()),Ac(s,i.messages),i.messages=s}else i.messages=this.messages();var l=void 0,c=void 0,u={},d=i.keys||Object.keys(this.rules);d.forEach((function(n){l=e.rules[n],c=o[n],l.forEach((function(r){var i=r;"function"==typeof i.transform&&(o===t&&(o=Qs({},o)),c=o[n]=i.transform(c)),(i="function"==typeof i?{validator:i}:Qs({},i)).validator=e.getValidationMethod(i),i.field=n,i.fullField=i.fullField||n,i.type=e.getType(i),i.validator&&(u[n]=u[n]||[],u[n].push({rule:i,value:c,source:o,field:n}))}))}));var p={};Ec(u,i,(function(t,e){var n=t.rule,r=!("object"!==n.type&&"array"!==n.type||"object"!==Sc(n.fields)&&"object"!==Sc(n.defaultField));function o(t,e){return Qs({},e,{fullField:n.fullField+"."+t})}function a(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=a;if(Array.isArray(s)||(s=[s]),s.length,s.length&&n.message&&(s=[].concat(n.message)),s=s.map(Tc(n)),i.first&&s.length)return p[n.field]=1,e(s);if(r){if(n.required&&!t.value)return s=n.message?[].concat(n.message).map(Tc(n)):i.error?[i.error(n,Cc(i.messages.required,n.field))]:[],e(s);var l={};if(n.defaultField)for(var c in t.value)t.value.hasOwnProperty(c)&&(l[c]=n.defaultField);for(var u in l=Qs({},l,t.rule.fields))if(l.hasOwnProperty(u)){var d=Array.isArray(l[u])?l[u]:[l[u]];l[u]=d.map(o.bind(null,u))}var f=new Fc(l);f.messages(i.messages),t.rule.options&&(t.rule.options.messages=i.messages,t.rule.options.error=i.error),f.validate(t.value,t.rule.options||i,(function(t){e(t&&t.length?s.concat(t):t)}))}else e(s)}r=r&&(n.required||!n.required&&t.value),n.field=t.field;var s=n.validator(n,t.value,a,t.source,i);s&&s.then&&s.then((function(){return a()}),(function(t){return a(t)}))}),(function(t){f(t)}))}else a&&a();function f(t){var e,n=void 0,r=void 0,o=[],i={};for(n=0;n<t.length;n++)e=t[n],Array.isArray(e)?o=o.concat.apply(o,e):o.push(e);if(o.length)for(n=0;n<o.length;n++)i[r=o[n].field]=i[r]||[],i[r].push(o[n]);else o=null,i=null;a(o,i)}},getType:function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!=typeof t.validator&&t.type&&!Pc.hasOwnProperty(t.type))throw new Error(Cc("Unknown rule type %s",t.type));return t.type||"string"},getValidationMethod:function(t){if("function"==typeof t.validator)return t.validator;var e=Object.keys(t),n=e.indexOf("message");return-1!==n&&e.splice(n,1),1===e.length&&"required"===e[0]?Pc.required:Pc[this.getType(t)]||!1}},Fc.register=function(t,e){if("function"!=typeof e)throw new Error("Cannot register a validator by type, validator is not a function");Pc[t]=e},Fc.messages=$c;var Bc,Lc=I(Object.freeze({__proto__:null,default:Fc})),Vc=N(R((function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=67)}({0:function(t,e,n){function r(t,e,n,r,o,i,a,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},3:function(t,e){t.exports=Xa},4:function(t,e){t.exports=Qa},48:function(t,e){t.exports=Lc},67:function(t,e,n){n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":t.elForm&&t.elForm.statusIcon,"is-error":"error"===t.validateState,"is-validating":"validating"===t.validateState,"is-success":"success"===t.validateState,"is-required":t.isRequired||t.required,"is-no-asterisk":t.elForm&&t.elForm.hideRequiredAsterisk},t.sizeClass?"el-form-item--"+t.sizeClass:""]},[n("label-wrap",{attrs:{"is-auto-width":t.labelStyle&&"auto"===t.labelStyle.width,"update-all":"auto"===t.form.labelWidth}},[t.label||t.$slots.label?n("label",{staticClass:"el-form-item__label",style:t.labelStyle,attrs:{for:t.labelFor}},[t._t("label",[t._v(t._s(t.label+t.form.labelSuffix))])],2):t._e()]),n("div",{staticClass:"el-form-item__content",style:t.contentStyle},[t._t("default"),n("transition",{attrs:{name:"el-zoom-in-top"}},["error"===t.validateState&&t.showMessage&&t.form.showMessage?t._t("error",[n("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof t.inlineMessage?t.inlineMessage:t.elForm&&t.elForm.inlineMessage||!1}},[t._v("\n          "+t._s(t.validateMessage)+"\n        ")])],{error:t.validateMessage}):t._e()],2)],2)],1)};r._withStripped=!0;var o=n(48),i=n.n(o),a=n(4),s=n.n(a),l=n(9),c=n.n(l),u=n(3),d={props:{isAutoWidth:Boolean,updateAll:Boolean},inject:["elForm","elFormItem"],render:function(){var t=arguments[0],e=this.$slots.default;if(!e)return null;if(this.isAutoWidth){var n=this.elForm.autoLabelWidth,r={};if(n&&"auto"!==n){var o=parseInt(n,10)-this.computedWidth;o&&(r.marginLeft=o+"px")}return t("div",{class:"el-form-item__label-wrap",style:r},[e])}return e[0]},methods:{getLabelWidth:function(){if(this.$el&&this.$el.firstElementChild){var t=window.getComputedStyle(this.$el.firstElementChild).width;return Math.ceil(parseFloat(t))}return 0},updateLabelWidth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update";this.$slots.default&&this.isAutoWidth&&this.$el.firstElementChild&&("update"===t?this.computedWidth=this.getLabelWidth():"remove"===t&&this.elForm.deregisterLabelWidth(this.computedWidth))}},watch:{computedWidth:function(t,e){this.updateAll&&(this.elForm.registerLabelWidth(t,e),this.elFormItem.updateComputedLabelWidth(t))}},data:function(){return{computedWidth:0}},mounted:function(){this.updateLabelWidth("update")},updated:function(){this.updateLabelWidth("update")},beforeDestroy:function(){this.updateLabelWidth("remove")}},p=n(0),f=Object(p.a)(d,void 0,void 0,!1,null,null,null);f.options.__file="packages/form/src/label-wrap.vue";var h=f.exports,m={name:"ElFormItem",componentName:"ElFormItem",mixins:[s.a],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},components:{LabelWrap:h},watch:{error:{immediate:!0,handler:function(t){this.validateMessage=t,this.validateState=t?"error":""}},validateStatus:function(t){this.validateState=t}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var t={};if("top"===this.form.labelPosition)return t;var e=this.labelWidth||this.form.labelWidth;return e&&(t.width=e),t},contentStyle:function(){var t={},e=this.label;if("top"===this.form.labelPosition||this.form.inline)return t;if(!e&&!this.labelWidth&&this.isNested)return t;var n=this.labelWidth||this.form.labelWidth;return"auto"===n?"auto"===this.labelWidth?t.marginLeft=this.computedLabelWidth:"auto"===this.form.labelWidth&&(t.marginLeft=this.elForm.autoLabelWidth):t.marginLeft=n,t},form:function(){for(var t=this.$parent,e=t.$options.componentName;"ElForm"!==e;)"ElFormItem"===e&&(this.isNested=!0),e=(t=t.$parent).$options.componentName;return t},fieldValue:function(){var t=this.form.model;if(t&&this.prop){var e=this.prop;return-1!==e.indexOf(":")&&(e=e.replace(/:/,".")),Object(u.getPropByPath)(t,e,!0).v}},isRequired:function(){var t=this.getRules(),e=!1;return t&&t.length&&t.every((function(t){return!t.required||(e=!0,!1)})),e},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,computedLabelWidth:""}},methods:{validate:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.noop;this.validateDisabled=!1;var r=this.getFilteredRule(t);if((!r||0===r.length)&&void 0===this.required)return n(),!0;this.validateState="validating";var o={};r&&r.length>0&&r.forEach((function(t){delete t.trigger})),o[this.prop]=r;var a=new i.a(o),s={};s[this.prop]=this.fieldValue,a.validate(s,{firstFields:!0},(function(t,r){e.validateState=t?"error":"success",e.validateMessage=t?t[0].message:"",n(e.validateMessage,r),e.elForm&&e.elForm.$emit("validate",e.prop,!t,e.validateMessage||null)}))},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){var t=this;this.validateState="",this.validateMessage="";var e=this.form.model,n=this.fieldValue,r=this.prop;-1!==r.indexOf(":")&&(r=r.replace(/:/,"."));var o=Object(u.getPropByPath)(e,r,!0);this.validateDisabled=!0,Array.isArray(n)?o.o[o.k]=[].concat(this.initialValue):o.o[o.k]=this.initialValue,this.$nextTick((function(){t.validateDisabled=!1})),this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var t=this.form.rules,e=this.rules,n=void 0!==this.required?{required:!!this.required}:[],r=Object(u.getPropByPath)(t,this.prop||"");return t=t?r.o[this.prop||""]||r.v:[],[].concat(e||t||[]).concat(n)},getFilteredRule:function(t){return this.getRules().filter((function(e){return!e.trigger||""===t||(Array.isArray(e.trigger)?e.trigger.indexOf(t)>-1:e.trigger===t)})).map((function(t){return c()({},t)}))},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")},updateComputedLabelWidth:function(t){this.computedLabelWidth=t?t+"px":""},addValidateEvents:function(){(this.getRules().length||void 0!==this.required)&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))},removeValidateEvents:function(){this.$off()}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var t=this.fieldValue;Array.isArray(t)&&(t=[].concat(t)),Object.defineProperty(this,"initialValue",{value:t}),this.addValidateEvents()}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}},v=Object(p.a)(m,r,[],!1,null,null,null);v.options.__file="packages/form/src/form-item.vue";var g=v.exports;g.install=function(t){t.component(g.name,g)},e.default=g},9:function(t,e){t.exports=ts}})}))),qc=N(R((function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=121)}({0:function(t,e,n){function r(t,e,n,r,o,i,a,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},121:function(t,e,n){n.r(e);var r=function(){var t=this.$createElement;return(this._self._c||t)("form",{staticClass:"el-form",class:[this.labelPosition?"el-form--label-"+this.labelPosition:"",{"el-form--inline":this.inline}]},[this._t("default")],2)};r._withStripped=!0;var o=n(9),i=n.n(o),a={name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{rules:function(){this.fields.forEach((function(t){t.removeValidateEvents(),t.addValidateEvents()})),this.validateOnRuleChange&&this.validate((function(){}))}},computed:{autoLabelWidth:function(){if(!this.potentialLabelWidthArr.length)return 0;var t=Math.max.apply(Math,this.potentialLabelWidthArr);return t?t+"px":""}},data:function(){return{fields:[],potentialLabelWidthArr:[]}},created:function(){var t=this;this.$on("el.form.addField",(function(e){e&&t.fields.push(e)})),this.$on("el.form.removeField",(function(e){e.prop&&t.fields.splice(t.fields.indexOf(e),1)}))},methods:{resetFields:function(){this.model?this.fields.forEach((function(t){t.resetField()})):console.warn("[Element Warn][Form]model is required for resetFields to work.")},clearValidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.length?"string"==typeof t?this.fields.filter((function(e){return t===e.prop})):this.fields.filter((function(e){return t.indexOf(e.prop)>-1})):this.fields;e.forEach((function(t){t.clearValidate()}))},validate:function(t){var e=this;if(this.model){var n=void 0;"function"!=typeof t&&window.Promise&&(n=new window.Promise((function(e,n){t=function(t){t?e(t):n(t)}})));var r=!0,o=0;0===this.fields.length&&t&&t(!0);var a={};return this.fields.forEach((function(n){n.validate("",(function(n,s){n&&(r=!1),a=i()({},a,s),"function"==typeof t&&++o===e.fields.length&&t(r,a)}))})),n||void 0}console.warn("[Element Warn][Form]model is required for validate to work!")},validateField:function(t,e){t=[].concat(t);var n=this.fields.filter((function(e){return-1!==t.indexOf(e.prop)}));n.length?n.forEach((function(t){t.validate("",e)})):console.warn("[Element Warn]please pass correct props!")},getLabelWidthIndex:function(t){var e=this.potentialLabelWidthArr.indexOf(t);if(-1===e)throw new Error("[ElementForm]unpected width ",t);return e},registerLabelWidth:function(t,e){if(t&&e){var n=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(n,1,t)}else t&&this.potentialLabelWidthArr.push(t)},deregisterLabelWidth:function(t){var e=this.getLabelWidthIndex(t);this.potentialLabelWidthArr.splice(e,1)}}},s=n(0),l=Object(s.a)(a,r,[],!1,null,null,null);l.options.__file="packages/form/src/form.vue";var c=l.exports;c.install=function(t){t.component(c.name,c)},e.default=c},9:function(t,e){t.exports=ts}})}))),Hc=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).linkAttrs=t.initLinkAttrs,t.editLinkDialogVisible=!1,t}return Dn(n,[{key:"updateLinkAttrs",value:function(){this.editorContext.commands.link(this.linkAttrs),this.closeEditLinkDialog()}},{key:"openEditLinkDialog",value:function(){this.editLinkDialogVisible=!0}},{key:"closeEditLinkDialog",value:function(){this.editLinkDialogVisible=!1}}]),n}();jr([to({type:Object,required:!0})],Hc.prototype,"editorContext",void 0),jr([to({type:Object,required:!0})],Hc.prototype,"initLinkAttrs",void 0),jr([Zr()],Hc.prototype,"et",void 0);const Wc=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("command-button",{attrs:{command:t.openEditLinkDialog,"enable-tooltip":t.et.tooltip,tooltip:t.et.t("editor.extensions.Link.edit.tooltip"),icon:"edit"}}),t._v(" "),n("el-dialog",{attrs:{title:t.et.t("editor.extensions.Link.edit.control.title"),visible:t.editLinkDialogVisible,"append-to-body":!0,width:"400px","custom-class":"el-tiptap-edit-link-dialog"},on:{"update:visible":function(e){t.editLinkDialogVisible=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[n("el-button",{attrs:{size:"small",round:""},on:{click:t.closeEditLinkDialog}},[t._v("\n        "+t._s(t.et.t("editor.extensions.Link.edit.control.cancel"))+"\n      ")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"small",round:""},on:{mousedown:function(t){t.preventDefault()},click:t.updateLinkAttrs}},[t._v("\n        "+t._s(t.et.t("editor.extensions.Link.edit.control.confirm"))+"\n      ")])]},proxy:!0}])},[n("el-form",{attrs:{model:t.linkAttrs,"label-position":"right",size:"small"}},[n("el-form-item",{attrs:{label:t.et.t("editor.extensions.Link.edit.control.href"),prop:"href"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.linkAttrs.href,callback:function(e){t.$set(t.linkAttrs,"href",e)},expression:"linkAttrs.href"}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"openInNewTab"}},[n("el-checkbox",{model:{value:t.linkAttrs.openInNewTab,callback:function(e){t.$set(t.linkAttrs,"openInNewTab",e)},expression:"linkAttrs.openInNewTab"}},[t._v("\n          "+t._s(t.et.t("editor.extensions.Link.edit.control.open_in_new_tab"))+"\n        ")])],1)],1)],1)],1)},staticRenderFns:[]},void 0,Hc=jr([Xr({components:(Bc={},Mr(Bc,m.a.name,m.a),Mr(Bc,qc.name,qc),Mr(Bc,Vc.name,Vc),Mr(Bc,es.name,es),Mr(Bc,f.a.name,f.a),Mr(Bc,d.a.name,d.a),Mr(Bc,"CommandButton",Ua),Bc)})],Hc),void 0,!1,void 0,!1,void 0,void 0,void 0);var Uc=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return n}();jr([to({type:Object,required:!0})],Uc.prototype,"editorContext",void 0),jr([Zr()],Uc.prototype,"et",void 0);const Jc=_a({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("command-button",{attrs:{command:function(){return t.editorContext.commands.link({href:""})},"enable-tooltip":t.et.tooltip,tooltip:t.et.t("editor.extensions.Link.unlink.tooltip"),icon:"unlink"}})},staticRenderFns:[]},void 0,Uc=jr([Xr({components:{CommandButton:Ua}})],Uc),void 0,!1,void 0,!1,void 0,void 0,void 0);var Kc=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"linkAttrs",get:function(){return(0,this.editorContext.getMarkAttrs)("link")}}]),n}();jr([to({type:Object,required:!0})],Kc.prototype,"editorContext",void 0);const Gc=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"link-bubble-menu"},[t._t("prepend"),t._v(" "),n("open-link-command-button",{attrs:{url:t.linkAttrs.href}}),t._v(" "),n("edit-link-command-button",{attrs:{"editor-context":t.editorContext,"init-link-attrs":t.linkAttrs}}),t._v(" "),n("unlink-command-button",{attrs:{"editor-context":t.editorContext}})],2)},staticRenderFns:[]},void 0,Kc=jr([Xr({components:{OpenLinkCommandButton:Ka,EditLinkCommandButton:Wc,UnlinkCommandButton:Jc}})],Kc),void 0,!1,void 0,!1,void 0,void 0,void 0);var Xc=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).activeMenu="none",t.isLinkBack=!1,t}return Dn(n,[{key:"linkBack",value:function(){this.setMenuType("default"),this.isLinkBack=!0}},{key:"onSelectionChange",value:function(t){this.$_isLinkSelection(t)?this.isLinkBack||this.setMenuType("link"):(this.activeMenu=this.$_getCurrentMenuType(),this.isLinkBack=!1)}},{key:"generateCommandButtonComponentSpecs",value:function(t){var e=this;return this.editor.extensions.extensions.reduce((function(n,r){if(!r.options.bubble)return n;if("function"!=typeof r.menuBtnView)return n;var o=r.menuBtnView(Object.assign(Object.assign({},t),{editor:e.editor,t:e.et.t}));return Array.isArray(o)?[].concat(Or(n),Or(o)):[].concat(Or(n),[o])}),[])}},{key:"setMenuType",value:function(t){this.activeMenu=t}},{key:"$_isLinkSelection",value:function(t){var e=this.editor.schema.marks.link;if(!e)return!1;if(!t)return!1;var n=t.$from,r=t.$to,o=Ha(n,e);return!!o&&o.to===r.pos}},{key:"$_getCurrentMenuType",value:function(){return this.isLinkSelection?"link":this.editor.state.selection instanceof a["TextSelection"]||this.editor.state.selection instanceof a["AllSelection"]?"default":"none"}},{key:"bubbleMenuEnable",get:function(){return this.linkMenuEnable||this.textMenuEnable}},{key:"linkMenuEnable",get:function(){return!!this.editor.schema.marks.link}},{key:"textMenuEnable",get:function(){return this.editor.extensions.extensions.some((function(t){return t.options.bubble}))}},{key:"isLinkSelection",get:function(){var t=this.editor.state.tr.selection;return this.$_isLinkSelection(t)}}]),n}();jr([to({type:o["b"],required:!0})],Xc.prototype,"editor",void 0),jr([to({type:Object,default:function(){return{}}})],Xc.prototype,"menuBubbleOptions",void 0),jr([Zr()],Xc.prototype,"et",void 0),jr([eo("editor.state.selection")],Xc.prototype,"onSelectionChange",null);const Zc=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("editor-menu-bubble",t._b({attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"el-tiptap-editor__menu-bubble",class:{"el-tiptap-editor__menu-bubble--active":e.menu.isActive&&t.bubbleMenuEnable},style:"\n      left: "+e.menu.left+"px;\n      bottom: "+(e.menu.bottom+10)+"px;\n    "},["link"===t.activeMenu?n("link-bubble-menu",{attrs:{editorContext:Object.assign({},e,{editor:t.editor})},scopedSlots:t._u([{key:"prepend",fn:function(){return[t.textMenuEnable?n("div",{staticClass:"el-tiptap-editor__command-button",on:{mousedown:function(t){t.preventDefault()},click:t.linkBack}},[n("v-icon",{attrs:{name:"arrow-left"}})],1):t._e()]},proxy:!0}],null,!0)}):"default"===t.activeMenu?t._l(t.generateCommandButtonComponentSpecs(e),(function(e,r){return n(e.component,t._g(t._b({key:"command-button"+r,tag:"component",attrs:{"enable-tooltip":t.et.tooltip}},"component",e.componentProps,!1),e.componentEvents))})):t._e()],2)]}}])},"editor-menu-bubble",t.menuBubbleOptions,!1))},staticRenderFns:[]},void 0,Xc=jr([Xr({components:{"v-icon":Ba,EditorMenuBubble:o["e"],LinkBubbleMenu:Gc}})],Xc),void 0,!1,void 0,!1,void 0,void 0,void 0);var Yc,Qc,tu=["transaction","focus","blur","paste","drop"],eu=function(t){Tr(n,Hr(wa,ka));var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).editor=null,t.emitAfterOnUpdate=!1,t.isFullscreen=!1,t}return Dn(n,[{key:"onContentChange",value:function(t){this.emitAfterOnUpdate?this.emitAfterOnUpdate=!1:this.editor&&this.editor.setContent(t)}},{key:"onReadonlyChange",value:function(){this.editor&&this.editor.setOptions({editable:!this.readonly})}},{key:"mounted",value:function(){var t=this,e=this.generateExtensions(),n=tu.reduce((function(e,n){return Object.assign(Object.assign({},e),Mr({},"on".concat(ya(n)),(function(){return t.emitEvent.bind(t)(n)})))}),{});this.editor=new o["b"](Object.assign(Object.assign(Object.assign(Object.assign({},this.editorProperties),{editable:!this.readonly,useBuiltInExtensions:!1,extensions:e}),n),{content:this.content,onUpdate:this.onUpdate.bind(this)})),this.$emit(this.genEvent("init"),{editor:this.editor})}},{key:"beforeDestroy",value:function(){this.editor&&this.editor.destroy()}},{key:"generateExtensions",value:function(){var t=Or(this.extensions);return t.push(new io({spellcheck:this.spellcheckEnabled})),t.push(this.initPlaceholderExtension()),t}},{key:"emitEvent",value:function(t){this.$emit(this.genEvent(t),{editor:this.editor})}},{key:"onUpdate",value:function(t){var e;this.emitAfterOnUpdate=!0,e="html"===this.output?t.getHTML():JSON.stringify(t.getJSON()),this.$emit(this.genEvent("update"),e,t)}},{key:"t",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.i18nHandler.apply(this,e)}},{key:"genEvent",value:function(t){return"on".concat(ya(t))}},{key:"getTitleExtension",value:function(){if(this.extensions.find((function(t){return"doc"===t.name})).options.title){var t=this.extensions.find((function(t){return"title"===t.name}));if(t)return t}return null}},{key:"initPlaceholderExtension",value:function(){var t=this,e=this.getTitleExtension();return new i["n"](e?{emptyEditorClass:"el-tiptap-editor--empty",emptyNodeClass:"el-tiptap-editor__with-title-placeholder",showOnlyCurrent:!1,emptyNodeText:function(n){return"title"===n.type.name?e.options.placeholder:t.placeholder}}:{emptyEditorClass:"el-tiptap-editor--empty",emptyNodeClass:"el-tiptap-editor__placeholder",emptyNodeText:this.placeholder})}},{key:"et",get:function(){return this}},{key:"characters",get:function(){return this.editor?this.editor.state.doc.textContent.length:0}},{key:"showFooter",get:function(){return this.charCounterCount&&!this.isCodeViewMode}},{key:"spellcheckEnabled",get:function(){return null==this.spellcheck?!this.$elementTiptapPlugin||this.$elementTiptapPlugin.spellcheck:this.spellcheck}},{key:"i18nHandler",get:function(){var t=this.lang||this.$elementTiptapPlugin.lang;return ur.buildI18nHandler(t)}}]),n}();jr([to({type:Array,default:function(){return[]}})],eu.prototype,"extensions",void 0),jr([(Yc="onUpdate",Qc={type:String,default:""},void 0===Qc&&(Qc={}),function(t,e){Qr(Qc,t,e),qr((function(t,e){(t.props||(t.props={}))[e]=Qc,t.model={prop:e,event:Yc||e}}))(t,e)})],eu.prototype,"content",void 0),jr([to({type:String,default:""})],eu.prototype,"placeholder",void 0),jr([to({type:Object,default:function(){return{}}})],eu.prototype,"editorProperties",void 0),jr([to({type:String,default:"html",validator:function(t){return["html","json"].includes(t)}})],eu.prototype,"output",void 0),jr([to({type:Boolean,default:!1})],eu.prototype,"readonly",void 0),jr([to({type:Boolean,default:void 0})],eu.prototype,"spellcheck",void 0),jr([to({type:Boolean,default:!0})],eu.prototype,"tooltip",void 0),jr([to({type:String,default:void 0,validator:function(t){return ur.isLangSupported(t)}})],eu.prototype,"lang",void 0),jr([to({type:[String,Array,Object],default:void 0})],eu.prototype,"editorClass",void 0),jr([to({type:[String,Array,Object],default:void 0})],eu.prototype,"editorContentClass",void 0),jr([to({type:[String,Array,Object],default:void 0})],eu.prototype,"editorMenubarClass",void 0),jr([to({type:[String,Array,Object],default:void 0})],eu.prototype,"editorBubbleMenuClass",void 0),jr([to({type:[String,Array,Object],default:void 0})],eu.prototype,"editorFooterClass",void 0),jr([to({type:Object,default:function(){return{}}})],eu.prototype,"menuBubbleOptions",void 0),jr([function(t){return qr((function(e,n){var r,o=e.provide;("function"!=typeof(r=o)||!r.managed&&!r.managedReactive)&&(o=e.provide=function(t){var e=function(){var n=this,r="function"==typeof t?t.call(this):t;for(var o in(r=Object.create(r||null)).__reactiveInject__=this.__reactiveInject__||{},e.managed)r[e.managed[o]]=this[o];var i=function(t){r[e.managedReactive[t]]=a[t],r.__reactiveInject__.hasOwnProperty(e.managedReactive[t])||Object.defineProperty(r.__reactiveInject__,e.managedReactive[t],{enumerable:!0,get:function(){return n[t]}})},a=this;for(var o in e.managedReactive)i(o);return r};return e.managed={},e.managedReactive={},e}(o)),o.managed[n]=t||n}))}()],eu.prototype,"et",null),jr([eo("content")],eu.prototype,"onContentChange",null),jr([eo("readonly")],eu.prototype,"onReadonlyChange",null);const nu=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.editor?n("div",{class:[{"el-tiptap-editor":!0,"el-tiptap-editor--fullscreen":t.isFullscreen},t.editorClass],style:t.elTiptapEditorStyle},[n("menu-bubble",{class:t.editorBubbleMenuClass,attrs:{editor:t.editor,menuBubbleOptions:t.menuBubbleOptions}}),t._v(" "),t.showMenubar?n("menu-bar",{class:[{"border-top-radius":t.showMenubar},t.editorMenubarClass],attrs:{editor:t.editor},scopedSlots:t._u([t.$scopedSlots.menubar?{key:"default",fn:function(e){return[t._t("menubar",null,null,e)]}}:null],null,!0)}):t._e(),t._v(" "),t.isCodeViewMode?n("div",{class:{"el-tiptap-editor__codemirror":!0,"border-bottom-radius":t.isCodeViewMode}},[n("textarea",{ref:"cmTextArea"})]):t._e(),t._v(" "),n("editor-content",{directives:[{name:"show",rawName:"v-show",value:!t.isCodeViewMode,expression:"!isCodeViewMode"}],class:[{"el-tiptap-editor__content":!0,"border-top-radius":!t.showMenubar,"border-bottom-radius":!t.showFooter},t.editorContentClass],attrs:{editor:t.editor}}),t._v(" "),t._t("footer",[t.showFooter?n("div",{class:[{"el-tiptap-editor__footer":!0,"border-bottom-radius":t.showFooter},t.editorFooterClass]},[n("span",{staticClass:"el-tiptap-editor__characters"},[t._v("\n        "+t._s(t.t("editor.characters"))+": "+t._s(t.characters)+"\n      ")])]):t._e()],{editor:t.editor})],2):t._e()},staticRenderFns:[]},void 0,eu=jr([Xr({components:{MenuBar:Ca,MenuBubble:Zc,EditorContent:o["c"]},inject:[]})],eu),void 0,!1,void 0,!1,void 0,void 0,void 0);var ru=function(t){Tr(n,o["a"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"defaultOptions",get:function(){return{title:!1}}},{key:"schema",get:function(){return{content:this.options.title?"title block+":"block+"}}}]),n}(),ou=hr.forEach,iu=Ye("forEach"),au=Je("forEach"),su=iu&&au?[].forEach:function(t){return ou(this,t,arguments.length>1?arguments[1]:void 0)};ce({target:"Array",proto:!0,forced:[].forEach!=su},{forEach:su});var lu=["paragraph","heading","list_item","todo_item"],cu=/^\d+(.\d+)?$/;function uu(t){if(!t)return"";var e=String(t);if(cu.test(e)){var n=parseFloat(e);e=String(Math.round(100*n))+"%"}return 1.7*parseFloat(e)+"%"}function du(t,e){var n=t,r=n.selection,o=n.doc;if(!r||!o)return t;if(!(r instanceof a["TextSelection"]||r instanceof a["AllSelection"]))return t;var i=r.from,s=r.to,l=[],c=e&&"100%"!==e?e:null;return o.nodesBetween(i,s,(function(t,e){var n=t.type;return!lu.includes(n.name)||((t.attrs.lineHeight||null)!==c&&l.push({node:t,pos:e,nodeType:n}),"list_item"!==n.name&&"todo_item"!==n.name)})),l.length?(l.forEach((function(e){var n=e.node,r=e.pos,o=e.nodeType,i=n.attrs;i=Object.assign(Object.assign({},i),{lineHeight:c}),t=t.setNodeMarkup(r,o,i,n.marks)})),t):t}var pu={attrs:{textAlign:{default:null},indent:{default:null},lineHeight:{default:null}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:fu}],toDOM:hu};function fu(t){var e=t.style,n=e.textAlign,r=e.lineHeight,o=t.getAttribute("data-text-align")||n||"";return{textAlign:o=ar.test(o)?o:null,indent:parseInt(t.getAttribute("data-indent"),10)||0,lineHeight:r=function(t){if(!t)return"";if("100%"===t)return"";var e=t;if(cu.test(t)){var n=parseFloat(t);if("100%"===(e=String(Math.round(100*n))+"%"))return""}return parseFloat(e)/1.7+"%"}(r)||null}}function hu(t){var e=t.attrs,n=e.textAlign,r=e.indent,o=e.lineHeight,i="",a={};if(n&&"left"!==n&&(i+="text-align: ".concat(n,";")),r&&(a["data-indent"]=r),o){var s=uu(o);i+="line-height: ".concat(s,";")}return i&&(a.style=i),["p",a,0]}var mu,vu=function(t){Tr(n,o["i"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"schema",get:function(){return pu}}]),n}(),gu=hu,yu=fu,bu=(function(t){Tr(n,o["h"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}Dn(n,[{key:"name",get:function(){return"title"}},{key:"defaultOptions",get:function(){return{placeholder:"",class:""}}},{key:"schema",get:function(){var t=this;return{attrs:{textAlign:{default:null}},content:"inline*",parseDOM:[{tag:"h1",getAttrs:yu}],toDOM:function(e){var n=gu(e);return["h1",Object.assign(Object.assign({},n[1]),{class:t.options.class}),0]}}}}])}(),hr.map),wu=Me("map"),xu=Je("map");function ku(t,e){var n=function(t){var e=t.schema.nodes.heading;return Object(s["findParentNodeOfType"])(e)(t.selection)}(t);return null==e?!!n:!!(n&&n.node&&n.node.attrs&&n.node.attrs.level===e)}ce({target:"Array",proto:!0,forced:!wu||!xu},{map:function(t){return bu(this,t,arguments.length>1?arguments[1]:void 0)}}),_n("match",1,(function(t,e,n){return[function(e){var n=U(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var o=ot(t),i=String(this);if(!o.global)return Nn(o,i);var a=o.unicode;o.lastIndex=0;for(var s,l=[],c=0;null!==(s=Nn(o,i));){var u=String(s[0]);l[c]=u,""===u&&(o.lastIndex=An(i,Lt(o.lastIndex),a)),c++}return 0===c?null:l}]}));var Su=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"isHeadingActive",value:function(t){return ku(this.editor.state,t)}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"level",get:function(){return this.editor.extensions.options.heading.level}}]),n}();jr([to({type:Object,required:!0})],Su.prototype,"editorContext",void 0),jr([Zr()],Su.prototype,"et",void 0);const _u=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:function(e){return e>0?t.editorContext.commands.heading({level:e}):t.editorContext.commands.paragraph()}}},[n("command-button",{attrs:{"is-active":t.isHeadingActive(),"enable-tooltip":t.et.tooltip,tooltip:t.et.t("editor.extensions.Heading.tooltip"),readonly:t.et.isCodeViewMode,icon:"heading"}}),t._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":t.editorContext.isActive.paragraph()},attrs:{command:0}},[n("span",[t._v(t._s(t.et.t("editor.extensions.Heading.buttons.paragraph")))])]),t._v(" "),t._l(t.level,(function(e){return n("el-dropdown-item",{key:e,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":t.isHeadingActive(e)},attrs:{command:e}},[n("h"+e,{tag:"component",attrs:{"data-item-type":"heading"}},[t._v("\n        "+t._s(t.et.t("editor.extensions.Heading.buttons.heading"))+" "+t._s(e)+"\n      ")])],1)}))],2)],1)},staticRenderFns:[]},void 0,Su=jr([Xr({components:(mu={},Mr(mu,x.a.name,x.a),Mr(mu,b.a.name,b.a),Mr(mu,g.a.name,g.a),Mr(mu,"CommandButton",Ua),mu)})],Su),void 0,!1,void 0,!1,void 0,void 0,void 0);function Cu(t){var e=yu(t),n=t.nodeName.match(/[H|h](\d)/)[1];return e.level=Number(n),e}function Ou(t){var e=gu(t),n=t.attrs.level||1;return e[0]="h".concat(n),e}var Mu=function(t){Tr(n,i["f"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){return{component:_u,componentProps:{editorContext:t}}}},{key:"schema",get:function(){return Object.assign(Object.assign({},pu),{attrs:Object.assign(Object.assign({},pu.attrs),{level:{default:1}}),defining:!0,draggable:!1,parseDOM:this.options.levels.map((function(t){return{tag:"h".concat(t),getAttrs:Cu}})),toDOM:Ou})}}]),n}(),Eu=Object.assign(Object.assign({},pu),{attrs:{textAlign:{default:null},indent:{default:null}},content:"block*",defining:!0,parseDOM:[{tag:"blockquote",getAttrs:function(t){return yu(t)}}],toDOM:function(t){var e=gu(t);return e[0]="blockquote",e}}),Tu=function(t){Tr(n,i["a"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){var e=t.isActive,n=t.commands,r=t.t;return{component:Ua,componentProps:{command:n.blockquote,isActive:e.blockquote(),icon:"quote-right",tooltip:r("editor.extensions.Blockquote.tooltip")}}}},{key:"schema",get:function(){return Eu}}]),n}(),Au=function(t){Tr(n,i["d"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){var e=t.isActive,n=t.commands,r=t.t;return{component:Ua,componentProps:{command:n.code_block,isActive:e.code_block(),icon:"code",tooltip:r("editor.extensions.CodeBlock.tooltip")}}}}]),n}(),Nu={attrs:{textAlign:{default:null},lineHeight:{default:null}},content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li",getAttrs:function(t){var e=t.style,n=e.textAlign,r=e.lineHeight,o=t.getAttribute("data-text-align")||n||"";return o=ar.test(o)?o:null,r=r&&r!==uu(1.7)?r:null,{textAlign:o,lineHeight:r}}}],toDOM:function(t){var e=t.attrs,n=e.textAlign,r=e.lineHeight,o="",i={};if(n&&"left"!==n&&(o+="text-align: ".concat(n)),r){var a=uu(r);o+="line-height: ".concat(a,";")}return o&&(i.style=o),["li",i,0]}},Ru=function(t){Tr(n,i["l"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"schema",get:function(){return Nu}}]),n}(),Iu=function(t){Tr(n,i["c"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){var e=t.isActive,n=t.commands,r=t.t;return{component:Ua,componentProps:{isActive:e.bullet_list(),command:n.bullet_list,icon:"list-ul",tooltip:r("editor.extensions.BulletList.tooltip")}}}}]),n}(),ju=function(t){Tr(n,i["m"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){var e=t.isActive,n=t.commands,r=t.t;return{component:Ua,componentProps:{isActive:e.ordered_list(),command:n.ordered_list,icon:"list-ol",tooltip:r("editor.extensions.OrderedList.tooltip")}}}}]),n}(),zu=R((function(t,e){e.__esModule=!0,e.isInContainer=e.getScrollContainer=e.isScroll=e.getStyle=e.once=e.off=e.on=void 0;var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.hasClass=p,e.addClass=function(t,e){if(t){for(var n=t.className,r=(e||"").split(" "),o=0,i=r.length;o<i;o++){var a=r[o];a&&(t.classList?t.classList.add(a):p(t,a)||(n+=" "+a))}t.classList||(t.className=n)}},e.removeClass=function(t,e){if(t&&e){for(var n=e.split(" "),r=" "+t.className+" ",o=0,i=n.length;o<i;o++){var a=n[o];a&&(t.classList?t.classList.remove(a):p(t,a)&&(r=r.replace(" "+a+" "," ")))}t.classList||(t.className=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}(r))}},e.setStyle=function t(e,n,r){if(e&&n)if("object"===(void 0===n?"undefined":o(n)))for(var i in n)n.hasOwnProperty(i)&&t(e,i,n[i]);else"opacity"===(n=c(n))&&l<9?e.style.filter=isNaN(r)?"":"alpha(opacity="+100*r+")":e.style[n]=r};var i=((n=r["default"])&&n.__esModule?n:{default:n}).default.prototype.$isServer,a=/([\:\-\_]+(.))/g,s=/^moz([A-Z])/,l=i?0:Number(document.documentMode),c=function(t){return t.replace(a,(function(t,e,n,r){return r?n.toUpperCase():n})).replace(s,"Moz$1")},u=e.on=!i&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)},d=e.off=!i&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)};function p(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}e.once=function(t,e,n){u(t,e,(function r(){n&&n.apply(this,arguments),d(t,e,r)}))};var f=e.getStyle=l<9?function(t,n){if(!i){if(!t||!n)return null;"float"===(n=c(n))&&(n="styleFloat");try{switch(n){case"opacity":try{return t.filters.item("alpha").opacity/100}catch(t){return 1}default:return t.style[n]||t.currentStyle?t.currentStyle[n]:null}}catch(e){return t.style[n]}}}:function(t,e){if(!i){if(!t||!e)return null;"float"===(e=c(e))&&(e="cssFloat");try{var n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch(n){return t.style[e]}}},h=e.isScroll=function(t,e){if(!i)return f(t,null!==e||void 0!==e?e?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)};e.getScrollContainer=function(t,e){if(!i){for(var n=t;n;){if([window,document,document.documentElement].includes(n))return window;if(h(n,e))return n;n=n.parentNode}return n}},e.isInContainer=function(t,e){if(i||!t||!e)return!1;var n=t.getBoundingClientRect(),r=void 0;return r=[window,document,document.documentElement,null,void 0].includes(e)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:e.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right}}));N(zu),zu.isInContainer,zu.getScrollContainer,zu.isScroll,zu.getStyle,zu.once,zu.off,zu.on,zu.hasClass,zu.addClass,zu.removeClass,zu.setStyle;var Pu=R((function(t,e){e.__esModule=!0;var n,o=(n=r["default"])&&n.__esModule?n:{default:n},i=!1,a=!1,s=void 0,l=function(){if(!o.default.prototype.$isServer){var t=u.modalDom;return t?i=!0:(i=!1,t=document.createElement("div"),u.modalDom=t,t.addEventListener("touchmove",(function(t){t.preventDefault(),t.stopPropagation()})),t.addEventListener("click",(function(){u.doOnModalClick&&u.doOnModalClick()}))),t}},c={},u={modalFade:!0,getInstance:function(t){return c[t]},register:function(t,e){t&&e&&(c[t]=e)},deregister:function(t){t&&(c[t]=null,delete c[t])},nextZIndex:function(){return u.zIndex++},modalStack:[],doOnModalClick:function(){var t=u.modalStack[u.modalStack.length-1];if(t){var e=u.getInstance(t.id);e&&e.closeOnClickModal&&e.close()}},openModal:function(t,e,n,r,a){if(!o.default.prototype.$isServer&&t&&void 0!==e){this.modalFade=a;for(var s=this.modalStack,c=0,u=s.length;c<u;c++)if(s[c].id===t)return;var d=l();(0,zu.addClass)(d,"v-modal"),this.modalFade&&!i&&(0,zu.addClass)(d,"v-modal-enter"),r&&r.trim().split(/\s+/).forEach((function(t){return(0,zu.addClass)(d,t)})),setTimeout((function(){(0,zu.removeClass)(d,"v-modal-enter")}),200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(d):document.body.appendChild(d),e&&(d.style.zIndex=e),d.tabIndex=0,d.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:r})}},closeModal:function(t){var e=this.modalStack,n=l();if(e.length>0){var r=e[e.length-1];if(r.id===t)r.modalClass&&r.modalClass.trim().split(/\s+/).forEach((function(t){return(0,zu.removeClass)(n,t)})),e.pop(),e.length>0&&(n.style.zIndex=e[e.length-1].zIndex);else for(var o=e.length-1;o>=0;o--)if(e[o].id===t){e.splice(o,1);break}}0===e.length&&(this.modalFade&&(0,zu.addClass)(n,"v-modal-leave"),setTimeout((function(){0===e.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",u.modalDom=void 0),(0,zu.removeClass)(n,"v-modal-leave")}),200))}};Object.defineProperty(u,"zIndex",{configurable:!0,get:function(){return a||(s=s||(o.default.prototype.$ELEMENT||{}).zIndex||2e3,a=!0),s},set:function(t){s=t}}),o.default.prototype.$isServer||window.addEventListener("keydown",(function(t){if(27===t.keyCode){var e=function(){if(!o.default.prototype.$isServer&&u.modalStack.length>0){var t=u.modalStack[u.modalStack.length-1];if(!t)return;return u.getInstance(t.id)}}();e&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}})),e.default=u}));N(Pu);var Du=R((function(t,e){e.__esModule=!0,e.default=function(){if(o.default.prototype.$isServer)return 0;if(void 0!==i)return i;var t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var r=n.offsetWidth;return t.parentNode.removeChild(t),i=e-r};var n,o=(n=r["default"])&&n.__esModule?n:{default:n},i=void 0}));N(Du);var $u=R((function(t,e){e.__esModule=!0,e.PopupManager=void 0;var n=s(r["default"]),o=s(ts),i=s(Pu),a=s(Du);function s(t){return t&&t.__esModule?t:{default:t}}var l=1,c=void 0;e.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+l++,i.default.register(this._popupId,this)},beforeDestroy:function(){i.default.deregister(this._popupId),i.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(t){var e=this;if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,n.default.nextTick((function(){e.open()})))}else this.close()}},methods:{open:function(t){var e=this;this.rendered||(this.rendered=!0);var n=(0,o.default)({},this.$props||this,t);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var r=Number(n.openDelay);r>0?this._openTimer=setTimeout((function(){e._openTimer=null,e.doOpen(n)}),r):this.doOpen(n)},doOpen:function(t){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var e=this.$el,n=t.modal,r=t.zIndex;if(r&&(i.default.zIndex=r),n&&(this._closing&&(i.default.closeModal(this._popupId),this._closing=!1),i.default.openModal(this._popupId,i.default.nextZIndex(),this.modalAppendToBody?void 0:e,t.modalClass,t.modalFade),t.lockScroll)){this.withoutHiddenClass=!(0,zu.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,zu.getStyle)(document.body,"paddingRight"),10)),c=(0,a.default)();var o=document.documentElement.clientHeight<document.body.scrollHeight,s=(0,zu.getStyle)(document.body,"overflowY");c>0&&(o||"scroll"===s)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+c+"px"),(0,zu.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(e).position&&(e.style.position="absolute"),e.style.zIndex=i.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var t=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var e=Number(this.closeDelay);e>0?this._closeTimer=setTimeout((function(){t._closeTimer=null,t.doClose()}),e):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){i.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,zu.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},e.PopupManager=i.default}));N($u),$u.PopupManager;var Fu=R((function(t,e){e.__esModule=!0,e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t||!e)throw new Error("instance & callback is required");var o=!1,i=function(){o||(o=!0,e&&e.apply(null,arguments))};r?t.$once("after-leave",i):t.$on("after-leave",i),setTimeout((function(){i()}),n+100)}}));N(Fu);var Bu,Lu=N(R((function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=68)}({0:function(t,e,n){function r(t,e,n,r,o,i,a,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},15:function(t,e){t.exports=$u},2:function(t,e){t.exports=zu},41:function(t,e){t.exports=Fu},68:function(t,e,n){n.r(e);var r=n(7),o=n.n(r),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":t.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[t.customClass,{"is-fullscreen":t.fullscreen}],style:{backgroundColor:t.background||""}},[n("div",{staticClass:"el-loading-spinner"},[t.spinner?n("i",{class:t.spinner}):n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),t.text?n("p",{staticClass:"el-loading-text"},[t._v(t._s(t.text))]):t._e()])])])};i._withStripped=!0;var a={data:function(){return{text:null,spinner:null,background:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(t){this.text=t}}},s=n(0),l=Object(s.a)(a,i,[],!1,null,null,null);l.options.__file="packages/loading/src/loading.vue";var c=l.exports,u=n(2),d=n(15),p=n(41),f=n.n(p),h=o.a.extend(c),m={install:function(t){if(!t.prototype.$isServer){var e=function(e,r){r.value?t.nextTick((function(){r.modifiers.fullscreen?(e.originalPosition=Object(u.getStyle)(document.body,"position"),e.originalOverflow=Object(u.getStyle)(document.body,"overflow"),e.maskStyle.zIndex=d.PopupManager.nextZIndex(),Object(u.addClass)(e.mask,"is-fullscreen"),n(document.body,e,r)):(Object(u.removeClass)(e.mask,"is-fullscreen"),r.modifiers.body?(e.originalPosition=Object(u.getStyle)(document.body,"position"),["top","left"].forEach((function(t){var n="top"===t?"scrollTop":"scrollLeft";e.maskStyle[t]=e.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-parseInt(Object(u.getStyle)(document.body,"margin-"+t),10)+"px"})),["height","width"].forEach((function(t){e.maskStyle[t]=e.getBoundingClientRect()[t]+"px"})),n(document.body,e,r)):(e.originalPosition=Object(u.getStyle)(e,"position"),n(e,e,r)))})):(f()(e.instance,(function(t){if(e.instance.hiding){e.domVisible=!1;var n=r.modifiers.fullscreen||r.modifiers.body?document.body:e;Object(u.removeClass)(n,"el-loading-parent--relative"),Object(u.removeClass)(n,"el-loading-parent--hidden"),e.instance.hiding=!1}}),300,!0),e.instance.visible=!1,e.instance.hiding=!0)},n=function(e,n,r){n.domVisible||"none"===Object(u.getStyle)(n,"display")||"hidden"===Object(u.getStyle)(n,"visibility")?n.domVisible&&!0===n.instance.hiding&&(n.instance.visible=!0,n.instance.hiding=!1):(Object.keys(n.maskStyle).forEach((function(t){n.mask.style[t]=n.maskStyle[t]})),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&Object(u.addClass)(e,"el-loading-parent--relative"),r.modifiers.fullscreen&&r.modifiers.lock&&Object(u.addClass)(e,"el-loading-parent--hidden"),n.domVisible=!0,e.appendChild(n.mask),t.nextTick((function(){n.instance.hiding?n.instance.$emit("after-leave"):n.instance.visible=!0})),n.domInserted=!0)};t.directive("loading",{bind:function(t,n,r){var o=t.getAttribute("element-loading-text"),i=t.getAttribute("element-loading-spinner"),a=t.getAttribute("element-loading-background"),s=t.getAttribute("element-loading-custom-class"),l=r.context,c=new h({el:document.createElement("div"),data:{text:l&&l[o]||o,spinner:l&&l[i]||i,background:l&&l[a]||a,customClass:l&&l[s]||s,fullscreen:!!n.modifiers.fullscreen}});t.instance=c,t.mask=c.$el,t.maskStyle={},n.value&&e(t,n)},update:function(t,n){t.instance.setText(t.getAttribute("element-loading-text")),n.oldValue!==n.value&&e(t,n)},unbind:function(t,n){t.domInserted&&(t.mask&&t.mask.parentNode&&t.mask.parentNode.removeChild(t.mask),e(t,{value:!1,modifiers:n.modifiers})),t.instance&&t.instance.$destroy()}})}}},v=m,g=n(9),y=n.n(g),b=o.a.extend(c),w={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},x=void 0;b.prototype.originalPosition="",b.prototype.originalOverflow="",b.prototype.close=function(){var t=this;this.fullscreen&&(x=void 0),f()(this,(function(e){var n=t.fullscreen||t.body?document.body:t.target;Object(u.removeClass)(n,"el-loading-parent--relative"),Object(u.removeClass)(n,"el-loading-parent--hidden"),t.$el&&t.$el.parentNode&&t.$el.parentNode.removeChild(t.$el),t.$destroy()}),300),this.visible=!1};var k=function(t,e,n){var r={};t.fullscreen?(n.originalPosition=Object(u.getStyle)(document.body,"position"),n.originalOverflow=Object(u.getStyle)(document.body,"overflow"),r.zIndex=d.PopupManager.nextZIndex()):t.body?(n.originalPosition=Object(u.getStyle)(document.body,"position"),["top","left"].forEach((function(e){var n="top"===e?"scrollTop":"scrollLeft";r[e]=t.target.getBoundingClientRect()[e]+document.body[n]+document.documentElement[n]+"px"})),["height","width"].forEach((function(e){r[e]=t.target.getBoundingClientRect()[e]+"px"}))):n.originalPosition=Object(u.getStyle)(e,"position"),Object.keys(r).forEach((function(t){n.$el.style[t]=r[t]}))},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!o.a.prototype.$isServer){if("string"==typeof(t=y()({},w,t)).target&&(t.target=document.querySelector(t.target)),t.target=t.target||document.body,t.target!==document.body?t.fullscreen=!1:t.body=!0,t.fullscreen&&x)return x;var e=t.body?document.body:t.target,n=new b({el:document.createElement("div"),data:t});return k(t,e,n),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&Object(u.addClass)(e,"el-loading-parent--relative"),t.fullscreen&&t.lock&&Object(u.addClass)(e,"el-loading-parent--hidden"),e.appendChild(n.$el),o.a.nextTick((function(){n.visible=!0})),t.fullscreen&&(x=n),n}};e.default={install:function(t){t.use(v),t.prototype.$loading=S},directive:v,service:S}},7:function(t,e){t.exports=r["default"]},9:function(t,e){t.exports=ts}})}))),Vu=(R((function(t){!function(e){var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",l=e.regeneratorRuntime;if(l)t.exports=l;else{(l=e.regeneratorRuntime=t.exports).wrap=h;var c={},u={};u[i]=function(){return this};var d=Object.getPrototypeOf,p=d&&d(d(C([])));p&&p!==n&&r.call(p,i)&&(u=p);var f=y.prototype=v.prototype=Object.create(u);g.prototype=f.constructor=y,y.constructor=g,y[s]=g.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(f),t},l.awrap=function(t){return{__await:t}},b(w.prototype),w.prototype[a]=function(){return this},l.AsyncIterator=w,l.async=function(t,e,n,r){var o=new w(h(t,e,n,r));return l.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},b(f),f[s]="Generator",f[i]=function(){return this},f.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}}}function h(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),a=new _(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=m(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function m(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function v(){}function g(){}function y(){}function b(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function w(t){var e;this._invoke=function(n,o){function i(){return new Promise((function(e,i){!function e(n,o,i,a){var s=m(t[n],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):Promise.resolve(c).then((function(t){l.value=t,i(l)}),a)}a(s.arg)}(n,o,e,i)}))}return e=e?e.then(i,i):i()}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=m(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())})),function(t){Tr(n,r["default"]);var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).imageUploadDialogVisible=!1,t.uploading=!1,t}return Dn(n,[{key:"openUrlPrompt",value:function(){var t=this;M.a.prompt("",this.et.t("editor.extensions.Image.control.insert_by_url.title"),{confirmButtonText:this.et.t("editor.extensions.Image.control.insert_by_url.confirm"),cancelButtonText:this.et.t("editor.extensions.Image.control.insert_by_url.cancel"),inputPlaceholder:this.et.t("editor.extensions.Image.control.insert_by_url.placeholder"),inputPattern:this.imageNodeOptions.urlPattern,inputErrorMessage:this.et.t("editor.extensions.Image.control.insert_by_url.invalid_url"),roundButton:!0}).then((function(e){var n=e.value;t.editorContext.commands.image({src:n})})).catch((function(){}))}},{key:"uploadImage",value:function(t){return zr(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=this.imageNodeOptions.uploadRequest,o=Lu.service({target:".el-tiptap-upload"}),e.prev=3,e.next=6,r?r(n):ga(n);case 6:i=e.sent,this.editorContext.commands.image({src:i}),this.imageUploadDialogVisible=!1,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),lr.error(e.t0);case 14:return e.prev=14,this.$nextTick((function(){o.close()})),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,11,14,17]])})))}},{key:"imageNodeOptions",get:function(){return this.editorContext.editor.extensions.options.image}}]),n}());jr([to({type:Object,required:!0})],Vu.prototype,"editorContext",void 0),jr([Zr()],Vu.prototype,"et",void 0);const qu=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-popover",{attrs:{disabled:t.et.isCodeViewMode,placement:"bottom",trigger:"click","popper-class":"el-tiptap-popper"}},[n("div",{staticClass:"el-tiptap-popper__menu"},[n("div",{staticClass:"el-tiptap-popper__menu__item",on:{click:t.openUrlPrompt}},[n("span",[t._v(t._s(t.et.t("editor.extensions.Image.buttons.insert_image.external")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",on:{click:function(e){t.imageUploadDialogVisible=!0}}},[n("span",[t._v(t._s(t.et.t("editor.extensions.Image.buttons.insert_image.upload")))])])]),t._v(" "),n("command-button",{attrs:{slot:"reference","enable-tooltip":t.et.tooltip,tooltip:t.et.t("editor.extensions.Image.buttons.insert_image.tooltip"),readonly:t.et.isCodeViewMode,icon:"image"},slot:"reference"})],1),t._v(" "),n("el-dialog",{attrs:{title:t.et.t("editor.extensions.Image.control.upload_image.title"),visible:t.imageUploadDialogVisible,"append-to-body":!0},on:{"update:visible":function(e){t.imageUploadDialogVisible=e}}},[n("el-upload",{staticClass:"el-tiptap-upload",attrs:{"http-request":t.uploadImage,"show-file-list":!1,action:"#",drag:"",accept:"image/*"}},[n("div",{staticClass:"el-tiptap-upload__icon"},[n("i",{staticClass:"fa fa-upload"})]),t._v(" "),n("div",{staticClass:"el-tiptap-upload__text"},[t._v("\n        "+t._s(t.et.t("editor.extensions.Image.control.upload_image.button"))+"\n      ")])])],1)],1)},staticRenderFns:[]},void 0,Vu=jr([Xr({components:(Bu={},Mr(Bu,m.a.name,m.a),Mr(Bu,C.a.name,C.a),Mr(Bu,S.a.name,S.a),Mr(Bu,"CommandButton",Ua),Bu)})],Vu),void 0,!1,void 0,!1,void 0,void 0,void 0);var Hu,Wu=[],Uu="ResizeObserver loop completed with undelivered notifications.";!function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Hu||(Hu={}));var Ju,Ku,Gu=function(){function t(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return t.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Xu=function(t){return t instanceof SVGElement&&"getBBox"in t},Zu=function(t){if(Xu(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var o=t,i=o.offsetWidth,a=o.offsetHeight;return!(i||a||t.getClientRects().length)},Yu=function(t){var e,n,r=null===(n=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&t instanceof r.Element)},Qu="undefined"!=typeof window?window:{},td=new WeakMap,ed=/auto|scroll/,nd=/^tb|vertical/,rd=/msie|trident/i.test(Qu.navigator&&Qu.navigator.userAgent),od=function(t){return parseFloat(t||"0")},id=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=!1),Object.freeze({inlineSize:(n?e:t)||0,blockSize:(n?t:e)||0})},ad=Object.freeze({devicePixelContentBoxSize:id(),borderBoxSize:id(),contentBoxSize:id(),contentRect:new Gu(0,0,0,0)}),sd=function(t,e){if(void 0===e&&(e=!1),td.has(t)&&!e)return td.get(t);if(Zu(t))return td.set(t,ad),ad;var n=getComputedStyle(t),r=Xu(t)&&t.ownerSVGElement&&t.getBBox(),o=!rd&&"border-box"===n.boxSizing,i=nd.test(n.writingMode||""),a=!r&&ed.test(n.overflowY||""),s=!r&&ed.test(n.overflowX||""),l=r?0:od(n.paddingTop),c=r?0:od(n.paddingRight),u=r?0:od(n.paddingBottom),d=r?0:od(n.paddingLeft),p=r?0:od(n.borderTopWidth),f=r?0:od(n.borderRightWidth),h=r?0:od(n.borderBottomWidth),m=d+c,v=l+u,g=(r?0:od(n.borderLeftWidth))+f,y=p+h,b=s?t.offsetHeight-y-t.clientHeight:0,w=a?t.offsetWidth-g-t.clientWidth:0,x=o?m+g:0,k=o?v+y:0,S=r?r.width:od(n.width)-x-w,_=r?r.height:od(n.height)-k-b,C=S+m+w+g,O=_+v+b+y,M=Object.freeze({devicePixelContentBoxSize:id(Math.round(S*devicePixelRatio),Math.round(_*devicePixelRatio),i),borderBoxSize:id(C,O,i),contentBoxSize:id(S,_,i),contentRect:new Gu(d,l,S,_)});return td.set(t,M),M},ld=function(t,e,n){var r=sd(t,n),o=r.borderBoxSize,i=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(e){case Hu.DEVICE_PIXEL_CONTENT_BOX:return a;case Hu.BORDER_BOX:return o;default:return i}},cd=function(t){var e=sd(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=[e.borderBoxSize],this.contentBoxSize=[e.contentBoxSize],this.devicePixelContentBoxSize=[e.devicePixelContentBoxSize]},ud=function(t){if(Zu(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},dd=function(){var t=1/0,e=[];Wu.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(e){var n=new cd(e.target),o=ud(e.target);r.push(n),e.lastReportedSize=ld(e.target,e.observedBox),o<t&&(t=o)})),e.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=e;n<r.length;n++)(0,r[n])();return t},pd=function(t){Wu.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(n){n.isActive()&&(ud(n.target)>t?e.activeTargets.push(n):e.skippedTargets.push(n))}))}))},fd=function(){var t=0;for(pd(t);Wu.some((function(t){return t.activeTargets.length>0}));)t=dd(),pd(t);return Wu.some((function(t){return t.skippedTargets.length>0}))&&function(){var t;"function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:Uu}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=Uu),window.dispatchEvent(t)}(),t>0},hd=[],md=function(t){if(!Ju){var e=0,n=document.createTextNode("");new MutationObserver((function(){return hd.splice(0).forEach((function(t){return t()}))})).observe(n,{characterData:!0}),Ju=function(){n.textContent=""+(e?e--:e++)}}hd.push(t),Ju()},vd=0,gd={attributes:!0,characterData:!0,childList:!0,subtree:!0},yd=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],bd=function(t){return void 0===t&&(t=0),Date.now()+t},wd=!1,xd=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!wd){wd=!0;var n,r=bd(t);n=function(){var n=!1;try{n=fd()}finally{if(wd=!1,t=r-bd(),!vd)return;n?e.run(1e3):t>0?e.run(t):e.start()}},md((function(){requestAnimationFrame(n)}))}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,gd)};document.body?e():Qu.addEventListener("DOMContentLoaded",e)},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),yd.forEach((function(e){return Qu.addEventListener(e,t.listener,!0)})))},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),yd.forEach((function(e){return Qu.removeEventListener(e,t.listener,!0)})),this.stopped=!0)},t}()),kd=function(t){!vd&&t>0&&xd.start(),!(vd+=t)&&xd.stop()},Sd=function(){function t(t,e){this.target=t,this.observedBox=e||Hu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var t,e=ld(this.target,this.observedBox,!0);return t=this.target,Xu(t)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),_d=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e},Cd=new WeakMap,Od=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},Md=function(){function t(){}return t.connect=function(t,e){var n=new _d(t,e);Cd.set(t,n)},t.observe=function(t,e,n){var r=Cd.get(t),o=0===r.observationTargets.length;Od(r.observationTargets,e)<0&&(o&&Wu.push(r),r.observationTargets.push(new Sd(e,n&&n.box)),kd(1),xd.schedule())},t.unobserve=function(t,e){var n=Cd.get(t),r=Od(n.observationTargets,e),o=1===n.observationTargets.length;r>=0&&(o&&Wu.splice(Wu.indexOf(n),1),n.observationTargets.splice(r,1),kd(-1))},t.disconnect=function(t){var e=this,n=Cd.get(t);n.observationTargets.slice().forEach((function(n){return e.unobserve(t,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},t}(),Ed=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Md.connect(this,t)}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Yu(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Md.observe(this,t,e)},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Yu(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Md.unobserve(this,t)},t.prototype.disconnect=function(){Md.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}(),Td={};function Ad(t){return new Promise((function(e,n){var r={complete:!1,width:0,height:0,src:t};if(t)if(Td[t])e(Object.assign({},Td[t]));else{var o=new Image;o.onload=function(){r.width=o.width,r.height=o.height,r.complete=!0,Td[t]=Object.assign({},r),e(r)},o.onerror=function(){n(r)},o.src=t}else n(r)}))}var Nd=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).popoverVisible=!1,t.displayCollection=["inline","block","left","right"],t}return Dn(n,[{key:"hidePopover",value:function(){this.popoverVisible=!1}},{key:"currDisplay",get:function(){return this.node.attrs.display}}]),n}();jr([to({type:E["Node"],required:!0})],Nd.prototype,"node",void 0),jr([to({type:Function,required:!0})],Nd.prototype,"updateAttrs",void 0),jr([Zr()],Nd.prototype,"et",void 0);const Rd=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-popover",{attrs:{placement:"top",trigger:"click","popper-class":"el-tiptap-popper"},model:{value:t.popoverVisible,callback:function(e){t.popoverVisible=e},expression:"popoverVisible"}},[n("div",{staticClass:"el-tiptap-popper__menu"},t._l(t.displayCollection,(function(e){return n("div",{key:e,staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--active":e===t.currDisplay},on:{mousedown:t.hidePopover,click:function(n){return t.updateAttrs({display:e})}}},[n("span",[t._v(t._s(t.et.t("editor.extensions.Image.buttons.display."+e)))])])})),0),t._v(" "),n("command-button",{attrs:{slot:"reference","enable-tooltip":t.et.tooltip,tooltip:t.et.t("editor.extensions.Image.buttons.display.tooltip"),icon:"regular/image"},slot:"reference"})],1)},staticRenderFns:[]},void 0,Nd=jr([Xr({components:(Ku={},Mr(Ku,S.a.name,S.a),Mr(Ku,"CommandButton",Ua),Ku)})],Nd),void 0,!1,void 0,!1,void 0,void 0,void 0);var Id,jd=N(R((function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=134)}({134:function(t,e,n){n.r(e);var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={name:"ElCol",props:{span:{type:Number,default:24},tag:{type:String,default:"div"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter:function(){for(var t=this.$parent;t&&"ElRow"!==t.$options.componentName;)t=t.$parent;return t?t.gutter:0}},render:function(t){var e=this,n=[],o={};return this.gutter&&(o.paddingLeft=this.gutter/2+"px",o.paddingRight=o.paddingLeft),["span","offset","pull","push"].forEach((function(t){(e[t]||0===e[t])&&n.push("span"!==t?"el-col-"+t+"-"+e[t]:"el-col-"+e[t])})),["xs","sm","md","lg","xl"].forEach((function(t){if("number"==typeof e[t])n.push("el-col-"+t+"-"+e[t]);else if("object"===r(e[t])){var o=e[t];Object.keys(o).forEach((function(e){n.push("span"!==e?"el-col-"+t+"-"+e+"-"+o[e]:"el-col-"+t+"-"+o[e])}))}})),t(this.tag,{class:["el-col",n],style:o},this.$slots.default)},install:function(t){t.component(o.name,o)}};e.default=o}})}))),zd=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).editImageDialogVisible=!1,t.imageAttrs=t.getImageAttrs(),t}return Dn(n,[{key:"syncImageAttrs",value:function(){this.imageAttrs=this.getImageAttrs()}},{key:"getImageAttrs",value:function(){return{src:this.node.attrs.src,alt:this.node.attrs.alt,width:this.node.attrs.width,height:this.node.attrs.height}}},{key:"updateImageAttrs",value:function(){var t=this.imageAttrs,e=t.width,n=t.height;e=parseInt(e,10),n=parseInt(n,10),this.updateAttrs({alt:this.imageAttrs.alt,width:e>=0?e:null,height:n>=0?n:null}),this.closeEditImageDialog()}},{key:"openEditImageDialog",value:function(){this.editImageDialogVisible=!0}},{key:"closeEditImageDialog",value:function(){this.editImageDialogVisible=!1}}]),n}();jr([to({type:E["Node"],required:!0})],zd.prototype,"node",void 0),jr([to({type:Function,required:!0})],zd.prototype,"updateAttrs",void 0),jr([Zr()],zd.prototype,"et",void 0);const Pd=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("command-button",{attrs:{command:t.openEditImageDialog,"enable-tooltip":t.et.tooltip,tooltip:t.et.t("editor.extensions.Image.buttons.image_options.tooltip"),icon:"ellipsis-h"}}),t._v(" "),n("el-dialog",{attrs:{title:t.et.t("editor.extensions.Image.control.edit_image.title"),visible:t.editImageDialogVisible,"append-to-body":!0,width:"400px","custom-class":"el-tiptap-edit-image-dialog"},on:{"update:visible":function(e){t.editImageDialogVisible=e},open:t.syncImageAttrs},scopedSlots:t._u([{key:"footer",fn:function(){return[n("el-button",{attrs:{size:"small",round:""},on:{click:t.closeEditImageDialog}},[t._v("\n        "+t._s(t.et.t("editor.extensions.Image.control.edit_image.cancel"))+"\n      ")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:t.updateImageAttrs}},[t._v("\n        "+t._s(t.et.t("editor.extensions.Image.control.edit_image.confirm"))+"\n      ")])]},proxy:!0}])},[n("el-form",{attrs:{model:t.imageAttrs,"label-position":"top",size:"small"}},[n("el-form-item",{attrs:{label:t.et.t("editor.extensions.Image.control.edit_image.form.src")}},[n("el-input",{attrs:{value:t.imageAttrs.src,autocomplete:"off",disabled:""}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.et.t("editor.extensions.Image.control.edit_image.form.alt")}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.imageAttrs.alt,callback:function(e){t.$set(t.imageAttrs,"alt",e)},expression:"imageAttrs.alt"}})],1),t._v(" "),n("el-form-item",[n("el-col",{attrs:{span:11}},[n("el-form-item",{attrs:{label:t.et.t("editor.extensions.Image.control.edit_image.form.width")}},[n("el-input",{attrs:{type:"number"},model:{value:t.imageAttrs.width,callback:function(e){t.$set(t.imageAttrs,"width",e)},expression:"imageAttrs.width"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:11,push:2}},[n("el-form-item",{attrs:{label:t.et.t("editor.extensions.Image.control.edit_image.form.height")}},[n("el-input",{attrs:{type:"number"},model:{value:t.imageAttrs.height,callback:function(e){t.$set(t.imageAttrs,"height",e)},expression:"imageAttrs.height"}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},void 0,zd=jr([Xr({components:(Id={},Mr(Id,m.a.name,m.a),Mr(Id,qc.name,qc),Mr(Id,Vc.name,Vc),Mr(Id,es.name,es),Mr(Id,jd.name,jd),Mr(Id,d.a.name,d.a),Mr(Id,"CommandButton",Ua),Id)})],zd),void 0,!1,void 0,!1,void 0,void 0,void 0);var Dd=Math.pow(2,16);function $d(t,e){return t+e*Dd}function Fd(t){return 65535&t}var Bd=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},Ld=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};Ld.prototype.recover=function(t){var e=0,n=Fd(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/Dd}(t)},Ld.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},Ld.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},Ld.prototype._map=function(t,e,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?r:0);if(s>t)break;var l=this.ranges[a+o],c=this.ranges[a+i],u=s+l;if(t<=u){var d=s+r+((l?t==s?-1:t==u?1:e:e)<0?0:c);if(n)return d;var p=t==(e<0?s:u)?null:$d(a/3,t-s);return new Bd(d,e<0?t!=s:t!=u,p)}r+=c-l}return n?t+r:new Bd(t+r)},Ld.prototype.touches=function(t,e){for(var n=0,r=Fd(e),o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?n:0);if(s>t)break;var l=this.ranges[a+o];if(t<=s+l&&a==3*r)return!0;n+=this.ranges[a+i]-l}return!1},Ld.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),l=this.ranges[r+e],c=this.ranges[r+n];t(a,a+l,s,s+c),o+=c-l}},Ld.prototype.invert=function(){return new Ld(this.ranges,!this.inverted)},Ld.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},Ld.offset=function(t){return 0==t?Ld.empty:new Ld(t<0?[0,-t,0]:[0,0,t])},Ld.empty=new Ld([]);var Vd=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function qd(t){var e=Error.call(this,t);return e.__proto__=qd.prototype,e}Vd.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new Vd(this.maps,this.mirror,t,e)},Vd.prototype.copy=function(){return new Vd(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},Vd.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},Vd.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},Vd.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},Vd.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},Vd.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},Vd.prototype.invert=function(){var t=new Vd;return t.appendMappingInverted(this),t},Vd.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},Vd.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},Vd.prototype._map=function(t,e,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(t,e);if(null!=i.recover){var a=this.getMirror(o);if(null!=a&&a>o&&a<this.to){o=a,t=this.maps[a].recover(i.recover);continue}}i.deleted&&(r=!0),t=i.pos}return n?t:new Bd(t,r)},qd.prototype=Object.create(Error.prototype),qd.prototype.constructor=qd,qd.prototype.name="TransformError";var Hd=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Vd},Wd={before:{configurable:!0},docChanged:{configurable:!0}};function Ud(){throw new Error("Override me")}Wd.before.get=function(){return this.docs.length?this.docs[0]:this.doc},Hd.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new qd(e.failed);return this},Hd.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},Wd.docChanged.get=function(){return this.steps.length>0},Hd.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(Hd.prototype,Wd);var Jd=Object.create(null),Kd=function(){};Kd.prototype.apply=function(t){return Ud()},Kd.prototype.getMap=function(){return Ld.empty},Kd.prototype.invert=function(t){return Ud()},Kd.prototype.map=function(t){return Ud()},Kd.prototype.merge=function(t){return null},Kd.prototype.toJSON=function(){return Ud()},Kd.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Jd[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},Kd.jsonID=function(t,e){if(t in Jd)throw new RangeError("Duplicate use of step JSON ID "+t);return Jd[t]=e,e.prototype.jsonID=t,e};var Gd=function(t,e){this.doc=t,this.failed=e};Gd.ok=function(t){return new Gd(t,null)},Gd.fail=function(t){return new Gd(null,t)},Gd.fromReplace=function(t,e,n,r){try{return Gd.ok(t.replace(e,n,r))}catch(t){if(t instanceof E["ReplaceError"])return Gd.fail(t.message);throw t}};var Xd=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&Yd(t,this.from,this.to)?Gd.fail("Structure replace would overwrite content"):Gd.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new Ld([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?E["Slice"].empty:new E["Slice"](t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?E["Slice"].empty:new E["Slice"](this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,E["Slice"].fromJSON(t,n.slice),!!n.structure)},e}(Kd);Kd.jsonID("replace",Xd);var Zd=function(t){function e(e,n,r,o,i,a,s){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(Yd(t,this.from,this.gapFrom)||Yd(t,this.gapTo,this.to)))return Gd.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Gd.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?Gd.fromReplace(t,this.from,this.to,n):Gd.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new Ld([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,E["Slice"].fromJSON(t,n.slice),n.insert,!!n.structure)},e}(Kd);function Yd(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function Qd(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function tp(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var r=t.$from.node(n),o=t.$from.index(n),i=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(o,i,e))return n;if(0==n||r.type.spec.isolating||!Qd(r,o,i))break}}function ep(t,e,n,r){void 0===n&&(n=1);var o=t.resolve(e),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,l=n-2;s>i;s--,l--){var c=o.node(s),u=o.index(s);if(c.type.spec.isolating)return!1;var d=c.content.cutByIndex(u,c.childCount),p=r&&r[l]||c;if(p!=c&&(d=d.replaceChild(0,p.type.create(p.attrs))),!c.canReplace(u+1,c.childCount)||!p.type.validContent(d))return!1}var f=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(f,f,h?h.type:o.node(i+1).type)}function np(t,e){var n,r,o=t.resolve(e),i=o.index();return n=o.nodeBefore,r=o.nodeAfter,n&&r&&!n.isLeaf&&n.canAppend(r)&&o.parent.canReplace(i,i+1)}function rp(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(rp(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return E["Fragment"].fromArray(r)}Kd.jsonID("replaceAround",Zd),Hd.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),a=r.after(o+1),s=i,l=a,c=E["Fragment"].empty,u=0,d=o,p=!1;d>e;d--)p||n.index(d)>0?(p=!0,c=E["Fragment"].from(n.node(d).copy(c)),u++):s--;for(var f=E["Fragment"].empty,h=0,m=o,v=!1;m>e;m--)v||r.after(m+1)<r.end(m)?(v=!0,f=E["Fragment"].from(r.node(m).copy(f)),h++):l++;return this.step(new Zd(s,l,i,a,new E["Slice"](c.append(f),u,h),c.size-u,!0))},Hd.prototype.wrap=function(t,e){for(var n=E["Fragment"].empty,r=e.length-1;r>=0;r--)n=E["Fragment"].from(e[r].type.create(e[r].attrs,n));var o=t.start,i=t.end;return this.step(new Zd(o,i,o,i,new E["Slice"](n,0,0),e.length,!0))},Hd.prototype.setBlockType=function(t,e,n,r){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&function(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(i).map(e),n)){o.clearIncompatible(o.mapping.slice(i).map(e,1),n);var a=o.mapping.slice(i),s=a.map(e,1),l=a.map(e+t.nodeSize,1);return o.step(new Zd(s,l,s+1,l-1,new E["Slice"](E["Fragment"].from(n.create(r,null,t.marks)),0,0),1,!0)),!1}})),this},Hd.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Zd(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new E["Slice"](E["Fragment"].from(i),0,0),1,!0))},Hd.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),o=E["Fragment"].empty,i=E["Fragment"].empty,a=r.depth,s=r.depth-e,l=e-1;a>s;a--,l--){o=E["Fragment"].from(r.node(a).copy(o));var c=n&&n[l];i=E["Fragment"].from(c?c.type.create(c.attrs,i):r.node(a).copy(i))}return this.step(new Xd(t,t,new E["Slice"](o.append(i),e,e),!0))},Hd.prototype.join=function(t,e){void 0===e&&(e=1);var n=new Xd(t-e,t+e,E["Slice"].empty,!0);return this.step(n)};var op=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new E["Slice"](rp(n.content,(function(t,n){return n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),n.openStart,n.openEnd);return Gd.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new ip(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Kd);Kd.jsonID("addMark",op);var ip=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new E["Slice"](rp(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return Gd.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new op(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Kd);function ap(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}Kd.jsonID("removeMark",ip),Hd.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],a=null,s=null;return this.doc.nodesBetween(t,e,(function(r,l,c){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var d=Math.max(l,t),p=Math.min(l+r.nodeSize,e),f=n.addToSet(u),h=0;h<u.length;h++)u[h].isInSet(f)||(a&&a.to==d&&a.mark.eq(u[h])?a.to=p:o.push(a=new ip(d,p,u[h])));s&&s.to==d?s.to=p:i.push(s=new op(d,p,n))}}})),o.forEach((function(t){return r.step(t)})),i.forEach((function(t){return r.step(t)})),this},Hd.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,(function(r,a){if(r.isInline){i++;var s=null;if(n instanceof E["MarkType"]){var l=n.isInSet(r.marks);l&&(s=[l])}else n?n.isInSet(r.marks)&&(s=[n]):s=r.marks;if(s&&s.length)for(var c=Math.min(a+r.nodeSize,e),u=0;u<s.length;u++){for(var d=s[u],p=void 0,f=0;f<o.length;f++){var h=o[f];h.step==i-1&&d.eq(o[f].style)&&(p=h)}p?(p.to=c,p.step=i):o.push({style:d,from:Math.max(a,t),to:c,step:i})}}})),o.forEach((function(t){return r.step(new ip(t.from,t.to,t.style))})),this},Hd.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],i=t+1,a=0;a<r.childCount;a++){var s=r.child(a),l=i+s.nodeSize,c=n.matchType(s.type,s.attrs);if(c){n=c;for(var u=0;u<s.marks.length;u++)e.allowsMarkType(s.marks[u].type)||this.step(new ip(i,l,s.marks[u]))}else o.push(new Xd(i,l,E["Slice"].empty));i=l}if(!n.validEnd){var d=n.fillBefore(E["Fragment"].empty,!0);this.replace(i,i,new E["Slice"](d,0,0))}for(var p=o.length-1;p>=0;p--)this.step(o[p]);return this},Hd.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=E["Slice"].empty);var r=function(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=E["Slice"].empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);return ap(o,i,r)?new Xd(e,n,r):new sp(o,i,r).fit()}(this.doc,t,e,n);return r&&this.step(r),this},Hd.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new E["Slice"](E["Fragment"].from(n),0,0))},Hd.prototype.delete=function(t,e){return this.replace(t,e,E["Slice"].empty)},Hd.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var sp=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var r=0;r<=t.depth;r++){var o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}this.placed=E["Fragment"].empty;for(var i=t.depth;i>0;i--)this.placed=E["Fragment"].from(t.node(i).copy(this.placed))},lp={depth:{configurable:!0}};function cp(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(cp(t.firstChild.content,e-1,n)))}function up(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(up(t.lastChild.content,e-1,n)))}function dp(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function pp(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,pp(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(E["Fragment"].empty,!0)))),t.copy(r)}function fp(t,e,n,r,o){var i=t.node(e),a=o?t.indexAfter(e):t.index(e);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var s=r.fillBefore(i.content,!0,a);return s&&!function(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,i.content,a)?s:null}function hp(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(hp(i.content,e+1,n,r,i)))}if(e>r){var a=o.contentMatchAt(0),s=a.fillBefore(t).append(t);t=s.append(a.matchFragment(s).fillBefore(E["Fragment"].empty,!0))}return t}function mp(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;o==e.start(r)&&n.push(r)}return n}function vp(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function gp(t,e){for(;t;t="start"==e?t.firstChild:t.lastChild)if(t.isTextblock)return!0;return!1}function yp(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function bp(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function wp(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function xp(t,e){return e&&e(t.tr.setSelection(new a["AllSelection"](t.doc))),!0}function kp(t,e,n){var r,o,i=e.nodeBefore,s=e.nodeAfter;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(function(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(i,i+1)||!o.isTextblock&&!np(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0))}(t,e,n))return!0;if(e.parent.canReplace(e.index(),e.index()+1)&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(n){for(var l=e.pos+s.nodeSize,c=E["Fragment"].empty,u=r.length-1;u>=0;u--)c=E["Fragment"].from(r[u].create(null,c));c=E["Fragment"].from(i.copy(c));var d=t.tr.step(new Zd(e.pos-1,l,e.pos,l,new E["Slice"](c,1,0),r.length,!0)),p=l+2*r.length;np(d.doc,p)&&d.join(p),n(d.scrollIntoView())}return!0}var f=a["Selection"].findFrom(e,1),h=f&&f.$from.blockRange(f.$to),m=h&&tp(h);return null!=m&&m>=e.depth&&(n&&n(t.tr.lift(h,m).scrollIntoView()),!0)}function Sp(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,r){for(var o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}lp.depth.get=function(){return this.frontier.length-1},sp.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;for(var i=this.placed,a=r.depth,s=o.depth;a&&s&&1==i.childCount;)i=i.firstChild.content,a--,s--;var l=new E["Slice"](i,a,s);return e>-1?new Zd(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Xd(r.pos,o.pos,l):void 0},sp.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var n=void 0,r=(e?(n=dp(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var i=this.frontier[o],a=i.type,s=i.match,l=void 0,c=void 0;if(1==t&&(r?s.matchType(r.type)||(c=s.fillBefore(E["Fragment"].from(r),!1)):a.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:o,parent:n,inject:c};if(2==t&&r&&(l=s.findWrapping(r.type)))return{sliceDepth:e,frontierDepth:o,parent:n,wrap:l};if(n&&s.matchType(n.type))break}},sp.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=dp(e,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new E["Slice"](e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)},sp.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=dp(e,n);if(o.childCount<=1&&n>0){var i=e.size-n<=n+o.size;this.unplaced=new E["Slice"](cp(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new E["Slice"](cp(e,n,1),n,r)},sp.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,r=t.parent,o=t.inject,i=t.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var a=0;a<i.length;a++)this.openFrontierNode(i[a]);var s=this.unplaced,l=r?r.content:s.content,c=s.openStart-e,u=0,d=[],p=this.frontier[n],f=p.match,h=p.type;if(o){for(var m=0;m<o.childCount;m++)d.push(o.child(m));f=f.matchFragment(o)}for(var v=l.size+e-(s.content.size-s.openEnd);u<l.childCount;){var g=l.child(u),y=f.matchType(g.type);if(!y)break;(++u>1||0==c||g.content.size)&&(f=y,d.push(pp(g.mark(h.allowedMarks(g.marks)),1==u?c:0,u==l.childCount?v:-1)))}var b=u==l.childCount;b||(v=-1),b&&v<0&&r&&r.type==this.frontier[this.depth].type?this.closeFrontierNode():this.frontier[n].match=f;for(var w=0,x=l;w<v;w++){var k=x.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),x=k.content}this.unplaced=b?0==e?E["Slice"].empty:new E["Slice"](cp(s.content,e-1,1),e-1,v<0?s.openEnd:e-1):new E["Slice"](cp(s.content,e,u),s.openStart,s.openEnd),this.placed=up(this.placed,n,E["Fragment"].from(d))},sp.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!fp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},sp.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,o=n.type,i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),a=fp(t,e,o,r,i);if(a){for(var s=e-1;s>=0;s--){var l=this.frontier[s],c=l.match,u=fp(t,s,l.type,c,!0);if(!u||u.childCount)continue t}return{depth:e,fit:a,move:i?t.doc.resolve(t.after(e+1)):t}}}},sp.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=up(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,o)}return t},sp.prototype.openFrontierNode=function(t,e,n){var r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=up(this.placed,this.depth,E["Fragment"].from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},sp.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(E["Fragment"].empty,!0);t.childCount&&(this.placed=up(this.placed,this.frontier.length,t))},Object.defineProperties(sp.prototype,lp),Hd.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(ap(r,o,n))return this.step(new Xd(t,e,n));var i=mp(r,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var a=-(r.depth+1);i.unshift(a);for(var s=r.depth,l=r.pos-1;s>0;s--,l--){var c=r.node(s).type.spec;if(c.defining||c.isolating)break;i.indexOf(s)>-1?a=s:r.before(s)==l&&i.splice(1,0,-s)}for(var u=i.indexOf(a),d=[],p=n.openStart,f=n.content,h=0;;h++){var m=f.firstChild;if(d.push(m),h==n.openStart)break;f=m.content}p>0&&d[p-1].type.spec.defining&&r.node(u).type!=d[p-1].type?p-=1:p>=2&&d[p-1].isTextblock&&d[p-2].type.spec.defining&&r.node(u).type!=d[p-2].type&&(p-=2);for(var v=n.openStart;v>=0;v--){var g=(v+p+1)%(n.openStart+1),y=d[g];if(y)for(var b=0;b<i.length;b++){var w=i[(b+u)%i.length],x=!0;w<0&&(x=!1,w=-w);var k=r.node(w-1),S=r.index(w-1);if(k.canReplaceWith(S,S,y.type,y.marks))return this.replace(r.before(w),x?o.after(w):e,new E["Slice"](hp(n.content,0,n.openStart,g),g,n.openEnd))}}for(var _=this.steps.length,C=i.length-1;C>=0&&(this.replace(t,e,n),!(this.steps.length>_));C--){var O=i[C];C<0||(t=r.before(O),e=o.after(O))}return this},Hd.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=function(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}}(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new E["Slice"](E["Fragment"].from(n),0,0))},Hd.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=mp(n,r),i=0;i<o.length;i++){var a=o[i],s=i==o.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(t-n.start(l)==n.depth-l&&e>n.end(l)&&r.end(l)-e!=r.depth-l)return this.delete(n.before(l),e);return this.delete(t,e)};var _p=Sp(vp,(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;var o=yp(r);if(!o){var i=r.blockRange(),s=i&&tp(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}var l=o.nodeBefore;if(!l.type.spec.isolating&&kp(t,o,e))return!0;if(0==r.parent.content.size&&(gp(l,"end")||a["NodeSelection"].isSelectable(l))){if(e){var c=t.tr.deleteRange(r.before(),r.after());c.setSelection(gp(l,"end")?a["Selection"].findFrom(c.doc.resolve(c.mapping.map(o.pos,-1)),-1):a["NodeSelection"].create(c.doc,o.pos-l.nodeSize)),e(c.scrollIntoView())}return!0}return!(!l.isAtom||o.depth!=r.depth-1)&&(e&&e(t.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0)}),(function(t,e,n){var r=t.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;i=yp(o)}var s=i&&i.nodeBefore;return!(!s||!a["NodeSelection"].isSelectable(s))&&(e&&e(t.tr.setSelection(a["NodeSelection"].create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)})),Cp=Sp(vp,(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var o=bp(r);if(!o)return!1;var i=o.nodeAfter;if(kp(t,o,e))return!0;if(0==r.parent.content.size&&(gp(i,"start")||a["NodeSelection"].isSelectable(i))){if(e){var s=t.tr.deleteRange(r.before(),r.after());s.setSelection(gp(i,"start")?a["Selection"].findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):a["NodeSelection"].create(s.doc,s.mapping.map(o.pos))),e(s.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}),(function(t,e,n){var r=t.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;i=bp(o)}var s=i&&i.nodeAfter;return!(!s||!a["NodeSelection"].isSelectable(s))&&(e&&e(t.tr.setSelection(a["NodeSelection"].create(t.doc,i.pos)).scrollIntoView()),!0)})),Op={Enter:Sp((function(t,e){var n=t.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}),(function(t,e){var n=t.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=wp(r.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,l=t.tr.insert(s,i.createAndFill());l.setSelection(a["TextSelection"].create(l.doc,s+1)),e(l.scrollIntoView())}return!0}),(function(t,e){var n=t.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(ep(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&tp(o);return null!=i&&(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)}),(function(t,e){var n=t.selection,r=n.$from,o=n.$to;if(t.selection instanceof a["NodeSelection"]&&t.selection.node.isBlock)return!(!r.parentOffset||!ep(t.doc,r.pos))&&(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){var i=o.parentOffset==o.parent.content.size,s=t.tr;t.selection instanceof a["TextSelection"]&&s.deleteSelection();var l=0==r.depth?null:wp(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=i&&l?[{type:l}]:null,u=ep(s.doc,s.mapping.map(r.pos),1,c);c||u||!ep(s.doc,s.mapping.map(r.pos),1,l&&[{type:l}])||(c=[{type:l}],u=!0),u&&(s.split(s.mapping.map(r.pos),1,c),i||r.parentOffset||r.parent.type==l||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),E["Fragment"].from(l.create(),r.parent))||s.setNodeMarkup(s.mapping.map(r.before()),l)),e(s.scrollIntoView())}return!0})),"Mod-Enter":function(t,e){var n=t.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),l=wp(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,l))return!1;if(e){var c=r.after(),u=t.tr.replaceWith(c,c,l.createAndFill());u.setSelection(a["Selection"].near(u.doc.resolve(c),1)),e(u.scrollIntoView())}return!0},Backspace:_p,"Mod-Backspace":_p,Delete:Cp,"Mod-Delete":Cp,"Mod-a":xp},Mp={"Ctrl-h":Op.Backspace,"Alt-Backspace":Op["Mod-Backspace"],"Ctrl-d":Op.Delete,"Ctrl-Alt-Backspace":Op["Mod-Delete"],"Alt-Delete":Op["Mod-Delete"],"Alt-d":Op["Mod-Delete"]};for(var Ep in Op)Mp[Ep]=Op[Ep];"undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&os.platform();var Tp=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"removeImage",value:function(){var t=this.view;vp(t.state,t.dispatch)}}]),n}();jr([to({type:Object,required:!0})],Tp.prototype,"view",void 0),jr([Zr()],Tp.prototype,"et",void 0);const Ap=_a({render:function(){var t=this.$createElement;return(this._self._c||t)("command-button",{attrs:{command:this.removeImage,"enable-tooltip":this.et.tooltip,tooltip:this.et.t("editor.extensions.Image.buttons.remove_image.tooltip"),icon:"regular/trash-alt"}})},staticRenderFns:[]},void 0,Tp=jr([Xr({components:{CommandButton:Ua}})],Tp),void 0,!1,void 0,!1,void 0,void 0,void 0);var Np=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return n}();jr([to({type:E["Node"],required:!0})],Np.prototype,"node",void 0),jr([to({type:Object,required:!0})],Np.prototype,"view",void 0),jr([to({type:Function,required:!0})],Np.prototype,"updateAttrs",void 0);const Rp=_a({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"image-bubble-menu"},[e("image-display-command-button",{attrs:{node:this.node,"update-attrs":this.updateAttrs}}),this._v(" "),e("edit-image-command-button",{attrs:{node:this.node,"update-attrs":this.updateAttrs}}),this._v(" "),e("remove-image-command-button",{attrs:{view:this.view}})],1)},staticRenderFns:[]},void 0,Np=jr([Xr({components:{ImageDisplayCommandButton:Rd,EditImageCommandButton:Pd,RemoveImageCommandButton:Ap}})],Np),void 0,!1,void 0,!1,void 0,void 0,void 0);var Ip,jp=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).maxSize={width:1e5,height:1e5},t.originalSize={width:0,height:0},t.resizeOb=new Ed((function(){t.getMaxSize()})),t.resizeDirections=["tl","tr","bl","br"],t.resizing=!1,t.resizerState={x:0,y:0,w:0,h:0,dir:""},t}return Dn(n,[{key:"created",value:function(){return zr(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ad(this.src);case 2:(e=t.sent).complete||(e.width=20,e.height=20),this.originalSize={width:e.width,height:e.height};case 5:case"end":return t.stop()}}),t,this)})))}},{key:"mounted",value:function(){this.resizeOb.observe(this.view.dom)}},{key:"beforeDestroy",value:function(){this.resizeOb.disconnect()}},{key:"selectImage",value:function(){var t=this.view.state,e=t.tr,n=a["NodeSelection"].create(t.doc,this.getPos());e=e.setSelection(n),this.view.dispatch(e)}},{key:"getMaxSize",value:function(){var t=getComputedStyle(this.view.dom).width;this.maxSize.width=parseInt(t,10)}},{key:"onMouseDown",value:function(t,e){t.preventDefault(),t.stopPropagation(),this.resizerState.x=t.clientX,this.resizerState.y=t.clientY;var n=this.originalSize.width,r=n/this.originalSize.height,o=this.node.attrs,i=o.width,a=o.height,s=this.maxSize.width;i&&!a?(i=i>s?s:i,a=Math.round(i/r)):a&&!i?i=(i=Math.round(a*r))>s?s:i:i||a?i=i>s?s:i:(i=n>s?s:n,a=Math.round(i/r)),this.resizerState.w=i,this.resizerState.h=a,this.resizerState.dir=e,this.resizing=!0,this.onEvents()}},{key:"onMouseMove",value:function(t){if(t.preventDefault(),t.stopPropagation(),this.resizing){var e=this.resizerState,n=e.x,r=e.y,o=e.w,i=e.h,a=e.dir,s=(t.clientX-n)*(/l/.test(a)?-1:1),l=(t.clientY-r)*(/t/.test(a)?-1:1);this.updateAttrs({width:va(o+s,20,this.maxSize.width),height:Math.max(i+l,20)})}}},{key:"onMouseUp",value:function(t){t.preventDefault(),t.stopPropagation(),this.resizing&&(this.resizing=!1,this.resizerState={x:0,y:0,w:0,h:0,dir:""},this.offEvents(),this.selectImage())}},{key:"onEvents",value:function(){document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("mouseup",this.onMouseUp,!0)}},{key:"offEvents",value:function(){document.removeEventListener("mousemove",this.onMouseMove,!0),document.removeEventListener("mouseup",this.onMouseUp,!0)}},{key:"src",get:function(){return this.node.attrs.src}},{key:"width",get:function(){return this.node.attrs.width}},{key:"height",get:function(){return this.node.attrs.height}},{key:"display",get:function(){return this.node.attrs.display}},{key:"imageViewClass",get:function(){return["image-view","image-view--".concat(this.display)]}}]),n}();jr([to({type:E["Node"],required:!0})],jp.prototype,"node",void 0),jr([to({type:Object,required:!0})],jp.prototype,"view",void 0),jr([to({type:Function,required:!0})],jp.prototype,"getPos",void 0),jr([to({type:Function,required:!0})],jp.prototype,"updateAttrs",void 0),jr([to({type:Boolean,required:!0})],jp.prototype,"selected",void 0);const zp=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:t.imageViewClass},[n("div",{staticClass:"image-view__body",class:{"image-view__body--focused":t.selected,"image-view__body--resizing":t.resizing}},[n("img",{staticClass:"image-view__body__image",attrs:{src:t.src,title:t.node.attrs.title,alt:t.node.attrs.alt,width:t.width,height:t.height},on:{click:t.selectImage}}),t._v(" "),t.view.editable?n("div",{directives:[{name:"show",rawName:"v-show",value:t.selected||t.resizing,expression:"selected || resizing"}],staticClass:"image-resizer"},t._l(t.resizeDirections,(function(e){return n("span",{key:e,staticClass:"image-resizer__handler",class:"image-resizer__handler--"+e,on:{mousedown:function(n){return t.onMouseDown(n,e)}}})})),0):t._e(),t._v(" "),n("el-popover",{attrs:{value:t.selected,"visible-arrow":!1,placement:"top",trigger:"manual","popper-class":"el-tiptap-image-popper"}},[n("image-bubble-menu",{attrs:{node:t.node,view:t.view,"update-attrs":t.updateAttrs}}),t._v(" "),n("div",{staticClass:"image-view__body__placeholder",attrs:{slot:"reference"},slot:"reference"})],1)],1)])},staticRenderFns:[]},void 0,jp=jr([Xr({components:(Ip={},Mr(Ip,S.a.name,S.a),Mr(Ip,"ImageBubbleMenu",Rp),Ip)})],jp),void 0,!1,void 0,!1,void 0,void 0,void 0);function Pp(t){var e=t.style,n=e.cssFloat,r=e.display,o=t.style,i=o.width,a=o.height,s=t.getAttribute("data-display")||t.getAttribute("display");return s=s?/(inline|block|left|right)/.test(s)?s:"inline":"left"!==n||r?"right"!==n||r?n||"block"!==r?"inline":"block":"right":"left",i=i||t.getAttribute("width")||null,a=a||t.getAttribute("height")||null,{src:t.getAttribute("src")||"",title:t.getAttribute("title")||"",alt:t.getAttribute("alt")||"",width:null==i?null:parseInt(i,10),height:null==a?null:parseInt(a,10),display:s}}function Dp(t){var e=t.attrs,n=e.src,r=e.alt,o=e.title,i=e.width,a=e.height,s=e.display,l={src:n,alt:r,title:o,width:i,height:a};return l["data-display"]=s,["img",l]}var $p=function(t){Tr(n,i["i"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){return{component:qu,componentProps:{editorContext:t}}}},{key:"defaultOptions",get:function(){return{defaultWidth:200,defaultDisplay:"inline",urlPattern:sr,uploadRequest:null}}},{key:"schema",get:function(){return{inline:!0,attrs:{src:{default:""},alt:{default:""},title:{default:""},width:{default:this.imageDefaultWidth>0?this.imageDefaultWidth:200},height:{default:null},display:{default:/(inline|block|left|right)/.test(this.defaultDisplay)?this.defaultDisplay:"inline"}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:Pp}],toDOM:Dp}}},{key:"view",get:function(){return zp}}]),n}(),Fp=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"done",get:function(){return this.node.attrs.done},set:function(t){this.updateAttrs({done:t})}},{key:"todoItemStyle",get:function(){return{lineHeight:uu(this.node.attrs.lineHeight)}}}]),n}();jr([to({type:E["Node"],required:!0})],Fp.prototype,"node",void 0),jr([to({type:Object,required:!0})],Fp.prototype,"view",void 0),jr([to({type:Function,required:!0})],Fp.prototype,"updateAttrs",void 0);const Bp=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"todo-item",class:{"todo-item--done":t.done},style:t.todoItemStyle,attrs:{"data-type":t.node.type.name,"data-done":t.done.toString(),"data-text-align":t.node.attrs.textAlign,"data-drag-handle":""}},[n("span",{attrs:{contenteditable:"false"}},[n("el-checkbox",{model:{value:t.done,callback:function(e){t.done=e},expression:"done"}})],1),t._v(" "),n("div",{ref:"content",staticClass:"todo-content",attrs:{contenteditable:t.view.editable.toString()}})])},staticRenderFns:[]},void 0,Fp=jr([Xr({components:Mr({},f.a.name,f.a)})],Fp),void 0,!1,void 0,!1,void 0,void 0,void 0);function Lp(t){var e=t.style,n=e.textAlign,r=e.lineHeight,o=t.getAttribute("data-text-align")||n||"";return{textAlign:(o=ar.test(o)?o:"")||null,lineHeight:(r=r&&r!==uu(1.7)?r:"")||null,done:"true"===t.getAttribute("data-done")}}function Vp(t){var e=t.attrs,n=e.done,r=e.textAlign,o=e.lineHeight,i="",a={"data-type":"todo_item"};if(a["data-done"]=n.toString(),r&&"left"!==r&&(i+="text-align: ".concat(r)),o){var s=uu(o);i+="line-height: ".concat(s,";")}return i&&(a.style=i),["li",Object.assign(Object.assign({},a),{class:"todo-item ".concat(n?"todo-item--done":"")}),["span",{contenteditable:"false"},["span",{class:"el-checkbox ".concat(n?"is-checked":""),style:"pointer-events: none;"},["span",{class:"el-checkbox__input ".concat(n?"is-checked":"")},["span",{class:"el-checkbox__inner"}]]]],["div",{class:"todo-content"},0]]}var qp=function(t){Tr(n,i["t"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"schema",get:function(){return{attrs:{done:{default:!1},textAlign:{default:null},lineHeight:{default:null}},draggable:!0,content:this.options.nested?"(paragraph|todo_list)+":"paragraph+",parseDOM:[{priority:51,tag:'[data-type="'.concat(this.name,'"]'),getAttrs:Lp}],toDOM:Vp}}},{key:"view",get:function(){return Bp}}]),n}(),Hp=function(t){Tr(n,i["u"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){var e=t.isActive,n=t.commands,r=t.t;return{component:Ua,componentProps:{isActive:e.todo_list(),command:n.todo_list,icon:"tasks",tooltip:r("editor.extensions.TodoList.tooltip")}}}},{key:"schema",get:function(){var t=this;return{group:"block",content:"todo_item+",parseDOM:[{priority:51,tag:'[data-type="'.concat(this.name,'"]'),getAttrs:function(){return{"data-type":t.name}}}],toDOM:function(){var e={};return e["data-type"]=t.name,["ul",e,0]}}}}]),n}();function Wp(t){var e=t.selection,n=t.doc,r=e.from,o=e.to,i=!0,a=!1;return n.nodesBetween(r,o,(function(t){var e=t.type.name;return!i||"table"!==e&&"table_row"!==e&&"table_column"!==e&&"table_cell"!==e||(i=!1,a=!0),i})),a}var Up=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).popoverVisible=!1,t.tableGridSize={row:5,col:5},t.selectedTableGridSize={row:2,col:2},t}return Dn(n,[{key:"selectTableGridSize",value:function(t,e){t===this.tableGridSize.row&&(this.tableGridSize.row=Math.min(t+1,10)),e===this.tableGridSize.col&&(this.tableGridSize.col=Math.min(e+1,10)),this.selectedTableGridSize.row=t,this.selectedTableGridSize.col=e}},{key:"onMouseDown",value:function(t,e){return this.popoverVisible=!1,{row:t,col:e}}},{key:"resetTableGridSize",value:function(){this.tableGridSize={row:5,col:5},this.selectedTableGridSize={row:2,col:2}}}]),n}();jr([Zr()],Up.prototype,"et",void 0),jr([ro("createTable")],Up.prototype,"onMouseDown",null);const Jp=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-popover",{attrs:{placement:"right",trigger:"hover","popper-class":"el-tiptap-popper"},on:{"after-leave":t.resetTableGridSize},model:{value:t.popoverVisible,callback:function(e){t.popoverVisible=e},expression:"popoverVisible"}},[n("div",{staticClass:"table-grid-size-editor"},[n("div",{staticClass:"table-grid-size-editor__body"},t._l(t.tableGridSize.row,(function(e){return n("div",{key:"r"+e,staticClass:"table-grid-size-editor__row"},t._l(t.tableGridSize.col,(function(r){return n("div",{key:"c"+r,staticClass:"table-grid-size-editor__cell",class:{"table-grid-size-editor__cell--selected":r<=t.selectedTableGridSize.col&&e<=t.selectedTableGridSize.row},on:{mouseover:function(n){return t.selectTableGridSize(e,r)},mousedown:function(n){return t.onMouseDown(e,r)}}},[n("div",{staticClass:"table-grid-size-editor__cell__inner"})])})),0)})),0),t._v(" "),n("div",{staticClass:"table-grid-size-editor__footer"},[t._v("\n      "+t._s(t.selectedTableGridSize.row)+" X "+t._s(t.selectedTableGridSize.col)+"\n    ")])]),t._v(" "),n("div",{attrs:{slot:"reference"},on:{mouseover:function(e){t.popoverVisible=!0}},slot:"reference"},[n("span",[t._v(t._s(t.et.t("editor.extensions.Table.buttons.insert_table")))])])])},staticRenderFns:[]},void 0,Up=jr([Xr({components:Mr({},S.a.name,S.a)})],Up),void 0,!1,void 0,!1,void 0,void 0,void 0);var Kp,Gp=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).popoverVisible=!1,t}return Dn(n,[{key:"hidePopover",value:function(){this.popoverVisible=!1}},{key:"createTable",value:function(t){var e=t.row,n=t.col;this.editorContext.commands.createTable({rowsCount:e,colsCount:n,withHeaderRow:!0}),this.hidePopover()}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"isTableActive",get:function(){return Wp(this.editor.state)}},{key:"enableMergeCells",get:function(){return Wp(t=this.editor.state)&&Object(T["mergeCells"])(t);var t}},{key:"enableSplitCell",get:function(){return Wp(t=this.editor.state)&&Object(T["splitCell"])(t);var t}}]),n}();jr([to({type:Object,required:!0})],Gp.prototype,"editorContext",void 0),jr([Zr()],Gp.prototype,"et",void 0);const Xp=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-popover",{attrs:{disabled:t.et.isCodeViewMode,placement:"bottom",trigger:"click","popper-class":"el-tiptap-popper"},model:{value:t.popoverVisible,callback:function(e){t.popoverVisible=e},expression:"popoverVisible"}},[n("div",{staticClass:"el-tiptap-popper__menu"},[n("div",{staticClass:"el-tiptap-popper__menu__item"},[n("create-table-popover",{on:{createTable:t.createTable}})],1),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.addColumnBefore}},[n("span",[t._v(t._s(t.et.t("editor.extensions.Table.buttons.add_column_before")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.addColumnAfter}},[n("span",[t._v(t._s(t.et.t("editor.extensions.Table.buttons.add_column_after")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.deleteColumn}},[n("span",[t._v(t._s(t.et.t("editor.extensions.Table.buttons.delete_column")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.addRowBefore}},[n("span",[t._v(t._s(t.et.t("editor.extensions.Table.buttons.add_row_before")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.addRowAfter}},[n("span",[t._v(t._s(t.et.t("editor.extensions.Table.buttons.add_row_after")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.deleteRow}},[n("span",[t._v(t._s(t.et.t("editor.extensions.Table.buttons.delete_row")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.enableMergeCells},on:{mousedown:t.hidePopover,click:t.editorContext.commands.mergeCells}},[n("span",[t._v(t._s(t.et.t("editor.extensions.Table.buttons.merge_cells")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.enableSplitCell},on:{mousedown:t.hidePopover,click:t.editorContext.commands.splitCell}},[n("span",[t._v(t._s(t.et.t("editor.extensions.Table.buttons.split_cell")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.deleteTable}},[n("span",[t._v(t._s(t.et.t("editor.extensions.Table.buttons.delete_table")))])])]),t._v(" "),n("command-button",{attrs:{slot:"reference","is-active":t.isTableActive,"enable-tooltip":t.et.tooltip,tooltip:t.et.t("editor.extensions.Table.tooltip"),readonly:t.et.isCodeViewMode,icon:"table"},slot:"reference"})],1)},staticRenderFns:[]},void 0,Gp=jr([Xr({components:(Kp={},Mr(Kp,S.a.name,S.a),Mr(Kp,"CommandButton",Ua),Mr(Kp,"CreateTablePopover",Jp),Kp)})],Gp),void 0,!1,void 0,!1,void 0,void 0,void 0);var Zp=function(t){Tr(n,i["p"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){return{component:Xp,componentProps:{editorContext:t}}}}]),n}(),Yp=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"openInsertVideoControl",value:function(){var t=this;M.a.prompt("",this.et.t("editor.extensions.Iframe.control.title"),{confirmButtonText:this.et.t("editor.extensions.Iframe.control.confirm"),cancelButtonText:this.et.t("editor.extensions.Iframe.control.cancel"),inputPlaceholder:this.et.t("editor.extensions.Iframe.control.placeholder"),roundButton:!0}).then((function(e){var n=e.value;t.editorContext.commands.iframe({src:n})})).catch((function(){}))}}]),n}();jr([to({type:Object,required:!0})],Yp.prototype,"editorContext",void 0),jr([Zr()],Yp.prototype,"et",void 0);const Qp=_a({render:function(){var t=this.$createElement;return(this._self._c||t)("command-button",{attrs:{command:this.openInsertVideoControl,"enable-tooltip":this.et.tooltip,tooltip:this.et.t("editor.extensions.Iframe.tooltip"),readonly:this.et.isCodeViewMode,icon:"video"}})},staticRenderFns:[]},void 0,Yp=jr([Xr({components:{CommandButton:Ua}})],Yp),void 0,!1,void 0,!1,void 0,void 0,void 0);var tf=function(t){Tr(n,o["h"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r){var o=n.selection,i=o.$cursor?o.$cursor.pos:o.$to.pos,a=e.create(t);r(n.tr.insert(i,a))}}}},{key:"menuBtnView",value:function(t){return{component:Qp,componentProps:{editorContext:t}}}},{key:"name",get:function(){return"iframe"}},{key:"schema",get:function(){return{attrs:{src:{default:null}},group:"block",selectable:!1,parseDOM:[{tag:"iframe",getAttrs:function(t){return{src:t.getAttribute("src")}}}],toDOM:function(t){return["iframe",{src:t.attrs.src,frameborder:0,allowfullscreen:"true"}]}}}},{key:"view",get:function(){return{props:["node","updateAttrs","view"],computed:{src:{get:function(){return this.node.attrs.src},set:function(t){this.updateAttrs({src:t})}}},template:'\n        <div class="iframe">\n          <iframe class="iframe__embed" :src="src"></iframe>\n        </div>\n      '}}}]),n}();ce({target:"String",proto:!0,forced:Na("bold")},{bold:function(){return Aa(this,"b","","")}});var ef=function(t){Tr(n,i["b"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){var e=t.isActive,n=t.commands,r=t.t;return{component:Ua,componentProps:{command:n.bold,isActive:e.bold(),icon:"bold",tooltip:r("editor.extensions.Bold.tooltip")}}}}]),n}(),nf=function(t){Tr(n,i["w"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){var e=t.isActive,n=t.commands,r=t.t;return{component:Ua,componentProps:{command:n.underline,isActive:e.underline(),icon:"underline",tooltip:r("editor.extensions.Underline.tooltip")}}}}]),n}(),rf=function(t){Tr(n,i["j"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){var e=t.isActive,n=t.commands,r=t.t;return{component:Ua,componentProps:{command:n.italic,isActive:e.italic(),icon:"italic",tooltip:r("editor.extensions.Italic.tooltip")}}}}]),n}();ce({target:"String",proto:!0,forced:Na("strike")},{strike:function(){return Aa(this,"strike","","")}});var of,af=function(t){Tr(n,i["o"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){var e=t.isActive,n=t.commands,r=t.t;return{component:Ua,componentProps:{command:n.strike,isActive:e.strike(),icon:"strikethrough",tooltip:r("editor.extensions.Strike.tooltip")}}}}]),n}(),sf=go.trim;ce({target:"String",proto:!0,forced:function(t){return P((function(){return!!po[t]()||""!=""[t]()||po[t].name!==t}))}("trim")},{trim:function(){return sf(this)}});var lf=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).linkAttrs={},t.addLinkDialogVisible=!1,t}return Dn(n,[{key:"onDialogVisibleChange",value:function(){this.linkAttrs={href:"",openInNewTab:!0}}},{key:"addLink",value:function(){this.editorContext.commands.link(this.linkAttrs),this.closeAddLinkDialog()}},{key:"openAddLinkDialog",value:function(){this.addLinkDialogVisible=!0}},{key:"closeAddLinkDialog",value:function(){this.addLinkDialogVisible=!1}}]),n}();jr([to({type:Object,required:!0})],lf.prototype,"editorContext",void 0),jr([Zr()],lf.prototype,"et",void 0),jr([eo("addLinkDialogVisible",{immediate:!0})],lf.prototype,"onDialogVisibleChange",null);const cf=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("command-button",{attrs:{"is-active":t.editorContext.isActive.link(),readonly:t.et.isCodeViewMode,command:t.openAddLinkDialog,"enable-tooltip":t.et.tooltip,tooltip:t.et.t("editor.extensions.Link.add.tooltip"),icon:"link"}}),t._v(" "),n("el-dialog",{attrs:{title:t.et.t("editor.extensions.Link.add.control.title"),visible:t.addLinkDialogVisible,"append-to-body":!0,width:"400px","custom-class":"el-tiptap-edit-link-dialog"},on:{"update:visible":function(e){t.addLinkDialogVisible=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[n("el-button",{attrs:{size:"small",round:""},on:{click:t.closeAddLinkDialog}},[t._v("\n        "+t._s(t.et.t("editor.extensions.Link.add.control.cancel"))+"\n      ")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"small",round:""},on:{mousedown:function(t){t.preventDefault()},click:t.addLink}},[t._v("\n        "+t._s(t.et.t("editor.extensions.Link.add.control.confirm"))+"\n      ")])]},proxy:!0}])},[n("el-form",{attrs:{model:t.linkAttrs,"label-position":"right",size:"small"}},[n("el-form-item",{attrs:{label:t.et.t("editor.extensions.Link.add.control.href"),prop:"href"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.linkAttrs.href,callback:function(e){t.$set(t.linkAttrs,"href",e)},expression:"linkAttrs.href"}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"openInNewTab"}},[n("el-checkbox",{model:{value:t.linkAttrs.openInNewTab,callback:function(e){t.$set(t.linkAttrs,"openInNewTab",e)},expression:"linkAttrs.openInNewTab"}},[t._v("\n          "+t._s(t.et.t("editor.extensions.Link.add.control.open_in_new_tab"))+"\n        ")])],1)],1)],1)],1)},staticRenderFns:[]},void 0,lf=jr([Xr({components:(of={},Mr(of,m.a.name,m.a),Mr(of,qc.name,qc),Mr(of,Vc.name,Vc),Mr(of,es.name,es),Mr(of,f.a.name,f.a),Mr(of,d.a.name,d.a),Mr(of,"CommandButton",Ua),of)})],lf),void 0,!1,void 0,!1,void 0,void 0,void 0);function uf(t){return{href:t.getAttribute("href"),openInNewTab:"_blank"===t.getAttribute("target")}}function df(t){var e=t.attrs,n=e.href,r=e.openInNewTab,o={};o.href=n;var i="nofollow";return r&&(o.target="_blank",i+=" noopener noreferrer"),o.ref=i.trim(),["a",o,0]}var pf=function(t){Tr(n,i["k"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){return{component:cf,componentProps:{editorContext:t}}}},{key:"schema",get:function(){return{attrs:{href:{default:null},openInNewTab:{default:!0}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:uf}],toDOM:df}}},{key:"plugins",get:function(){return[new a["Plugin"]({props:{handleClick:function(t,e){var n=t.state,r=n.schema,o=n.doc,i=n.tr,s=Ha(o.resolve(e),r.marks.link);if(!s)return!1;var l=o.resolve(s.from),c=o.resolve(s.to),u=i.setSelection(new a["TextSelection"](l,c));return t.dispatch(u),!0}}})]}}]),n}();function ff(t,e,n){if(!t.selection||!t.doc||!e)return t;var r=t.selection,o=r.empty,i=r.$cursor,a=r.ranges;if(o&&!i||!function(t,e,n){for(var r=function(r){var o=e[r],i=o.$from,a=o.$to,s=0===i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,a.pos,(function(t){return!s&&(s=t.inlineContent&&t.type.allowsMarkType(n),!0)})),s)return{v:!0}},o=0;o<e.length;o++){var i=r(o);if("object"===Nr(i))return i.v}return!1}(t.doc,a,e))return t;if(i)return t=t.removeStoredMark(e),n?t.addStoredMark(e.create(n)):t;for(var s=!1,l=0;!s&&l<a.length;l++){var c=a[l],u=c.$from,d=c.$to;s=t.doc.rangeHasMark(u.pos,d.pos,e)}for(var p=0;p<a.length;p++){var f=a[p],h=f.$from,m=f.$to;s&&(t=t.removeMark(h.pos,m.pos,e)),n&&(t=t.addMark(h.pos,m.pos,e.create(n)))}return t}var hf,mf=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#000000"];function vf(t){return/#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})\b/gi.test(t)}var gf=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).color="",t.popoverVisible=!1,t}return Dn(n,[{key:"onSelectedColorChange",value:function(t){this.color=t}},{key:"confirmColor",value:function(t){return this.popoverVisible=!1,t}}]),n}();jr([to({type:Array,default:function(){return[]}})],gf.prototype,"colorSet",void 0),jr([to({type:String,default:""})],gf.prototype,"selectedColor",void 0),jr([to({type:String,required:!0})],gf.prototype,"tooltip",void 0),jr([to({type:String,required:!0})],gf.prototype,"icon",void 0),jr([to({type:String,default:"OK"})],gf.prototype,"confirmText",void 0),jr([Zr()],gf.prototype,"et",void 0),jr([eo("selectedColor",{immediate:!0})],gf.prototype,"onSelectedColorChange",null),jr([ro("confirm")],gf.prototype,"confirmColor",null);const yf=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-popover",{attrs:{disabled:t.et.isCodeViewMode,placement:"bottom",trigger:"click","popper-class":"el-tiptap-popper"},model:{value:t.popoverVisible,callback:function(e){t.popoverVisible=e},expression:"popoverVisible"}},[n("div",{staticClass:"color-set"},[t._l(t.colorSet,(function(e){return n("div",{key:e,staticClass:"color__wrapper"},[n("div",{staticClass:"color",class:{"color--selected":t.selectedColor===e},style:{"background-color":e},on:{mousedown:function(t){t.preventDefault()},click:function(n){return n.stopPropagation(),t.confirmColor(e)}}})])})),t._v(" "),n("div",{staticClass:"color__wrapper"},[n("div",{staticClass:"color color--remove",on:{mousedown:function(t){t.preventDefault()},click:function(e){return e.stopPropagation(),t.confirmColor("")}}})])],2),t._v(" "),n("div",{staticClass:"color-hex"},[n("el-input",{staticClass:"color-hex__input",attrs:{placeholder:"HEX",autofocus:"true",maxlength:"7",size:"small"},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),t._v(" "),n("el-button",{staticClass:"color-hex__button",attrs:{type:"text",size:"small"},on:{click:function(e){return t.confirmColor(t.color)}}},[t._v("\n      "+t._s(t.confirmText)+"\n    ")])],1),t._v(" "),n("command-button",{attrs:{slot:"reference","enable-tooltip":t.et.tooltip,tooltip:t.tooltip,icon:t.icon,readonly:t.et.isCodeViewMode},slot:"reference"})],1)},staticRenderFns:[]},void 0,gf=jr([Xr({components:(hf={},Mr(hf,d.a.name,d.a),Mr(hf,S.a.name,S.a),Mr(hf,es.name,es),Mr(hf,"CommandButton",Ua),hf)})],gf),void 0,!1,void 0,!1,void 0,void 0,void 0);var bf=function(t){Tr(n,o["g"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"commands",value:function(){return function(t){return function(e,n){if(void 0!==t){var r=e.schema,o=e.tr,i=r.marks.text_color,a=t&&vf(t)?{color:t}:null;if((o=ff(e.tr.setSelection(e.selection),i,a)).docChanged||o.storedMarksSet)return n&&n(o),!0}return!1}}}},{key:"menuBtnView",value:function(t){var e=t.commands,n=t.getMarkAttrs,r=t.t;return{component:yf,componentProps:{colorSet:this.options.colors,selectedColor:n("text_color").color,tooltip:r("editor.extensions.TextColor.tooltip"),icon:"tint"},componentEvents:{confirm:function(t){return e.text_color(t)}}}}},{key:"name",get:function(){return"text_color"}},{key:"defaultOptions",get:function(){return{colors:mf}}},{key:"schema",get:function(){return{attrs:{color:""},inline:!0,group:"inline",parseDOM:[{style:"color",getAttrs:function(t){return{color:t}}}],toDOM:function(t){var e=t.attrs.color,n="";return e&&(n+="color: ".concat(e,";")),["span",{style:n},0]}}}}]),n}(),wf=function(t){Tr(n,o["g"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"commands",value:function(){return function(t){return function(e,n){if(void 0!==t){var r=e.schema,o=e.tr,i=r.marks.text_highlight,a=t&&vf(t)?{highlightColor:t}:null;if((o=ff(e.tr.setSelection(e.selection),i,a)).docChanged||o.storedMarksSet)return n&&n(o),!0}return!1}}}},{key:"menuBtnView",value:function(t){var e=t.commands,n=t.getMarkAttrs,r=t.t;return{component:yf,componentProps:{colorSet:this.options.colors,selectedColor:n("text_highlight").highlightColor,tooltip:r("editor.extensions.TextHighlight.tooltip"),icon:"highlighter"},componentEvents:{confirm:function(t){return e.text_highlight(t)}}}}},{key:"name",get:function(){return"text_highlight"}},{key:"defaultOptions",get:function(){return{colors:mf}}},{key:"schema",get:function(){return{attrs:{highlightColor:""},inline:!0,group:"inline",parseDOM:[{tag:"span[style*=background-color]",getAttrs:function(t){return{highlightColor:t.style.backgroundColor}}}],toDOM:function(t){var e=t.attrs.highlightColor,n="";return e&&(n+="background-color: ".concat(e,";")),["span",{style:n},0]}}}}]),n}(),xf=Math.max,kf=Math.min,Sf=Math.floor,_f=/\$([$&'`]|\d\d?|<[^>]*>)/g,Cf=/\$([$&'`]|\d\d?)/g;_n("replace",2,(function(t,e,n,r){var o=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=r.REPLACE_KEEPS_$0,a=o?"$":"$0";return[function(n,r){var o=U(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!o&&i||"string"==typeof r&&-1===r.indexOf(a)){var l=n(e,t,this,r);if(l.done)return l.value}var c=ot(t),u=String(this),d="function"==typeof r;d||(r=String(r));var p=c.global;if(p){var f=c.unicode;c.lastIndex=0}for(var h=[];;){var m=Nn(c,u);if(null===m)break;if(h.push(m),!p)break;""===String(m[0])&&(c.lastIndex=An(u,Lt(c.lastIndex),f))}for(var v,g="",y=0,b=0;b<h.length;b++){m=h[b];for(var w=String(m[0]),x=xf(kf(Ft(m.index),u.length),0),k=[],S=1;S<m.length;S++)k.push(void 0===(v=m[S])?v:String(v));var _=m.groups;if(d){var C=[w].concat(k,x,u);void 0!==_&&C.push(_);var O=String(r.apply(void 0,C))}else O=s(w,u,x,k,_,r);x>=y&&(g+=u.slice(y,x)+O,y=x+w.length)}return g+u.slice(y)}];function s(t,n,r,o,i,a){var s=r+t.length,l=o.length,c=Cf;return void 0!==i&&(i=de(i),c=_f),e.call(a,c,(function(e,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":c=i[a.slice(1,-1)];break;default:var u=+a;if(0===u)return e;if(u>l){var d=Sf(u/10);return 0===d?e:d<=l?void 0===o[d-1]?a.charAt(1):o[d-1]+a.charAt(1):e}c=o[u-1]}return void 0===c?"":c}))}}));var Of,Mf=["Arial","Arial Black","Georgia","Impact","Tahoma","Times New Roman","Verdana","Courier New","Lucida Console","Monaco","monospace"].reduce((function(t,e){return t[e]=e,t}),{}),Ef=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"toggleFontType",value:function(t){t===this.activeFontType?this.editorContext.commands.font_type(""):this.editorContext.commands.font_type(t)}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"fontTypes",get:function(){var t,e=this.editor.extensions.options.font_type.fontTypes;return t=e,"[object Object]"!==Object.prototype.toString.call(t)?(lr.error("'fontTypes' should be an object"),Mf):e}},{key:"activeFontType",get:function(){return function(t){var e=t.schema,n=t.selection,r=t.tr,o=e.marks.font_type;if(!o)return"";if(n.empty){var i=(r.storedMarks||t.storedMarks||n instanceof a["TextSelection"]&&n.$cursor&&n.$cursor.marks&&n.$cursor.marks()||[]).find((function(t){return t.type===o}));return i&&i.attrs.name||""}var s=qa(t,o).name;return s||""}(this.editor.state)}}]),n}();jr([to({type:Object,required:!0})],Ef.prototype,"editorContext",void 0),jr([Zr()],Ef.prototype,"et",void 0);const Tf=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:t.toggleFontType}},[n("command-button",{attrs:{"enable-tooltip":t.et.tooltip,tooltip:t.et.t("editor.extensions.FontType.tooltip"),readonly:t.et.isCodeViewMode,icon:"font"}}),t._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.fontTypes,(function(e){return n("el-dropdown-item",{key:e,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":e===t.activeFontType},attrs:{command:e}},[n("span",{style:{"font-family":e},attrs:{"data-font":e}},[t._v(t._s(e))])])})),1)],1)},staticRenderFns:[]},void 0,Ef=jr([Xr({components:(Of={},Mr(Of,x.a.name,x.a),Mr(Of,b.a.name,b.a),Mr(Of,g.a.name,g.a),Mr(Of,"CommandButton",Ua),Of)})],Ef),void 0,!1,void 0,!1,void 0,void 0,void 0);var Af,Nf=function(t){Tr(n,o["g"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r){var o=n.tr;return!(!(o=function(t,e,n){var r=t.selection;return r instanceof a["TextSelection"]||r instanceof a["AllSelection"]?t=ff(t,e,n?{name:n}:null):t}(n.tr.setSelection(n.selection),e,t)).docChanged&&!o.storedMarksSet)&&(r&&r(o),!0)}}}},{key:"menuBtnView",value:function(t){return{component:Tf,componentProps:{editorContext:t}}}},{key:"name",get:function(){return"font_type"}},{key:"defaultOptions",get:function(){return{fontTypes:Mf}}},{key:"schema",get:function(){return{attrs:{name:""},inline:!0,group:"inline",parseDOM:[{style:"font-family",getAttrs:function(t){return{name:t?t.replace(/["']/g,""):""}}}],toDOM:function(t){var e=t.attrs.name,n={};return e&&(n.style="font-family: ".concat(e)),["span",n,0]}}}}]),n}(),Rf=["8","10","12","14","16","18","20","24","30","36","48","60","72"],If=/([\d.]+)px/i,jf=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).defaultSize="default",t}return Dn(n,[{key:"toggleFontSize",value:function(t){t===this.activeFontSize?this.editorContext.commands.font_size("default"):this.editorContext.commands.font_size(t)}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"fontSizes",get:function(){return this.editor.extensions.options.font_size.fontSizes}},{key:"activeFontSize",get:function(){return function(t){var e=t.schema,n=t.selection,r=t.tr,o=e.marks.font_size;if(!o)return"default";if(n.empty){var i=(r.storedMarks||t.storedMarks||n instanceof a["TextSelection"]&&n.$cursor&&n.$cursor.marks&&n.$cursor.marks()||[]).find((function(t){return t.type===o}));return i?String(i.attrs.px||"default"):"default"}var s=qa(t,o).px;return s?String(s):"default"}(this.editor.state)}}]),n}();jr([to({type:Object,required:!0})],jf.prototype,"editorContext",void 0),jr([Zr()],jf.prototype,"et",void 0);const zf=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:t.toggleFontSize}},[n("command-button",{attrs:{"enable-tooltip":t.et.tooltip,tooltip:t.et.t("editor.extensions.FontSize.tooltip"),readonly:t.et.isCodeViewMode,icon:"text-width"}}),t._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":t.activeFontSize===t.defaultSize},attrs:{command:t.defaultSize}},[n("span",{attrs:{"data-font-size":"default"}},[t._v(t._s(t.et.t("editor.extensions.FontSize.default")))])]),t._v(" "),t._l(t.fontSizes,(function(e){return n("el-dropdown-item",{key:e,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":e===t.activeFontSize},attrs:{command:e}},[n("span",{attrs:{"data-font-size":e}},[t._v(t._s(e))])])}))],2)],1)},staticRenderFns:[]},void 0,jf=jr([Xr({components:(Af={},Mr(Af,x.a.name,x.a),Mr(Af,b.a.name,b.a),Mr(Af,g.a.name,g.a),Mr(Af,"CommandButton",Ua),Af)})],jf),void 0,!1,void 0,!1,void 0,void 0,void 0);var Pf=function(t){Tr(n,o["g"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r){var o=n.tr;return!(!(o=function(t,e,n){var r=t.selection;return r instanceof a["TextSelection"]||r instanceof a["AllSelection"]?t=ff(t,e,n&&"default"!==n?{px:n}:null):t}(n.tr.setSelection(n.selection),e,t)).docChanged&&!o.storedMarksSet)&&(r&&r(o),!0)}}}},{key:"menuBtnView",value:function(t){return{component:zf,componentProps:{editorContext:t}}}},{key:"name",get:function(){return"font_size"}},{key:"defaultOptions",get:function(){return{fontSizes:Rf}}},{key:"schema",get:function(){return{attrs:{px:""},inline:!0,group:"inline",parseDOM:[{style:"font-size",getAttrs:function(t){var e={};if(!t)return e;var n=function(t){var e=t.match(If);if(!e)return"";var n=e[1];return n||""}(t);return n?{px:n}:e}}],toDOM:function(t){var e=t.attrs.px,n={};return e&&(n.style="font-size: ".concat(e,"px")),["span",n,0]}}}}]),n}(),Df=function(t){Tr(n,i["h"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){var e=t.commands,n=t.t;return{component:Ua,componentProps:{command:e.horizontal_rule,icon:"minus",tooltip:n("editor.extensions.HorizontalRule.tooltip")}}}}]),n}(),$f=function(t){Tr(n,i["g"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){var e=t.commands,n=t.t;return[{component:Ua,componentProps:{command:e.undo,icon:"undo",tooltip:n("editor.extensions.History.tooltip.undo")}},{component:Ua,componentProps:{command:e.redo,icon:"redo",tooltip:n("editor.extensions.History.tooltip.redo")}}]}}]),n}(),Ff=["paragraph","heading","list_item","todo_item","title"];function Bf(t,e){var n=t,r=n.selection,o=n.doc;if(!r||!o)return t;var i=r.from,a=r.to,s=[];return e=e||null,o.nodesBetween(i,a,(function(t,n){var r=t.type;return!Ff.includes(r.name)||(t.attrs.textAlign||null)===e||(s.push({node:t,pos:n,nodeType:r}),"list_item"!==r.name&&"todo_item"!==r.name)})),s.length?(s.forEach((function(n){var r=n.node,o=n.pos,i=n.nodeType,a=r.attrs;a=Object.assign(Object.assign({},a),{textAlign:e}),t=t.setNodeMarkup(o,i,a,r.marks)})),t):t}var Lf=function(t){Tr(n,o["f"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"commands",value:function(){return this.options.alignments.reduce((function(t,e){return ar.test(e)?Object.assign(Object.assign({},t),Mr({},"align_".concat(e),(function(){return function(t,n){var r=t.selection,o=Bf(t.tr.setSelection(r),"left"===e?null:e);return!!o.docChanged&&(n&&n(o),!0)}}))):t}),{})}},{key:"menuBtnView",value:function(t){var e=t.commands,n=t.editor,r=t.t;return this.options.alignments.reduce((function(t,o){if(!ar.test(o))return t;var i="left"!==o&&function(t,e){var n=t.selection,r=t.doc,o=n.from,i=n.to,a=!0,s=!1;return r.nodesBetween(o,i,(function(t){return a&&t.attrs.textAlign===e&&(a=!1,s=!0),a})),s}(n.state,o);return t.concat({component:Ua,componentProps:{isActive:i,command:e["align_".concat(o)],icon:"align-".concat(o),tooltip:r("editor.extensions.TextAlign.buttons.align_".concat(o,".tooltip"))}})}),[])}},{key:"name",get:function(){return"text_align"}},{key:"defaultOptions",get:function(){return{alignments:["left","center","right","justify"]}}}]),n}();function Vf(t,e){var n=t,r=n.doc,o=n.selection;if(!r||!o)return t;if(!(o instanceof a["TextSelection"]||o instanceof a["AllSelection"]))return t;var i=o.from,s=o.to;return r.nodesBetween(i,s,(function(n,r){var o=n.type;return"paragraph"===o.name||"heading"===o.name||"blockquote"===o.name?(t=function(t,e,n){if(!t.doc)return t;var r=t.doc.nodeAt(e);if(!r)return t;var o=va((r.attrs.indent||0)+n,0,7);if(o===r.attrs.indent)return t;var i=Object.assign(Object.assign({},r.attrs),{indent:o});return t.setNodeMarkup(e,r.type,i,r.marks)}(t,r,e),!1):!function(t){return function(t){return"bullet_list"===t.type.name}(t)||function(t){return"order_list"===t.type.name}(t)||function(t){return"todo_list"===t.type.name}(t)}(n)})),t}function qf(t){return function(e,n){var r=e.selection,o=e.tr;return!!(o=Vf(o=o.setSelection(r),t)).docChanged&&(n&&n(o),!0)}}(function(t){Tr(n,o["f"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}Dn(n,[{key:"commands",value:function(){return{indent:function(){return qf(1)},outdent:function(){return qf(-1)}}}},{key:"keys",value:function(){return{Tab:qf(1),"Shift-Tab":qf(-1)}}},{key:"menuBtnView",value:function(t){var e=t.commands,n=t.t;return[{component:Ua,componentProps:{command:e.indent,icon:"indent",tooltip:n("editor.extensions.Indent.buttons.indent.tooltip")}},{component:Ua,componentProps:{command:e.outdent,icon:"outdent",tooltip:n("editor.extensions.Indent.buttons.outdent.tooltip")}}]}},{key:"name",get:function(){return"indent"}},{key:"defaultOptions",get:function(){return{minIndent:0,maxIndent:7}}}])})();var Hf,Wf=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"isLineHeightActive",value:function(t){return function(t,e){var n=t.selection,r=t.doc,o=n.from,i=n.to,a=!0,s=!1;return r.nodesBetween(o,i,(function(t){var n=t.type,r=t.attrs.lineHeight||"100%";return lu.includes(n.name)?a&&e===r?(a=!1,s=!0,!1):"list_item"!==n.name&&"todo_item"!==n.name:a})),s}(this.editor.state,t)}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"lineHeights",get:function(){return this.editor.extensions.options.line_height.lineHeights}}]),n}();jr([to({type:Object,required:!0})],Wf.prototype,"editorContext",void 0),jr([Zr()],Wf.prototype,"et",void 0);const Uf=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:function(e){return t.editorContext.commands.line_height({lineHeight:e})}}},[n("command-button",{attrs:{"enable-tooltip":t.et.tooltip,tooltip:t.et.t("editor.extensions.LineHeight.tooltip"),readonly:t.et.isCodeViewMode,icon:"text-height"}}),t._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.lineHeights,(function(e){return n("el-dropdown-item",{key:e,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":t.isLineHeightActive(e)},attrs:{command:e}},[n("span",[t._v(t._s(e))])])})),1)],1)},staticRenderFns:[]},void 0,Wf=jr([Xr({components:(Hf={},Mr(Hf,x.a.name,x.a),Mr(Hf,b.a.name,b.a),Mr(Hf,g.a.name,g.a),Mr(Hf,"CommandButton",Ua),Hf)})],Wf),void 0,!1,void 0,!1,void 0,void 0,void 0);var Jf=function(t){Tr(n,o["f"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"commands",value:function(){return function(t){return function(t){return function(e,n){var r=e.selection,o=e.tr;return!!(o=du(o=o.setSelection(r),t)).docChanged&&(n&&n(o),!0)}}(t.lineHeight)}}},{key:"menuBtnView",value:function(t){return{component:Uf,componentProps:{editorContext:t}}}},{key:"name",get:function(){return"line_height"}},{key:"defaultOptions",get:function(){return{lineHeights:["100%","115%","150%","200%","250%","300%"]}}}]),n}(),Kf=hr.filter,Gf=Me("filter"),Xf=Je("filter");ce({target:"Array",proto:!0,forced:!Gf||!Xf},{filter:function(t){return Kf(this,t,arguments.length>1?arguments[1]:void 0)}});var Zf,Yf,Qf,th=!P((function(){return Object.isExtensible(Object.preventExtensions({}))})),eh=R((function(t){var e=at.f,n=wt("meta"),r=0,o=Object.isExtensible||function(){return!0},i=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!K(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Z(t,n)){if(!o(t))return"F";if(!e)return"E";i(t)}return t[n].objectID},getWeakData:function(t,e){if(!Z(t,n)){if(!o(t))return!0;if(!e)return!1;i(t)}return t[n].weakData},onFreeze:function(t){return th&&a.REQUIRED&&o(t)&&!Z(t,n)&&i(t),t}};St[n]=!0})),nh=(eh.REQUIRED,eh.fastKey,eh.getWeakData,eh.onFreeze,!P((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))),rh=kt("IE_PROTO"),oh=Object.prototype,ih=nh?Object.getPrototypeOf:function(t){return t=de(t),Z(t,rh)?t[rh]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?oh:null},ah=ye("iterator"),sh=!1;[].keys&&("next"in(Qf=[].keys())?(Yf=ih(ih(Qf)))!==Object.prototype&&(Zf=Yf):sh=!0),null==Zf&&(Zf={}),Z(Zf,ah)||st(Zf,ah,(function(){return this}));var lh={IteratorPrototype:Zf,BUGGY_SAFARI_ITERATORS:sh},ch=lh.IteratorPrototype,uh=function(){return this},dh=lh.IteratorPrototype,ph=lh.BUGGY_SAFARI_ITERATORS,fh=ye("iterator"),hh=function(){return this},mh=function(t,e,n,r,o,i,a){!function(t,e,n){var r=e+" Iterator";t.prototype=Be(ch,{next:L(1,n)}),Bo(t,r,!1),Vo[r]=uh}(n,e,r);var s,l,c,u=function(t){if(t===o&&m)return m;if(!ph&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},d=e+" Iterator",p=!1,f=t.prototype,h=f[fh]||f["@@iterator"]||o&&f[o],m=!ph&&h||u(o),v="Array"==e&&f.entries||h;if(v&&(s=ih(v.call(new t)),dh!==Object.prototype&&s.next&&(ih(s)!==dh&&($n?$n(s,dh):"function"!=typeof s[fh]&&st(s,fh,hh)),Bo(s,d,!0))),"values"==o&&h&&"values"!==h.name&&(p=!0,m=function(){return h.call(this)}),f[fh]!==m&&st(f,fh,m),Vo[e]=m,o)if(l={values:u("values"),keys:i?m:u("keys"),entries:u("entries")},a)for(c in l)(ph||p||!(c in f))&&It(f,c,l[c]);else ce({target:e,proto:!0,forced:ph||p},l);return l},vh=at.f,gh=eh.fastKey,yh=Rt.set,bh=Rt.getterFor,wh=(function(t,e,n){var r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),i=r?"set":"add",a=z[t],s=a&&a.prototype,l=a,c={},u=function(t){var e=s[t];It(s,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!K(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!K(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!K(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(se(t,"function"!=typeof a||!(o||s.forEach&&!P((function(){(new a).entries().next()})))))l=n.getConstructor(e,t,r,i),eh.REQUIRED=!0;else if(se(t,!0)){var d=new l,p=d[i](o?{}:-0,1)!=d,f=P((function(){d.has(1)})),h=ri((function(t){new a(t)})),m=!o&&P((function(){for(var t=new a,e=5;e--;)t[i](e,e);return!t.has(-0)}));h||((l=e((function(e,n){Lo(e,l,t);var o=Fn(new a,e,l);return null!=n&&Go(n,o[i],o,r),o}))).prototype=s,s.constructor=l),(f||m)&&(u("delete"),u("has"),r&&u("get")),(m||p)&&u(i),o&&s.clear&&delete s.clear}c[t]=l,ce({global:!0,forced:l!=a},c),Bo(l,t),o||n.setStrong(l,t,r)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,n,r){var o=t((function(t,i){Lo(t,o,e),yh(t,{type:e,index:Be(null),first:void 0,last:void 0,size:0}),D||(t.size=0),null!=i&&Go(i,t[r],t,n)})),i=bh(e),a=function(t,e,n){var r,o,a=i(t),l=s(t,e);return l?l.value=n:(a.last=l={index:o=gh(e,!0),key:e,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=l),r&&(r.next=l),D?a.size++:t.size++,"F"!==o&&(a.index[o]=l)),t},s=function(t,e){var n,r=i(t),o=gh(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Do(o.prototype,{clear:function(){for(var t=i(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,D?t.size=0:this.size=0},delete:function(t){var e=i(this),n=s(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),D?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=i(this),r=dr(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),Do(o.prototype,n?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),D&&vh(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",o=bh(e),i=bh(r);mh(t,e,(function(t,e){yh(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),Ln(e)}}),En.charAt),xh=Rt.set,kh=Rt.getterFor("String Iterator");mh(String,"String",(function(t){xh(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=kh(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=wh(n,r),e.index+=t.length,{value:t,done:!1})}));var Sh={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},_h=Rt.set,Ch=Rt.getterFor("Array Iterator"),Oh=mh(Array,"Array",(function(t,e){_h(this,{type:"Array Iterator",target:J(t),index:0,kind:e})}),(function(){var t=Ch(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");Vo.Arguments=Vo.Array,qe("keys"),qe("values"),qe("entries");var Mh=ye("iterator"),Eh=ye("toStringTag"),Th=Oh.values;for(var Ah in Sh){var Nh=z[Ah],Rh=Nh&&Nh.prototype;if(Rh){if(Rh[Mh]!==Th)try{st(Rh,Mh,Th)}catch(Zh){Rh[Mh]=Th}if(Rh[Eh]||st(Rh,Eh,Ah),Sh[Ah])for(var Ih in Oh)if(Rh[Ih]!==Oh[Ih])try{st(Rh,Ih,Oh[Ih])}catch(Zh){Rh[Ih]=Oh[Ih]}}}var jh=["bold","italic","underline","strike","link","text_color","text_highlight"],zh=function(t){Tr(n,o["f"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"commands",value:function(){return function(){return function(t,e){var n=function(t,e){var n=t,r=n.doc,o=n.selection;if(!o||!r)return t;var i=o.from,a=o.to;if(o.empty)return t;var s=new Set(jh.map((function(t){return e.marks[t]})).filter(Boolean));if(!s.size)return t;var l=[];return r.nodesBetween(i,a,(function(t,e){return!t.marks||!t.marks.length||(t.marks.some((function(n){s.has(n.type)&&l.push({node:t,pos:e,mark:n})})),!0)})),l.forEach((function(e){var n=e.node,r=e.mark,o=e.pos;t=t.removeMark(o,o+n.nodeSize,r.type)})),t=du(t=Bf(t,null),null)}(t.tr.setSelection(t.selection),t.schema);return!(!e||!n.docChanged)&&(e(n),!0)}}}},{key:"menuBtnView",value:function(t){var e=t.commands,n=t.t;return{component:Ua,componentProps:{command:e.format_clear,icon:"remove-format",tooltip:n("editor.extensions.FormatClear.tooltip")}}}},{key:"name",get:function(){return"format_clear"}}]),n}(),Ph=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"isFullscreen",get:function(){return this.et.isFullscreen},set:function(t){this.et.isFullscreen=t}},{key:"buttonTooltip",get:function(){return this.isFullscreen?this.et.t("editor.extensions.Fullscreen.tooltip.exit_fullscreen"):this.et.t("editor.extensions.Fullscreen.tooltip.fullscreen")}}]),n}();jr([Zr()],Ph.prototype,"et",void 0);const Dh=_a({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("command-button",{attrs:{command:function(){return t.isFullscreen=!t.isFullscreen},"enable-tooltip":t.et.tooltip,tooltip:t.buttonTooltip,icon:t.isFullscreen?"compress":"expand","is-active":t.isFullscreen}})},staticRenderFns:[]},void 0,Ph=jr([Xr({components:{CommandButton:Ua}})],Ph),void 0,!1,void 0,!1,void 0,void 0,void 0);var $h=function(t){Tr(n,o["f"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(){return{component:Dh}}},{key:"name",get:function(){return"fullscreen"}}]),n}(),Fh=!ri((function(t){Array.from(t)}));function Bh(t){var e=t.dom.closest(".el-tiptap-editor__content");return!!e&&(function(t){var e=Array.from(document.querySelectorAll("style, link")).reduce((function(t,e){return t+e.outerHTML}),"")+t.outerHTML,n=document.createElement("iframe");n.id="el-tiptap-iframe",n.setAttribute("style","position: absolute; width: 0; height: 0; top: -10px; left: -10px;"),document.body.appendChild(n);var r=n.contentWindow,o=n.contentDocument||n.contentWindow&&n.contentWindow.document;o&&(o.open(),o.write(e),o.close()),r&&(n.onload=function(){try{setTimeout((function(){r.focus();try{r.document.execCommand("print",!1)||r.print()}catch(t){r.print()}r.close()}),10)}catch(t){lr.error(t)}setTimeout((function(){document.body.removeChild(n)}),100)})}(e),!0)}ce({target:"Array",stat:!0,forced:Fh},{from:function(t){var e,n,r,o,i,a,s=de(t),l="function"==typeof this?this:Array,c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,p=Jo(s),f=0;if(d&&(u=dr(u,c>2?arguments[2]:void 0,2)),null==p||l==Array&&Wo(p))for(n=new l(e=Lt(s.length));e>f;f++)a=d?u(s[f],f):s[f],pe(n,f,a);else for(i=(o=p.call(s)).next,n=new l;!(r=i.call(o)).done;f++)a=d?Ko(o,u,[r.value,f],!0):r.value,pe(n,f,a);return n.length=f,n}});var Lh,Vh=function(t){Tr(n,o["f"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"commands",value:function(){return function(){return function(t,e,n){return Bh(n)}}}},{key:"keys",value:function(){return{"Mod-p":function(t,e,n){return Bh(n)}}}},{key:"menuBtnView",value:function(t){var e=t.commands,n=t.t;return{component:Ua,componentProps:{command:e.print,icon:"print",tooltip:n("editor.extensions.Print.tooltip")}}}},{key:"name",get:function(){return"print"}}]),n}(),qh=function(t){Tr(n,r["default"]);var e=Ir(n);function n(){var t;return zn(this,n),(t=e.apply(this,arguments)).html="",t.previewDialogVisible=!1,t}return Dn(n,[{key:"onVisibleChange",value:function(t){t&&this.getHtml()}},{key:"togglePreviewDialogVisible",value:function(){this.previewDialogVisible=!this.previewDialogVisible}},{key:"getHtml",value:function(){this.html=this.editorContext.editor.getHTML()}}]),n}();jr([to({type:Object,required:!0})],qh.prototype,"editorContext",void 0),jr([to({type:String,default:"80vw"})],qh.prototype,"contentWidth",void 0),jr([Zr()],qh.prototype,"et",void 0),jr([eo("previewDialogVisible")],qh.prototype,"onVisibleChange",null);const Hh=_a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("command-button",{attrs:{command:t.togglePreviewDialogVisible,"enable-tooltip":t.et.tooltip,tooltip:t.et.t("editor.extensions.Preview.tooltip"),readonly:t.et.isCodeViewMode,icon:"eye"}}),t._v(" "),n("el-dialog",{attrs:{title:t.et.t("editor.extensions.Preview.dialog.title"),visible:t.previewDialogVisible,width:t.contentWidth,"append-to-body":!0},on:{"update:visible":function(e){t.previewDialogVisible=e}}},[n("div",{staticClass:"el-tiptap-editor__content"},[n("div",{domProps:{innerHTML:t._s(t.html)}})])])],1)},staticRenderFns:[]},void 0,qh=jr([Xr({components:(Lh={},Mr(Lh,m.a.name,m.a),Mr(Lh,"CommandButton",Ua),Lh)})],qh),void 0,!1,void 0,!1,void 0,void 0,void 0);var Wh=function(t){Tr(n,o["f"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"menuBtnView",value:function(t){return{component:Hh,componentProps:{editorContext:t,contentWidth:this.options.contentWidth}}}},{key:"name",get:function(){return"preview"}},{key:"defaultOptions",get:function(){return{contentWidth:"80vw"}}}]),n}(),Uh=(function(t){Tr(n,o["f"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}Dn(n,[{key:"commands",value:function(){return function(){return xp}}},{key:"menuBtnView",value:function(t){var e=t.commands,n=t.t;return{component:Ua,componentProps:{command:e.select_all,icon:"regular/object-group",tooltip:n("editor.extensions.SelectAll.tooltip")}}}},{key:"name",get:function(){return"select_all"}}])}(),function(t){Tr(n,r["default"]);var e=Ir(n);function n(){return zn(this,n),e.apply(this,arguments)}return Dn(n,[{key:"isCodeViewMode",get:function(){return this.et.isCodeViewMode},set:function(t){this.et.isCodeViewMode=t}}]),n}());jr([Zr()],Uh.prototype,"et",void 0);const Jh=_a({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("command-button",{attrs:{command:function(){return t.isCodeViewMode=!t.isCodeViewMode},"enable-tooltip":t.et.tooltip,tooltip:t.et.t("editor.extensions.CodeView.tooltip"),icon:"regular/file-code","is-active":t.isCodeViewMode}})},staticRenderFns:[]},void 0,Uh=jr([Xr({components:{CommandButton:Ua}})],Uh),void 0,!1,void 0,!1,void 0,void 0,void 0);var Kh=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;function Gh(t){t.extendMode("xml",{newlineAfterToken:function(t,e,n,r){var o=!1;return"html"===this.configuration&&(o=!!r.context&&Kh.test(r.context.tagName)),!o&&("tag"===t&&/>$/.test(e)&&r.context||/^</.test(n))}}),t.defineExtension("autoFormatRange",(function(e,n){var r=this,o=r.getMode(),i=r.getRange(e,n).split("\n"),a=t.copyState(o,r.getTokenAt(e).state),s=r.getOption("tabSize"),l="",c=0,u=0===e.ch;function d(){l+="\n",u=!0,++c}for(var p=0;p<i.length;++p){for(var f=new t.StringStream(i[p],s);!f.eol();){var h=t.innerMode(o,a),m=o.token(f,a),v=f.current();f.start=f.pos,u&&!/\S/.test(v)||(l+=v,u=!1),!u&&h.mode.newlineAfterToken&&h.mode.newlineAfterToken(m,v,f.string.slice(f.pos)||i[p+1]||"",h.state)&&d()}!f.pos&&o.blankLine&&o.blankLine(a),!u&&p<i.length-1&&d()}r.operation((function(){r.replaceRange(l,e,n);for(var t=e.line+1,o=e.line+c;t<=o;++t)r.indentLine(t,"smart");r.setSelection(e,r.getCursor(!1))}))}))}var Xh={lineNumbers:!0,lineWrapping:!0,tabSize:2,tabMode:"indent",mode:"text/html"};(function(t){Tr(n,o["f"]);var e=Ir(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};zn(this,n),t=e.call(this,r);var o=r.codemirror;return null==o?lr.warn("`CodeView` extension requires the CodeMirror library."):Gh(o),t.options={codemirror:o,codemirrorOptions:Object.assign(Object.assign({},t.defaultOptions.codemirrorOptions),r.codemirrorOptions)},t}Dn(n,[{key:"menuBtnView",value:function(){return{component:Jh}}},{key:"name",get:function(){return"code_view"}},{key:"defaultOptions",get:function(){return{codemirror:null,codemirrorOptions:Object.assign({},Xh)}}}])})()}).call(this,n("c8ba"))},5313:function(t,e,n){"use strict";n.r(e),n.d(e,"AllSelection",(function(){return f})),n.d(e,"EditorState",(function(){return C})),n.d(e,"NodeSelection",(function(){return d})),n.d(e,"Plugin",(function(){return T})),n.d(e,"PluginKey",(function(){return R})),n.d(e,"Selection",(function(){return a})),n.d(e,"SelectionRange",(function(){return l})),n.d(e,"TextSelection",(function(){return c})),n.d(e,"Transaction",(function(){return w}));var r=n("304a"),o=n("0ac0"),i=Object.create(null),a=function(t,e,n){this.ranges=n||[new l(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},s={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};s.anchor.get=function(){return this.$anchor.pos},s.head.get=function(){return this.$head.pos},s.from.get=function(){return this.$from.pos},s.to.get=function(){return this.$to.pos},s.$from.get=function(){return this.ranges[0].$from},s.$to.get=function(){return this.ranges[0].$to},s.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},a.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},a.prototype.replace=function(t,e){void 0===e&&(e=r["Slice"].empty);for(var n=e.content.lastChild,o=null,i=0;i<e.openEnd;i++)o=n,n=n.lastChild;for(var a=t.steps.length,s=this.ranges,l=0;l<s.length;l++){var c=s[l],u=c.$from,d=c.$to,p=t.mapping.slice(a);t.replaceRange(p.map(u.pos),p.map(d.pos),l?r["Slice"].empty:e),0==l&&v(t,a,(n?n.isInline:o&&o.isTextblock)?-1:1)}},a.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,s=i.$to,l=t.mapping.slice(n),c=l.map(a.pos),u=l.map(s.pos);o?t.deleteRange(c,u):(t.replaceRangeWith(c,u,e),v(t,n,e.isInline?-1:1))}},a.findFrom=function(t,e,n){var r=t.parent.inlineContent?new c(t):m(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var o=t.depth-1;o>=0;o--){var i=e<0?m(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):m(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(i)return i}},a.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new f(t.node(0))},a.atStart=function(t){return m(t,t,0,0,1)||new f(t)},a.atEnd=function(t){return m(t,t,t.content.size,t.childCount,-1)||new f(t)},a.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=i[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},a.jsonID=function(t,e){if(t in i)throw new RangeError("Duplicate use of selection JSON ID "+t);return i[t]=e,e.prototype.jsonID=t,e},a.prototype.getBookmark=function(){return c.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(a.prototype,s),a.prototype.visible=!0;var l=function(t,e){this.$from=t,this.$to=e},c=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return t.near(o);var i=n.resolve(r.map(this.anchor));return new e(i.parent.inlineContent?i:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=r["Slice"].empty),t.prototype.replace.call(this,e,n),n==r["Slice"].empty){var o=this.$from.marksAcross(this.$to);o&&e.ensureMarks(o)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new u(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var a=t.findFrom(r,o,!0)||t.findFrom(r,-o,!0);if(!a)return t.near(r,o);r=a.$head}return n.parent.inlineContent||(0==i?n=r:(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor,n.pos<r.pos!=i<0&&(n=r))),new e(n,r)},Object.defineProperties(e.prototype,n),e}(a);a.jsonID("text",c);var u=function(t,e){this.anchor=t,this.head=e};u.prototype.map=function(t){return new u(t.map(this.anchor),t.map(this.head))},u.prototype.resolve=function(t){return c.between(t.resolve(this.anchor),t.resolve(this.head))};var d=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,a=o.pos,s=n.resolve(a);return i?t.near(s):new e(s)},e.prototype.content=function(){return new r["Slice"](r["Fragment"].from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new p(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(a);d.prototype.visible=!1,a.jsonID("node",d);var p=function(t){this.anchor=t};p.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new u(r,r):new p(r)},p.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&d.isSelectable(n)?new d(e):a.near(e)};var f=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=r["Slice"].empty),n==r["Slice"].empty){e.delete(0,e.doc.content.size);var o=t.atStart(e.doc);o.eq(e.selection)||e.setSelection(o)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return h},e}(a);a.jsonID("all",f);var h={map:function(){return this},resolve:function(t){return new f(t)}};function m(t,e,n,r,o,i){if(e.inlineContent)return c.create(t,n);for(var a=r-(o>0?0:1);o>0?a<e.childCount:a>=0;a+=o){var s=e.child(a);if(s.isAtom){if(!i&&d.isSelectable(s))return d.create(t,n-(o<0?s.nodeSize:0))}else{var l=m(t,s,n+o,o<0?s.childCount:0,o,i);if(l)return l}n+=s.nodeSize*o}}function v(t,e,n){var r=t.steps.length-1;if(!(r<e)){var i=t.steps[r];if(i instanceof o["c"]||i instanceof o["b"]){var s,l=t.mapping.maps[r];l.forEach((function(t,e,n,r){null==s&&(s=r)})),t.setSelection(a.near(t.doc.resolve(s),n))}}}var g=1,y=2,b=4,w=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|g)&~y,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&g)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=y,this},e.prototype.ensureMarks=function(t){return r["Mark"].sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&y)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=this.updated&~y,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r["Mark"].none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=n==e?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(a.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=b,this},n.scrolledIntoView.get=function(){return(this.updated&b)>0},Object.defineProperties(e.prototype,n),e}(o["e"]);function x(t,e){return e&&t?t.bind(e):t}var k=function(t,e,n){this.name=t,this.init=x(e.init,n),this.apply=x(e.apply,n)},S=[new k("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new k("selection",{init:function(t,e){return t.selection||a.atStart(e.doc)},apply:function(t){return t.selection}}),new k("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new k("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],_=function(t,e){var n=this;this.schema=t,this.fields=S.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new k(t.key,t.spec.state,t))}))},C=function(t){this.config=t},O={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};O.schema.get=function(){return this.config.schema},O.plugins.get=function(){return this.config.plugins},C.prototype.apply=function(t){return this.applyTransaction(t).state},C.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},C.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var s=r?r[i].n:0,l=r?r[i].state:this,c=s<e.length&&a.spec.appendTransaction.call(a,s?e.slice(s):e,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<i?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}},C.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new C(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}for(var i=0;i<M.length;i++)M[i](this,t,e);return e},O.tr.get=function(){return new w(this)},C.create=function(t){for(var e=new _(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new C(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},C.prototype.reconfigure=function(t){for(var e=new _(this.schema,t.plugins),n=e.fields,r=new C(e),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(t,r)}return r},C.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e},C.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var o=new _(t.schema,t.plugins),i=new C(o);return o.fields.forEach((function(o){if("doc"==o.name)i.doc=r["Node"].fromJSON(t.schema,e.doc);else if("selection"==o.name)i.selection=a.fromJSON(i.doc,e.selection);else if("storedMarks"==o.name)e.storedMarks&&(i.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var s in n){var l=n[s],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(e,s))return void(i[o.name]=c.fromJSON.call(l,t,e[s],i))}i[o.name]=o.init(t,i)}})),i},C.addApplyListener=function(t){M.push(t)},C.removeApplyListener=function(t){var e=M.indexOf(t);e>-1&&M.splice(e,1)},Object.defineProperties(C.prototype,O);var M=[];function E(t,e,n){for(var r in t){var o=t[r];o instanceof Function?o=o.bind(e):"handleDOMEvents"==r&&(o=E(o,e,{})),n[r]=o}return n}var T=function(t){this.props={},t.props&&E(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:N("plugin")};T.prototype.getState=function(t){return t[this.key]};var A=Object.create(null);function N(t){return t in A?t+"$"+ ++A[t]:(A[t]=0,t+"$")}var R=function(t){void 0===t&&(t="key"),this.key=N(t)};R.prototype.get=function(t){return t.config.pluginsByKey[this.key]},R.prototype.getState=function(t){return t[this.key]}},"55be":function(t,e,n){"use strict";n.r(e),n.d(e,"CellSelection",(function(){return B})),n.d(e,"TableMap",(function(){return m})),n.d(e,"TableView",(function(){return Vt})),n.d(e,"__clipCells",(function(){return G})),n.d(e,"__insertCells",(function(){return Q})),n.d(e,"__pastedCells",(function(){return U})),n.d(e,"addColSpan",(function(){return $})),n.d(e,"addColumn",(function(){return vt})),n.d(e,"addColumnAfter",(function(){return yt})),n.d(e,"addColumnBefore",(function(){return gt})),n.d(e,"addRow",(function(){return kt})),n.d(e,"addRowAfter",(function(){return _t})),n.d(e,"addRowBefore",(function(){return St})),n.d(e,"cellAround",(function(){return C})),n.d(e,"colCount",(function(){return j})),n.d(e,"columnIsHeader",(function(){return F})),n.d(e,"columnResizing",(function(){return Wt})),n.d(e,"columnResizingPluginKey",(function(){return Ht})),n.d(e,"deleteColumn",(function(){return wt})),n.d(e,"deleteRow",(function(){return Ot})),n.d(e,"deleteTable",(function(){return Lt})),n.d(e,"findCell",(function(){return I})),n.d(e,"fixTables",(function(){return ft})),n.d(e,"fixTablesKey",(function(){return dt})),n.d(e,"goToNextCell",(function(){return Bt})),n.d(e,"handlePaste",(function(){return at})),n.d(e,"inSameTable",(function(){return R})),n.d(e,"isInTable",(function(){return M})),n.d(e,"mergeCells",(function(){return Tt})),n.d(e,"moveCellForward",(function(){return N})),n.d(e,"nextCell",(function(){return z})),n.d(e,"pointsAtCell",(function(){return A})),n.d(e,"removeColSpan",(function(){return D})),n.d(e,"removeColumn",(function(){return bt})),n.d(e,"removeRow",(function(){return Ct})),n.d(e,"rowIsHeader",(function(){return xt})),n.d(e,"selectedRect",(function(){return mt})),n.d(e,"selectionCell",(function(){return E})),n.d(e,"setAttr",(function(){return P})),n.d(e,"setCellAttr",(function(){return Rt})),n.d(e,"splitCell",(function(){return At})),n.d(e,"splitCellWithType",(function(){return Nt})),n.d(e,"tableEditing",(function(){return ie})),n.d(e,"tableEditingKey",(function(){return _})),n.d(e,"tableNodeTypes",(function(){return S})),n.d(e,"tableNodes",(function(){return k})),n.d(e,"toggleHeader",(function(){return zt})),n.d(e,"toggleHeaderCell",(function(){return $t})),n.d(e,"toggleHeaderColumn",(function(){return Dt})),n.d(e,"toggleHeaderRow",(function(){return Pt})),n.d(e,"updateColumnsOnResize",(function(){return qt}));var r,o,i=n("5313"),a=n("304a"),s=n("7f06"),l=n("576a"),c=n("0ac0");if("undefined"!=typeof WeakMap){var u=new WeakMap;r=function(t){return u.get(t)},o=function(t,e){return u.set(t,e),e}}else{var d=[],p=10,f=0;r=function(t){for(var e=0;e<d.length;e+=2)if(d[e]==t)return d[e+1]},o=function(t,e){return f==p&&(f=0),d[f++]=t,d[f++]=e}}var h=function(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r},m=function(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r};function v(t){if("table"!=t.type.spec.tableRole)throw new RangeError("Not a table node: "+t.type.name);for(var e=g(t),n=t.childCount,r=[],o=0,i=null,a=[],s=0,l=e*n;s<l;s++)r[s]=0;for(var c=0,u=0;c<n;c++){var d=t.child(c);u++;for(var p=0;;p++){while(o<r.length&&0!=r[o])o++;if(p==d.childCount)break;for(var f=d.child(p),h=f.attrs,v=h.colspan,b=h.rowspan,w=h.colwidth,x=0;x<b;x++){if(x+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:b-x});break}for(var k=o+x*e,S=0;S<v;S++){0==r[k+S]?r[k+S]=u:(i||(i=[])).push({type:"collision",row:c,pos:u,n:v-S});var _=w&&w[S];if(_){var C=(k+S)%e*2,O=a[C];null==O||O!=_&&1==a[C+1]?(a[C]=_,a[C+1]=1):O==_&&a[C+1]++}}}o+=v,u+=f.nodeSize}var M=(c+1)*e,E=0;while(o<M)0==r[o++]&&E++;E&&(i||(i=[])).push({type:"missing",row:c,n:E}),u++}for(var T=new m(e,n,r,i),A=!1,N=0;!A&&N<a.length;N+=2)null!=a[N]&&a[N+1]<n&&(A=!0);return A&&y(T,a,t),T}function g(t){for(var e=-1,n=!1,r=0;r<t.childCount;r++){var o=t.child(r),i=0;if(n)for(var a=0;a<r;a++)for(var s=t.child(a),l=0;l<s.childCount;l++){var c=s.child(l);a+c.attrs.rowspan>r&&(i+=c.attrs.colspan)}for(var u=0;u<o.childCount;u++){var d=o.child(u);i+=d.attrs.colspan,d.attrs.rowspan>1&&(n=!0)}-1==e?e=i:e!=i&&(e=Math.max(e,i))}return e}function y(t,e,n){t.problems||(t.problems=[]);for(var r=0,o={};r<t.map.length;r++){var i=t.map[r];if(!o[i]){o[i]=!0;for(var a=n.nodeAt(i),s=null,l=0;l<a.attrs.colspan;l++){var c=(r+l)%t.width,u=e[2*c];null==u||a.attrs.colwidth&&a.attrs.colwidth[l]==u||((s||(s=b(a.attrs)))[l]=u)}s&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}}function b(t){if(t.colwidth)return t.colwidth.slice();for(var e=[],n=0;n<t.colspan;n++)e.push(0);return e}function w(t,e){var n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(t){return Number(t)})):null,o=Number(t.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(var a in e){var s=e[a].getFromDOM,l=s&&s(t);null!=l&&(i[a]=l)}return i}function x(t,e){var n={};for(var r in 1!=t.attrs.colspan&&(n.colspan=t.attrs.colspan),1!=t.attrs.rowspan&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(",")),e){var o=e[r].setDOMAttr;o&&o(t.attrs[r],n)}return n}function k(t){var e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in e)n[r]={default:e[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(t){return w(t,e)}}],toDOM:function(t){return["td",x(t,e),0]}},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(t){return w(t,e)}}],toDOM:function(t){return["th",x(t,e),0]}}}}function S(t){var e=t.cached.tableNodeTypes;if(!e)for(var n in e=t.cached.tableNodeTypes={},t.nodes){var r=t.nodes[n],o=r.spec.tableRole;o&&(e[o]=r)}return e}m.prototype.findCell=function(t){for(var e=0;e<this.map.length;e++){var n=this.map[e];if(n==t){for(var r=e%this.width,o=e/this.width|0,i=r+1,a=o+1,s=1;i<this.width&&this.map[e+s]==n;s++)i++;for(var l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return new h(r,o,i,a)}}throw new RangeError("No cell with offset "+t+" found")},m.prototype.colCount=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError("No cell with offset "+t+" found")},m.prototype.nextCell=function(t,e,n){var r=this.findCell(t),o=r.left,i=r.right,a=r.top,s=r.bottom;return"horiz"==e?(n<0?0==o:i==this.width)?null:this.map[a*this.width+(n<0?o-1:i)]:(n<0?0==a:s==this.height)?null:this.map[o+this.width*(n<0?a-1:s)]},m.prototype.rectBetween=function(t,e){var n=this.findCell(t),r=n.left,o=n.right,i=n.top,a=n.bottom,s=this.findCell(e),l=s.left,c=s.right,u=s.top,d=s.bottom;return new h(Math.min(r,l),Math.min(i,u),Math.max(o,c),Math.max(a,d))},m.prototype.cellsInRect=function(t){for(var e=[],n={},r=t.top;r<t.bottom;r++)for(var o=t.left;o<t.right;o++){var i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==t.left&&o&&this.map[i-1]==a||r==t.top&&r&&this.map[i-this.width]==a||e.push(a))}return e},m.prototype.positionAt=function(t,e,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r==t){var a=e+t*this.width,s=(t+1)*this.width;while(a<s&&this.map[a]<o)a++;return a==s?i-1:this.map[a]}o=i}},m.get=function(t){return r(t)||o(t,v(t))};var _=new i["PluginKey"]("selectingCells");function C(t){for(var e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function O(t){for(var e=t.depth;e>0;e--){var n=t.node(e).type.spec.tableRole;if("cell"===n||"header_cell"===n)return t.node(e)}return null}function M(t){for(var e=t.selection.$head,n=e.depth;n>0;n--)if("row"==e.node(n).type.spec.tableRole)return!0;return!1}function E(t){var e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&"cell"==e.node.type.spec.tableRole?e.$anchor:C(e.$head)||T(e.$head)}function T(t){for(var e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){var r=e.type.spec.tableRole;if("cell"==r||"header_cell"==r)return t.doc.resolve(n)}for(var o=t.nodeBefore,i=t.pos;o;o=o.lastChild,i--){var a=o.type.spec.tableRole;if("cell"==a||"header_cell"==a)return t.doc.resolve(i-o.nodeSize)}}function A(t){return"row"==t.parent.type.spec.tableRole&&t.nodeAfter}function N(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function R(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function I(t){return m.get(t.node(-1)).findCell(t.pos-t.start(-1))}function j(t){return m.get(t.node(-1)).colCount(t.pos-t.start(-1))}function z(t,e,n){var r=t.start(-1),o=m.get(t.node(-1)),i=o.nextCell(t.pos-r,e,n);return null==i?null:t.node(0).resolve(r+i)}function P(t,e,n){var r={};for(var o in t)r[o]=t[o];return r[e]=n,r}function D(t,e,n){void 0===n&&(n=1);var r=P(t,"colspan",t.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some((function(t){return t>0}))||(r.colwidth=null)),r}function $(t,e,n){void 0===n&&(n=1);var r=P(t,"colspan",t.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(e,0,0)}return r}function F(t,e,n){for(var r=S(e.type.schema).header_cell,o=0;o<t.height;o++)if(e.nodeAt(t.map[n+o*t.width]).type!=r)return!1;return!0}var B=function(t){function e(e,n){void 0===n&&(n=e);var r=e.node(-1),o=m.get(r),a=e.start(-1),s=o.rectBetween(e.pos-a,n.pos-a),l=e.node(0),c=o.cellsInRect(s).filter((function(t){return t!=n.pos-a}));c.unshift(n.pos-a);var u=c.map((function(t){var e=r.nodeAt(t),n=t+a+1;return new i["SelectionRange"](l.resolve(n),l.resolve(n+e.content.size))}));t.call(this,u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,n){var r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(A(r)&&A(o)&&R(r,o)){var a=this.$anchorCell.node(-1)!=r.node(-1);return a&&this.isRowSelection()?e.rowSelection(r,o):a&&this.isColSelection()?e.colSelection(r,o):new e(r,o)}return i["TextSelection"].between(r,o)},e.prototype.content=function(){for(var t=this.$anchorCell.node(-1),e=m.get(t),n=this.$anchorCell.start(-1),r=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],s=r.top;s<r.bottom;s++){for(var l=[],c=s*e.width+r.left,u=r.left;u<r.right;u++,c++){var d=e.map[c];if(!o[d]){o[d]=!0;var p=e.findCell(d),f=t.nodeAt(d),h=r.left-p.left,v=p.right-r.right;if(h>0||v>0){var g=f.attrs;h>0&&(g=D(g,0,h)),v>0&&(g=D(g,g.colspan-v,v)),f=p.left<r.left?f.type.createAndFill(g):f.type.create(g,f.content)}if(p.top<r.top||p.bottom>r.bottom){var y=P(f.attrs,"rowspan",Math.min(p.bottom,r.bottom)-Math.max(p.top,r.top));f=p.top<r.top?f.type.createAndFill(y):f.type.create(y,f.content)}l.push(f)}}i.push(t.child(s).copy(a["Fragment"].from(l)))}var b=this.isColSelection()&&this.isRowSelection()?t:i;return new a["Slice"](a["Fragment"].from(b),1,1)},e.prototype.replace=function(e,n){void 0===n&&(n=a["Slice"].empty);for(var r=e.steps.length,o=this.ranges,i=0;i<o.length;i++){var s=o[i],l=s.$from,c=s.$to,u=e.mapping.slice(r);e.replace(u.map(l.pos),u.map(c.pos),i?a["Slice"].empty:n)}var d=t.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);d&&e.setSelection(d)},e.prototype.replaceWith=function(t,e){this.replace(t,new a["Slice"](a["Fragment"].from(e),0,0))},e.prototype.forEachCell=function(t){for(var e=this.$anchorCell.node(-1),n=m.get(e),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)t(e.nodeAt(o[i]),r+o[i])},e.prototype.isColSelection=function(){var t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;var n=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},e.colSelection=function(t,n){void 0===n&&(n=t);var r=m.get(t.node(-1)),o=t.start(-1),i=r.findCell(t.pos-o),a=r.findCell(n.pos-o),s=t.node(0);return i.top<=a.top?(i.top>0&&(t=s.resolve(o+r.map[i.left])),a.bottom<r.height&&(n=s.resolve(o+r.map[r.width*(r.height-1)+a.right-1]))):(a.top>0&&(n=s.resolve(o+r.map[a.left])),i.bottom<r.height&&(t=s.resolve(o+r.map[r.width*(r.height-1)+i.right-1]))),new e(t,n)},e.prototype.isRowSelection=function(){var t=m.get(this.$anchorCell.node(-1)),e=this.$anchorCell.start(-1),n=t.colCount(this.$anchorCell.pos-e),r=t.colCount(this.$headCell.pos-e);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==t.width},e.prototype.eq=function(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos},e.rowSelection=function(t,n){void 0===n&&(n=t);var r=m.get(t.node(-1)),o=t.start(-1),i=r.findCell(t.pos-o),a=r.findCell(n.pos-o),s=t.node(0);return i.left<=a.left?(i.left>0&&(t=s.resolve(o+r.map[i.top*r.width])),a.right<r.width&&(n=s.resolve(o+r.map[r.width*(a.top+1)-1]))):(a.left>0&&(n=s.resolve(o+r.map[a.top*r.width])),i.right<r.width&&(t=s.resolve(o+r.map[r.width*(i.top+1)-1]))),new e(t,n)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,n,r){return void 0===r&&(r=n),new e(t.resolve(n),t.resolve(r))},e.prototype.getBookmark=function(){return new L(this.$anchorCell.pos,this.$headCell.pos)},e}(i["Selection"]);B.prototype.visible=!1,i["Selection"].jsonID("cell",B);var L=function(t,e){this.anchor=t,this.head=e};function V(t){if(!(t.selection instanceof B))return null;var e=[];return t.selection.forEachCell((function(t,n){e.push(l["a"].node(n,n+t.nodeSize,{class:"selectedCell"}))})),l["b"].create(t.doc,e)}function q(t){var e=t.$from,n=t.$to;if(e.pos==n.pos||e.pos<e.pos-6)return!1;for(var r=e.pos,o=n.pos,i=e.depth;i>=0;i--,r++)if(e.after(i+1)<e.end(i))break;for(var a=n.depth;a>=0;a--,o--)if(n.before(a+1)>n.start(a))break;return r==o&&/row|table/.test(e.node(i).type.spec.tableRole)}function H(t){for(var e,n,r=t.$from,o=t.$to,i=r.depth;i>0;i--){var a=r.node(i);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){e=a;break}}for(var s=o.depth;s>0;s--){var l=o.node(s);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}return e!==n&&0===o.parentOffset}function W(t,e,n){var r,o,a=(e||t).selection,s=(e||t).doc;if(a instanceof i["NodeSelection"]&&(o=a.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=B.create(s,a.from);else if("row"==o){var l=s.resolve(a.from+1);r=B.rowSelection(l,l)}else if(!n){var c=m.get(a.node),u=a.from+1,d=u+c.map[c.width*c.height-1];r=B.create(s,u+1,d)}}else a instanceof i["TextSelection"]&&q(a)?r=i["TextSelection"].create(s,a.from):a instanceof i["TextSelection"]&&H(a)&&(r=i["TextSelection"].create(s,a.$from.start(),a.$from.end()));return r&&(e||(e=t.tr)).setSelection(r),e}function U(t){if(!t.size)return null;var e=t.content,n=t.openStart,r=t.openEnd;while(1==e.childCount&&(n>0&&r>0||"table"==e.firstChild.type.spec.tableRole))n--,r--,e=e.firstChild.content;var o=e.firstChild,i=o.type.spec.tableRole,s=o.type.schema,l=[];if("row"==i)for(var c=0;c<e.childCount;c++){var u=e.child(c).content,d=c?0:Math.max(0,n-1),p=c<e.childCount-1?0:Math.max(0,r-1);(d||p)&&(u=K(S(s).row,new a["Slice"](u,d,p)).content),l.push(u)}else{if("cell"!=i&&"header_cell"!=i)return null;l.push(n||r?K(S(s).row,new a["Slice"](e,n,r)).content:e)}return J(s,l)}function J(t,e){for(var n=[],r=0;r<e.length;r++)for(var o=e[r],i=o.childCount-1;i>=0;i--)for(var s=o.child(i).attrs,l=s.rowspan,c=s.colspan,u=r;u<r+l;u++)n[u]=(n[u]||0)+c;for(var d=0,p=0;p<n.length;p++)d=Math.max(d,n[p]);for(var f=0;f<n.length;f++)if(f>=e.length&&e.push(a["Fragment"].empty),n[f]<d){for(var h=S(t).cell.createAndFill(),m=[],v=n[f];v<d;v++)m.push(h);e[f]=e[f].append(a["Fragment"].from(m))}return{height:e.length,width:d,rows:e}}function K(t,e){var n=t.createAndFill(),r=new c["e"](n).replace(0,n.content.size,e);return r.doc}function G(t,e,n){var r=t.width,o=t.height,i=t.rows;if(r!=e){for(var s=[],l=[],c=0;c<i.length;c++){for(var u=i[c],d=[],p=s[c]||0,f=0;p<e;f++){var h=u.child(f%u.childCount);p+h.attrs.colspan>e&&(h=h.type.create(D(h.attrs,h.attrs.colspan,p+h.attrs.colspan-e),h.content)),d.push(h),p+=h.attrs.colspan;for(var m=1;m<h.attrs.rowspan;m++)s[c+m]=(s[c+m]||0)+h.attrs.colspan}l.push(a["Fragment"].from(d))}i=l,r=e}if(o!=n){for(var v=[],g=0,y=0;g<n;g++,y++){for(var b=[],w=i[y%o],x=0;x<w.childCount;x++){var k=w.child(x);g+k.attrs.rowspan>n&&(k=k.type.create(P(k.attrs,"rowspan",Math.max(1,n-k.attrs.rowspan)),k.content)),b.push(k)}v.push(a["Fragment"].from(b))}i=v,o=n}return{width:r,height:o,rows:i}}function X(t,e,n,r,o,i,s){var l,c,u=t.doc.type.schema,d=S(u);if(o>e.width)for(var p=0,f=0;p<e.height;p++){var h=n.child(p);f+=h.nodeSize;var m=[],v=void 0;v=null==h.lastChild||h.lastChild.type==d.cell?l||(l=d.cell.createAndFill()):c||(c=d.header_cell.createAndFill());for(var g=e.width;g<o;g++)m.push(v);t.insert(t.mapping.slice(s).map(f-1+r),m)}if(i>e.height){for(var y=[],b=0,w=(e.height-1)*e.width;b<Math.max(e.width,o);b++){var x=!(b>=e.width)&&n.nodeAt(e.map[w+b]).type==d.header_cell;y.push(x?c||(c=d.header_cell.createAndFill()):l||(l=d.cell.createAndFill()))}for(var k=d.row.create(null,a["Fragment"].from(y)),_=[],C=e.height;C<i;C++)_.push(k);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),_)}return!(!l&&!c)}function Z(t,e,n,r,o,i,a,s){if(0==a||a==e.height)return!1;for(var l=!1,c=o;c<i;c++){var u=a*e.width+c,d=e.map[u];if(e.map[u-e.width]==d){l=!0;var p=n.nodeAt(d),f=e.findCell(d),h=f.top,m=f.left;t.setNodeMarkup(t.mapping.slice(s).map(d+r),null,P(p.attrs,"rowspan",a-h)),t.insert(t.mapping.slice(s).map(e.positionAt(a,m,n)),p.type.createAndFill(P(p.attrs,"rowspan",h+p.attrs.rowspan-a))),c+=p.attrs.colspan-1}}return l}function Y(t,e,n,r,o,i,a,s){if(0==a||a==e.width)return!1;for(var l=!1,c=o;c<i;c++){var u=c*e.width+a,d=e.map[u];if(e.map[u-1]==d){l=!0;var p=n.nodeAt(d),f=e.colCount(d),h=t.mapping.slice(s).map(d+r);t.setNodeMarkup(h,null,D(p.attrs,a-f,p.attrs.colspan-(a-f))),t.insert(h+p.nodeSize,p.type.createAndFill(D(p.attrs,0,a-f))),c+=p.attrs.rowspan-1}}return l}function Q(t,e,n,r,o){var i=n?t.doc.nodeAt(n-1):t.doc,s=m.get(i),l=r.top,c=r.left,u=c+o.width,d=l+o.height,p=t.tr,f=0;function h(){i=n?p.doc.nodeAt(n-1):p.doc,s=m.get(i),f=p.mapping.maps.length}X(p,s,i,n,u,d,f)&&h(),Z(p,s,i,n,c,u,l,f)&&h(),Z(p,s,i,n,c,u,d,f)&&h(),Y(p,s,i,n,l,d,c,f)&&h(),Y(p,s,i,n,l,d,u,f)&&h();for(var v=l;v<d;v++){var g=s.positionAt(v,c,i),y=s.positionAt(v,u,i);p.replace(p.mapping.slice(f).map(g+n),p.mapping.slice(f).map(y+n),new a["Slice"](o.rows[v-l],0,0))}h(),p.setSelection(new B(p.doc.resolve(n+s.positionAt(l,c,i)),p.doc.resolve(n+s.positionAt(d-1,u-1,i)))),e(p)}L.prototype.map=function(t){return new L(t.map(this.anchor),t.map(this.head))},L.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&R(e,n)?new B(e,n):i["Selection"].near(n,1)};var tt=Object(s["a"])({ArrowLeft:nt("horiz",-1),ArrowRight:nt("horiz",1),ArrowUp:nt("vert",-1),ArrowDown:nt("vert",1),"Shift-ArrowLeft":rt("horiz",-1),"Shift-ArrowRight":rt("horiz",1),"Shift-ArrowUp":rt("vert",-1),"Shift-ArrowDown":rt("vert",1),Backspace:ot,"Mod-Backspace":ot,Delete:ot,"Mod-Delete":ot});function et(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function nt(t,e){return function(n,r,o){var a=n.selection;if(a instanceof B)return et(n,r,i["Selection"].near(a.$headCell,e));if("horiz"!=t&&!a.empty)return!1;var s=lt(o,t,e);if(null==s)return!1;if("horiz"==t)return et(n,r,i["Selection"].near(n.doc.resolve(a.head+e),e));var l,c=n.doc.resolve(s),u=z(c,t,e);return l=u?i["Selection"].near(u,1):e<0?i["Selection"].near(n.doc.resolve(c.before(-1)),-1):i["Selection"].near(n.doc.resolve(c.after(-1)),1),et(n,r,l)}}function rt(t,e){return function(n,r,o){var i=n.selection;if(!(i instanceof B)){var a=lt(o,t,e);if(null==a)return!1;i=new B(n.doc.resolve(a))}var s=z(i.$headCell,t,e);return!!s&&et(n,r,new B(i.$anchorCell,s))}}function ot(t,e){var n=t.selection;if(!(n instanceof B))return!1;if(e){var r=t.tr,o=S(t.schema).cell.createAndFill().content;n.forEachCell((function(t,e){t.content.eq(o)||r.replace(r.mapping.map(e+1),r.mapping.map(e+t.nodeSize-1),new a["Slice"](o,0,0))})),r.docChanged&&e(r)}return!0}function it(t,e){var n=t.state.doc,r=C(n.resolve(e));return!!r&&(t.dispatch(t.state.tr.setSelection(new B(r))),!0)}function at(t,e,n){if(!M(t.state))return!1;var r=U(n),o=t.state.selection;if(o instanceof B){r||(r={width:1,height:1,rows:[a["Fragment"].from(K(S(t.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),l=m.get(i).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return r=G(r,l.right-l.left,l.bottom-l.top),Q(t.state,t.dispatch,s,l,r),!0}if(r){var c=E(t.state),u=c.start(-1);return Q(t.state,t.dispatch,u,m.get(c.node(-1)).findCell(c.pos-u),r),!0}return!1}function st(t,e){if(!e.ctrlKey&&!e.metaKey){var n,r=ct(t,e.target);if(e.shiftKey&&t.state.selection instanceof B)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&null!=(n=C(t.state.selection.$anchor))&&ut(t,e).pos!=n.pos)o(n,e),e.preventDefault();else if(!r)return;t.root.addEventListener("mouseup",i),t.root.addEventListener("dragstart",i),t.root.addEventListener("mousemove",a)}function o(e,n){var r=ut(t,n),o=null==_.getState(t.state);if(!r||!R(e,r)){if(!o)return;r=e}var i=new B(e,r);if(o||!t.state.selection.eq(i)){var a=t.state.tr.setSelection(i);o&&a.setMeta(_,e.pos),t.dispatch(a)}}function i(){t.root.removeEventListener("mouseup",i),t.root.removeEventListener("dragstart",i),t.root.removeEventListener("mousemove",a),null!=_.getState(t.state)&&t.dispatch(t.state.tr.setMeta(_,-1))}function a(n){var a,s=_.getState(t.state);if(null!=s)a=t.state.doc.resolve(s);else if(ct(t,n.target)!=r&&(a=ut(t,e),!a))return i();a&&o(a,n)}}function lt(t,e,n){if(!(t.state.selection instanceof i["TextSelection"]))return null;for(var r=t.state.selection,o=r.$head,a=o.depth-1;a>=0;a--){var s=o.node(a),l=n<0?o.index(a):o.indexAfter(a);if(l!=(n<0?0:s.childCount))return null;if("cell"==s.type.spec.tableRole||"header_cell"==s.type.spec.tableRole){var c=o.before(a),u="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(u)?c:null}}return null}function ct(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e}function ut(t,e){var n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?C(t.state.doc.resolve(n.pos)):null}var dt=new i["PluginKey"]("fix-tables");function pt(t,e,n,r){var o=t.childCount,i=e.childCount;t:for(var a=0,s=0;a<i;a++){for(var l=e.child(a),c=s,u=Math.min(o,a+3);c<u;c++)if(t.child(c)==l){s=c+1,n+=l.nodeSize;continue t}r(l,n),s<o&&t.child(s).sameMarkup(l)?pt(t.child(s),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function ft(t,e){var n,r=function(e,r){"table"==e.type.spec.tableRole&&(n=ht(t,e,r,n))};return e?e.doc!=t.doc&&pt(e.doc,t.doc,0,r):t.doc.descendants(r),n}function ht(t,e,n,r){var o=m.get(e);if(!o.problems)return r;r||(r=t.tr);for(var i,a,s=[],l=0;l<o.height;l++)s.push(0);for(var c=0;c<o.problems.length;c++){var u=o.problems[c];if("collision"==u.type){for(var d=e.nodeAt(u.pos),p=0;p<d.attrs.rowspan;p++)s[u.row+p]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,D(d.attrs,d.attrs.colspan-u.n,u.n))}else if("missing"==u.type)s[u.row]+=u.n;else if("overlong_rowspan"==u.type){var f=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,P(f.attrs,"rowspan",f.attrs.rowspan-u.n))}else if("colwidth mismatch"==u.type){var h=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,P(h.attrs,"colwidth",u.colwidth))}}for(var v=0;v<s.length;v++)s[v]&&(null==i&&(i=v),a=v);for(var g=0,y=n+1;g<o.height;g++){var b=e.child(g),w=y+b.nodeSize,x=s[g];if(x>0){var k="cell";b.firstChild&&(k=b.firstChild.type.spec.tableRole);for(var _=[],C=0;C<x;C++)_.push(S(t.schema)[k].createAndFill());var O=0!=g&&i!=g-1||a!=g?w-1:y+1;r.insert(r.mapping.map(O),_)}y=w}return r.setMeta(dt,{fixTables:!0})}function mt(t){var e,n=t.selection,r=E(t),o=r.node(-1),i=r.start(-1),a=m.get(o);return e=n instanceof B?a.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):a.findCell(r.pos-i),e.tableStart=i,e.map=a,e.table=o,e}function vt(t,e,n){var r=e.map,o=e.tableStart,i=e.table,a=n>0?-1:0;F(r,i,n+a)&&(a=0==n||n==r.width?null:0);for(var s=0;s<r.height;s++){var l=s*r.width+n;if(n>0&&n<r.width&&r.map[l-1]==r.map[l]){var c=r.map[l],u=i.nodeAt(c);t.setNodeMarkup(t.mapping.map(o+c),null,$(u.attrs,n-r.colCount(c))),s+=u.attrs.rowspan-1}else{var d=null==a?S(i.type.schema).cell:i.nodeAt(r.map[l+a]).type,p=r.positionAt(s,n,i);t.insert(t.mapping.map(o+p),d.createAndFill())}}return t}function gt(t,e){if(!M(t))return!1;if(e){var n=mt(t);e(vt(t.tr,n,n.left))}return!0}function yt(t,e){if(!M(t))return!1;if(e){var n=mt(t);e(vt(t.tr,n,n.right))}return!0}function bt(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,a=t.mapping.maps.length,s=0;s<r.height;){var l=s*r.width+n,c=r.map[l],u=o.nodeAt(c);if(n>0&&r.map[l-1]==c||n<r.width-1&&r.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(a).map(i+c),null,D(u.attrs,n-r.colCount(c)));else{var d=t.mapping.slice(a).map(i+c);t.delete(d,d+u.nodeSize)}s+=u.attrs.rowspan}}function wt(t,e){if(!M(t))return!1;if(e){var n=mt(t),r=t.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;;o--){if(bt(r,n,o),o==n.left)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=m.get(n.table)}e(r)}return!0}function xt(t,e,n){for(var r=S(e.type.schema).header_cell,o=0;o<t.width;o++)if(e.nodeAt(t.map[o+n*t.width]).type!=r)return!1;return!0}function kt(t,e,n){for(var r=e.map,o=e.tableStart,i=e.table,a=o,s=0;s<n;s++)a+=i.child(s).nodeSize;var l=[],c=n>0?-1:0;xt(r,i,n+c)&&(c=0==n||n==r.height?null:0);for(var u=0,d=r.width*n;u<r.width;u++,d++)if(n>0&&n<r.height&&r.map[d]==r.map[d-r.width]){var p=r.map[d],f=i.nodeAt(p).attrs;t.setNodeMarkup(o+p,null,P(f,"rowspan",f.rowspan+1)),u+=f.colspan-1}else{var h=null==c?S(i.type.schema).cell:i.nodeAt(r.map[d+c*r.width]).type;l.push(h.createAndFill())}return t.insert(a,S(i.type.schema).row.create(null,l)),t}function St(t,e){if(!M(t))return!1;if(e){var n=mt(t);e(kt(t.tr,n,n.top))}return!0}function _t(t,e){if(!M(t))return!1;if(e){var n=mt(t);e(kt(t.tr,n,n.bottom))}return!0}function Ct(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,a=0,s=0;s<n;s++)a+=o.child(s).nodeSize;var l=a+o.child(n).nodeSize,c=t.mapping.maps.length;t.delete(a+i,l+i);for(var u=0,d=n*r.width;u<r.width;u++,d++){var p=r.map[d];if(n>0&&p==r.map[d-r.width]){var f=o.nodeAt(p).attrs;t.setNodeMarkup(t.mapping.slice(c).map(p+i),null,P(f,"rowspan",f.rowspan-1)),u+=f.colspan-1}else if(n<r.width&&p==r.map[d+r.width]){var h=o.nodeAt(p),m=h.type.create(P(h.attrs,"rowspan",h.attrs.rowspan-1),h.content),v=r.positionAt(n+1,u,o);t.insert(t.mapping.slice(c).map(i+v),m),u+=h.attrs.colspan-1}}}function Ot(t,e){if(!M(t))return!1;if(e){var n=mt(t),r=t.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;;o--){if(Ct(r,n,o),o==n.top)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=m.get(n.table)}e(r)}return!0}function Mt(t){var e=t.content;return 1==e.childCount&&e.firstChild.isTextblock&&0==e.firstChild.childCount}function Et(t,e){for(var n=t.width,r=t.height,o=t.map,i=e.top*n+e.left,a=i,s=(e.bottom-1)*n+e.left,l=i+(e.right-e.left-1),c=e.top;c<e.bottom;c++){if(e.left>0&&o[a]==o[a-1]||e.right<n&&o[l]==o[l+1])return!0;a+=n,l+=n}for(var u=e.left;u<e.right;u++){if(e.top>0&&o[i]==o[i-n]||e.bottom<r&&o[s]==o[s+n])return!0;i++,s++}return!1}function Tt(t,e){var n=t.selection;if(!(n instanceof B)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=mt(t),o=r.map;if(Et(o,r))return!1;if(e){for(var i,s,l=t.tr,c={},u=a["Fragment"].empty,d=r.top;d<r.bottom;d++)for(var p=r.left;p<r.right;p++){var f=o.map[d*o.width+p],h=r.table.nodeAt(f);if(!c[f])if(c[f]=!0,null==i)i=f,s=h;else{Mt(h)||(u=u.append(h.content));var m=l.mapping.map(f+r.tableStart);l.delete(m,m+h.nodeSize)}}if(l.setNodeMarkup(i+r.tableStart,null,P($(s.attrs,s.attrs.colspan,r.right-r.left-s.attrs.colspan),"rowspan",r.bottom-r.top)),u.size){var v=i+1+s.content.size,g=Mt(s)?i+1:v;l.replaceWith(g+r.tableStart,v+r.tableStart,u)}l.setSelection(new B(l.doc.resolve(i+r.tableStart))),e(l)}return!0}function At(t,e){var n=S(t.schema);return Nt((function(t){var e=t.node;return n[e.type.spec.tableRole]}))(t,e)}function Nt(t){return function(e,n){var r,o,i=e.selection;if(i instanceof B){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(r=O(i.$from),!r)return!1;o=C(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){var a=r.attrs,s=[],l=a.colwidth;a.rowspan>1&&(a=P(a,"rowspan",1)),a.colspan>1&&(a=P(a,"colspan",1));for(var c,u=mt(e),d=e.tr,p=0;p<u.right-u.left;p++)s.push(l?P(a,"colwidth",l&&l[p]?[l[p]]:null):a);for(var f=u.top;f<u.bottom;f++){var h=u.map.positionAt(f,u.left,u.table);f==u.top&&(h+=r.nodeSize);for(var m=u.left,v=0;m<u.right;m++,v++)m==u.left&&f==u.top||d.insert(c=d.mapping.map(h+u.tableStart,1),t({node:r,row:f,col:m}).createAndFill(s[v]))}d.setNodeMarkup(o,t({node:r,row:u.top,col:u.left}),s[0]),i instanceof B&&d.setSelection(new B(d.doc.resolve(i.$anchorCell.pos),c&&d.doc.resolve(c))),n(d)}return!0}}function Rt(t,e){return function(n,r){if(!M(n))return!1;var o=E(n);if(o.nodeAfter.attrs[t]===e)return!1;if(r){var i=n.tr;n.selection instanceof B?n.selection.forEachCell((function(n,r){n.attrs[t]!==e&&i.setNodeMarkup(r,null,P(n.attrs,t,e))})):i.setNodeMarkup(o.pos,null,P(o.nodeAfter.attrs,t,e)),r(i)}return!0}}function It(t){return function(e,n){if(!M(e))return!1;if(n){for(var r=S(e.schema),o=mt(e),i=e.tr,a=o.map.cellsInRect("column"==t?new h(o.left,0,o.right,o.map.height):"row"==t?new h(0,o.top,o.map.width,o.bottom):o),s=a.map((function(t){return o.table.nodeAt(t)})),l=0;l<a.length;l++)s[l].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[l],r.cell,s[l].attrs);if(0==i.steps.length)for(var c=0;c<a.length;c++)i.setNodeMarkup(o.tableStart+a[c],r.header_cell,s[c].attrs);n(i)}return!0}}function jt(t,e,n){for(var r=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1}),o=0;o<r.length;o++){var i=e.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function zt(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?It(t):function(e,n){if(!M(e))return!1;if(n){var r=S(e.schema),o=mt(e),i=e.tr,a=jt("row",o,r),s=jt("column",o,r),l="column"===t?a:"row"===t&&s,c=l?1:0,u="column"==t?new h(0,c,1,o.map.height):"row"==t?new h(c,0,o.map.width,1):o,d="column"==t?s?r.cell:r.header_cell:"row"==t?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(u).forEach((function(t){var e=t+o.tableStart,n=i.doc.nodeAt(e);n&&i.setNodeMarkup(e,d,n.attrs)})),n(i)}return!0}}var Pt=zt("row",{useDeprecatedLogic:!0}),Dt=zt("column",{useDeprecatedLogic:!0}),$t=zt("cell",{useDeprecatedLogic:!0});function Ft(t,e){if(e<0){var n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(var r=t.index(-1)-1,o=t.before();r>=0;r--){var i=t.node(-1).child(r);if(i.childCount)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;for(var a=t.node(-1),s=t.indexAfter(-1),l=t.after();s<a.childCount;s++){var c=a.child(s);if(c.childCount)return l+1;l+=c.nodeSize}}}function Bt(t){return function(e,n){if(!M(e))return!1;var r=Ft(E(e),t);if(null!=r){if(n){var o=e.doc.resolve(r);n(e.tr.setSelection(i["TextSelection"].between(o,N(o))).scrollIntoView())}return!0}}}function Lt(t,e){for(var n=t.selection.$anchor,r=n.depth;r>0;r--){var o=n.node(r);if("table"==o.type.spec.tableRole)return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}var Vt=function(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),qt(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function qt(t,e,n,r,o,i){for(var a=0,s=!0,l=e.firstChild,c=t.firstChild,u=0,d=0;u<c.childCount;u++)for(var p=c.child(u).attrs,f=p.colspan,h=p.colwidth,m=0;m<f;m++,d++){var v=o==d?i:h&&h[m],g=v?v+"px":"";a+=v||r,v||(s=!1),l?(l.style.width!=g&&(l.style.width=g),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=g}while(l){var y=l.nextSibling;l.parentNode.removeChild(l),l=y}s?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}Vt.prototype.update=function(t){return t.type==this.node.type&&(this.node=t,qt(t,this.colgroup,this.table,this.cellMinWidth),!0)},Vt.prototype.ignoreMutation=function(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))};var Ht=new i["PluginKey"]("tableColumnResizing");function Wt(t){void 0===t&&(t={});var e=t.handleWidth;void 0===e&&(e=5);var n=t.cellMinWidth;void 0===n&&(n=25);var r=t.View;void 0===r&&(r=Vt);var o=t.lastColumnResizable;void 0===o&&(o=!0);var a=new i["Plugin"]({key:Ht,state:{init:function(t,e){return this.spec.props.nodeViews[S(e.schema).table.name]=function(t,e){return new r(t,n,e)},new Ut(-1,!1)},apply:function(t,e){return e.apply(t)}},props:{attributes:function(t){var e=Ht.getState(t);return e.activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(t,r){Jt(t,r,e,n,o)},mouseleave:function(t){Kt(t)},mousedown:function(t,e){Gt(t,e,n)}},decorations:function(t){var e=Ht.getState(t);if(e.activeHandle>-1)return oe(t,e.activeHandle)},nodeViews:{}}});return a}var Ut=function(t,e){this.activeHandle=t,this.dragging=e};function Jt(t,e,n,r,o){var i=Ht.getState(t.state);if(!i.dragging){var a=Zt(e.target),s=-1;if(a){var l=a.getBoundingClientRect(),c=l.left,u=l.right;e.clientX-c<=n?s=Yt(t,e,"left"):u-e.clientX<=n&&(s=Yt(t,e,"right"))}if(s!=i.activeHandle){if(!o&&-1!==s){var d=t.state.doc.resolve(s),p=d.node(-1),f=m.get(p),h=d.start(-1),v=f.colCount(d.pos-h)+d.nodeAfter.attrs.colspan-1;if(v==f.width-1)return}te(t,s)}}}function Kt(t){var e=Ht.getState(t.state);e.activeHandle>-1&&!e.dragging&&te(t,-1)}function Gt(t,e,n){var r=Ht.getState(t.state);if(-1==r.activeHandle||r.dragging)return!1;var o=t.state.doc.nodeAt(r.activeHandle),i=Xt(t,r.activeHandle,o.attrs);function a(e){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",s);var r=Ht.getState(t.state);r.dragging&&(ee(t,r.activeHandle,Qt(r.dragging,e,n)),t.dispatch(t.state.tr.setMeta(Ht,{setDragging:null})))}function s(e){if(!e.which)return a(e);var r=Ht.getState(t.state),o=Qt(r.dragging,e,n);ne(t,r.activeHandle,o,n)}return t.dispatch(t.state.tr.setMeta(Ht,{setDragging:{startX:e.clientX,startWidth:i}})),window.addEventListener("mouseup",a),window.addEventListener("mousemove",s),e.preventDefault(),!0}function Xt(t,e,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=t.domAtPos(e),s=a.node.childNodes[a.offset],l=s.offsetWidth,c=r;if(o)for(var u=0;u<r;u++)o[u]&&(l-=o[u],c--);return l/c}function Zt(t){while(t&&"TD"!=t.nodeName&&"TH"!=t.nodeName)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}function Yt(t,e,n){var r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;var o=r.pos,i=C(t.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;var a=m.get(i.node(-1)),s=i.start(-1),l=a.map.indexOf(i.pos-s);return l%a.width==0?-1:s+a.map[l-1]}function Qt(t,e,n){var r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function te(t,e){t.dispatch(t.state.tr.setMeta(Ht,{setHandle:e}))}function ee(t,e,n){for(var r=t.state.doc.resolve(e),o=r.node(-1),i=m.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=t.state.tr,c=0;c<i.height;c++){var u=c*i.width+s;if(!c||i.map[u]!=i.map[u-i.width]){var d=i.map[u],p=o.nodeAt(d),f=p.attrs,h=1==f.colspan?0:s-i.colCount(d);if(!f.colwidth||f.colwidth[h]!=n){var v=f.colwidth?f.colwidth.slice():re(f.colspan);v[h]=n,l.setNodeMarkup(a+d,null,P(f,"colwidth",v))}}}l.docChanged&&t.dispatch(l)}function ne(t,e,n,r){var o=t.state.doc.resolve(e),i=o.node(-1),a=o.start(-1),s=m.get(i).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,l=t.domAtPos(o.start(-1)).node;while("TABLE"!=l.nodeName)l=l.parentNode;qt(i,l.firstChild,l,r,s,n)}function re(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function oe(t,e){for(var n=[],r=t.doc.resolve(e),o=r.node(-1),i=m.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan,c=0;c<i.height;c++){var u=s+c*i.width-1;if((s==i.width||i.map[u]!=i.map[u+1])&&(0==c||i.map[u-1]!=i.map[u-1-i.width])){var d=i.map[u],p=a+d+o.nodeAt(d).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",n.push(l["a"].widget(p,f))}}return l["b"].create(t.doc,n)}function ie(t){void 0===t&&(t={});var e=t.allowTableNodeSelection;return void 0===e&&(e=!1),new i["Plugin"]({key:_,state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(_);if(null!=n)return-1==n?null:n;if(null==e||!t.docChanged)return e;var r=t.mapping.mapResult(e),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:V,handleDOMEvents:{mousedown:st},createSelectionBetween:function(t){if(null!=_.getState(t.state))return t.state.selection},handleTripleClick:it,handleKeyDown:tt,handlePaste:at},appendTransaction:function(t,n,r){return W(r,ft(r,n),e)}})}Ut.prototype.apply=function(t){var e=this,n=t.getMeta(Ht);if(n&&null!=n.setHandle)return new Ut(n.setHandle,null);if(n&&void 0!==n.setDragging)return new Ut(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){var r=t.mapping.map(e.activeHandle,-1);A(t.doc.resolve(r))||(r=null),e=new Ut(r,e.dragging)}return e}},5764:function(t,e,n){"use strict";n("ba0c")},"576a":function(t,e,n){"use strict";n.d(e,"a",(function(){return Sn})),n.d(e,"b",(function(){return Mn})),n.d(e,"c",(function(){return Bn}));var r=n("5313"),o=n("304a"),i=n("0ac0"),a={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var s=/Edge\/(\d+)/.exec(navigator.userAgent),l=/MSIE \d/.test(navigator.userAgent),c=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);a.mac=/Mac/.test(navigator.platform);var u=a.ie=!!(l||c||s);a.ie_version=l?document.documentMode||6:c?+c[1]:s?+s[1]:null,a.gecko=!u&&/gecko\/(\d+)/i.test(navigator.userAgent),a.gecko_version=a.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var d=!u&&/Chrome\/(\d+)/.exec(navigator.userAgent);a.chrome=!!d,a.chrome_version=d&&+d[1],a.safari=!u&&/Apple Computer/.test(navigator.vendor),a.ios=a.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),a.android=/Android \d/.test(navigator.userAgent),a.webkit="webkitFontSmoothing"in document.documentElement.style,a.webkit_version=a.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var p=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},f=function(t){var e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e},h=null,m=function(t,e,n){var r=h||(h=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},v=function(t,e,n,r){return n&&(y(t,e,n,r,-1)||y(t,e,n,r,1))},g=/^(img|br|input|textarea|hr)$/i;function y(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:b(t))){var i=t.parentNode;if(1!=i.nodeType||x(t)||g.test(t.nodeName)||"false"==t.contentEditable)return!1;e=p(t)+(o<0?0:1),t=i}else{if(1!=t.nodeType)return!1;if(t=t.childNodes[e+(o<0?-1:0)],"false"==t.contentEditable)return!1;e=o<0?b(t):0}}}function b(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function w(t,e,n){for(var r=0==e,o=e==b(t);r||o;){if(t==n)return!0;var i=p(t);if(t=t.parentNode,!t)return!1;r=r&&0==i,o=o&&i==b(t)}}function x(t){for(var e,n=t;n;n=n.parentNode)if(e=n.pmViewDesc)break;return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var k=function(t){var e=t.isCollapsed;return e&&a.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function S(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function _(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function C(t,e){return"number"==typeof t?t:t[e]}function O(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function M(t,e,n){for(var r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,a=n||t.dom;;a=f(a)){if(!a)break;if(1==a.nodeType){var s=a==i.body||1!=a.nodeType,l=s?_(i):O(a),c=0,u=0;if(e.top<l.top+C(r,"top")?u=-(l.top-e.top+C(o,"top")):e.bottom>l.bottom-C(r,"bottom")&&(u=e.bottom-l.bottom+C(o,"bottom")),e.left<l.left+C(r,"left")?c=-(l.left-e.left+C(o,"left")):e.right>l.right-C(r,"right")&&(c=e.right-l.right+C(o,"right")),c||u)if(s)i.defaultView.scrollBy(c,u);else{var d=a.scrollLeft,p=a.scrollTop;u&&(a.scrollTop+=u),c&&(a.scrollLeft+=c);var h=a.scrollLeft-d,m=a.scrollTop-p;e={left:e.left-h,top:e.top-m,right:e.right-h,bottom:e.bottom-m}}if(s)break}}}function E(t){for(var e,n,r=t.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){var s=t.root.elementFromPoint(i,a);if(s!=t.dom&&t.dom.contains(s)){var l=s.getBoundingClientRect();if(l.top>=o-20){e=s,n=l.top;break}}}return{refDOM:e,refTop:n,stack:T(t.dom)}}function T(t){for(var e=[],n=t.ownerDocument;t;t=f(t))if(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t==n)break;return e}function A(t){var e=t.refDOM,n=t.refTop,r=t.stack,o=e?e.getBoundingClientRect().top:0;N(r,0==o?0:o-n)}function N(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=r.dom,i=r.top,a=r.left;o.scrollTop!=i+e&&(o.scrollTop=i+e),o.scrollLeft!=a&&(o.scrollLeft=a)}}var R=null;function I(t){if(t.setActive)return t.setActive();if(R)return t.focus(R);var e=T(t);t.focus(null==R?{get preventScroll(){return R={preventScroll:!0},!0}}:void 0),R||(R=!1,N(e,0))}function j(t,e){for(var n,r,o=2e8,i=0,a=e.top,s=e.top,l=t.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=m(l).getClientRects()}for(var d=0;d<u.length;d++){var p=u[d];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);var f=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(f<o){n=l,o=f,r=f&&3==n.nodeType?{left:p.right<e.left?p.right:p.left,top:e.top}:e,1==l.nodeType&&f&&(i=c+(e.left>=(p.left+p.right)/2?1:0));continue}}!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(i=c+1)}}return n&&3==n.nodeType?z(n,r):!n||o&&1==n.nodeType?{node:t,offset:i}:j(n,r)}function z(t,e){for(var n=t.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);var i=V(r,1);if(i.top!=i.bottom&&P(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function P(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function D(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function $(t,e,n){var r=j(e,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var s=o.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(o,i,a)}function F(t,e,n,r){for(var o=-1,i=e;;){if(i==t.dom)break;var a=t.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)o=a.posBefore;else{if(!(s.right<r.left||s.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}function B(t,e,n){var r=t.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=o;;){var a=t.childNodes[i];if(1==a.nodeType)for(var s=a.getClientRects(),l=0;l<s.length;l++){var c=s[l];if(P(e,c))return B(a,e,c)}if((i=(i+1)%r)==o)break}return t}function L(t,e){var n,r,o,i,s=t.root;if(s.caretPositionFromPoint)try{var l=s.caretPositionFromPoint(e.left,e.top);l&&(n=l,o=n.offsetNode,i=n.offset)}catch(y){}if(!o&&s.caretRangeFromPoint){var c=s.caretRangeFromPoint(e.left,e.top);c&&(r=c,o=r.startContainer,i=r.startOffset)}var u,d=s.elementFromPoint(e.left,e.top+1);if(!d||!t.dom.contains(1!=d.nodeType?d.parentNode:d)){var p=t.dom.getBoundingClientRect();if(!P(e,p))return null;if(d=B(t.dom,e,p),!d)return null}if(a.safari)for(var h=d;o&&h;h=f(h))h.draggable&&(o=i=null);if(d=D(d,e),o){if(a.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length),i<o.childNodes.length)){var m,v=o.childNodes[i];"IMG"==v.nodeName&&(m=v.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}o==t.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&e.top>o.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(u=F(t,o,i,e))}null==u&&(u=$(t,d,e));var g=t.docView.nearestDesc(d,!0);return{pos:u,inside:g?g.posAtStart-g.border:-1}}function V(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}var q=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function H(t,e,n){var r=t.docView.domFromPos(e,n<0?-1:1),o=r.node,i=r.offset,s=a.webkit||a.gecko;if(3==o.nodeType){if(!s||!q.test(o.nodeValue)&&(n<0?i:i!=o.nodeValue.length)){var l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==o.nodeValue.length?(l--,u=1):n<0?l--:c++,W(V(m(o,l,c),u),u<0)}var d=V(m(o,i,i),n);if(a.gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var p=V(m(o,i-1,i-1),-1);if(p.top==d.top){var f=V(m(o,i,i+1),-1);if(f.top!=d.top)return W(f,f.left<p.left)}}return d}if(!t.state.doc.resolve(e).parent.inlineContent){if(i&&(n<0||i==b(o))){var h=o.childNodes[i-1];if(1==h.nodeType)return U(h.getBoundingClientRect(),!1)}if(i<b(o)){var v=o.childNodes[i];if(1==v.nodeType)return U(v.getBoundingClientRect(),!0)}return U(o.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==b(o))){var g=o.childNodes[i-1],y=3==g.nodeType?m(g,b(g)-(s?0:1)):1!=g.nodeType||"BR"==g.nodeName&&g.nextSibling?null:g;if(y)return W(V(y,1),!1)}if(i<b(o)){var w=o.childNodes[i],x=3==w.nodeType?m(w,0,s?0:1):1==w.nodeType?w:null;if(x)return W(V(x,-1),!0)}return W(V(3==o.nodeType?m(o):o,-n),n>=0)}function W(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function U(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function J(t,e,n){var r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function K(t,e,n){var r=e.selection,o="up"==n?r.$from:r.$to;return J(t,e,(function(){for(var e=t.docView.domFromPos(o.pos,"up"==n?-1:1),r=e.node;;){var i=t.docView.nearestDesc(r,!0);if(!i)break;if(i.node.isBlock){r=i.dom;break}r=i.dom.parentNode}for(var a=H(t,o.pos,1),s=r.firstChild;s;s=s.nextSibling){var l=void 0;if(1==s.nodeType)l=s.getClientRects();else{if(3!=s.nodeType)continue;l=m(s,0,s.nodeValue.length).getClientRects()}for(var c=0;c<l.length;c++){var u=l[c];if(u.bottom>u.top&&("up"==n?u.bottom<a.top+1:u.top>a.bottom-1))return!1}}return!0}))}var G=/[\u0590-\u08ac]/;function X(t,e,n){var r=e.selection,o=r.$head;if(!o.parent.isTextblock)return!1;var i=o.parentOffset,a=!i,s=i==o.parent.content.size,l=getSelection();return G.test(o.parent.textContent)&&l.modify?J(t,e,(function(){var e=l.getRangeAt(0),r=l.focusNode,i=l.focusOffset,a=l.caretBidiLevel;l.modify("move",n,"character");var s=o.depth?t.docView.domAfterPos(o.before()):t.dom,c=!s.contains(1==l.focusNode.nodeType?l.focusNode:l.focusNode.parentNode)||r==l.focusNode&&i==l.focusOffset;return l.removeAllRanges(),l.addRange(e),null!=a&&(l.caretBidiLevel=a),c})):"left"==n||"backward"==n?a:s}var Z=null,Y=null,Q=!1;function tt(t,e,n){return Z==e&&Y==n?Q:(Z=e,Y=n,Q="up"==n||"down"==n?K(t,e,n):X(t,e,n))}var et=0,nt=1,rt=2,ot=3,it=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=et},at={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0}};it.prototype.matchesWidget=function(){return!1},it.prototype.matchesMark=function(){return!1},it.prototype.matchesNode=function(){return!1},it.prototype.matchesHack=function(t){return!1},at.beforePosition.get=function(){return!1},it.prototype.parseRule=function(){return null},it.prototype.stopEvent=function(){return!1},at.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},at.border.get=function(){return 0},it.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},it.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},at.posBefore.get=function(){return this.parent.posBeforeChild(this)},at.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},at.posAfter.get=function(){return this.posBefore+this.size},at.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},it.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,o;if(t==this.contentDOM)r=t.childNodes[e-1];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;r=t.previousSibling}while(r&&(!(o=r.pmViewDesc)||o.parent!=this))r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,a;if(t==this.contentDOM)i=t.childNodes[e];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;i=t.nextSibling}while(i&&(!(a=i.pmViewDesc)||a.parent!=this))i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var s;if(t==this.dom&&this.contentDOM)s=e>p(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var l=t;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.parentNode.firstChild!=l)break}if(null==s&&e==t.childNodes.length)for(var c=t;;c=c.parentNode){if(c==this.dom){s=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},it.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==t.nodeType?t:t.parentNode):o.nodeDOM==t))return o;n=!1}}},it.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},it.prototype.posFromDOM=function(t,e,n){for(var r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}return-1},it.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],o=n+r.size;if(n==t&&o!=n){while(!r.border&&r.children.length)r=r.children[0];return r}if(t<o)return r.descAt(t-n-r.border);n=o}},it.prototype.domFromPos=function(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,o=!0;;r++,o=!1){while(r<this.children.length&&(this.children[r].beforePosition||this.children[r].dom.parentNode!=this.contentDOM))n+=this.children[r++].size;var i=r==this.children.length?null:this.children[r];if(n==t&&(0==e||!i||!i.size||i.border||e<0&&o)||i&&i.domAtom&&t<n+i.size)return{node:this.contentDOM,offset:i?p(i.dom):this.contentDOM.childNodes.length};if(!i)throw new Error("Invalid position "+t);var a=n+i.size;if(!i.domAtom&&(e<0&&!i.border?a>=t:a>t)&&(a>t||r+1>=this.children.length||!this.children[r+1].beforePosition))return i.domFromPos(t-n-i.border,e);n=a}},it.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var s=this.children[a],l=i+s.size;if(-1==r&&t<=l){var c=i+s.border;if(t>=c&&e<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(t,e,c);t=i;for(var u=a;u>0;u--){var d=this.children[u-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=p(d.dom)+1;break}t-=d.size}-1==r&&(r=0)}if(r>-1&&(l>e||a==this.children.length-1)){e=l;for(var f=a+1;f<this.children.length;f++){var h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=p(h.dom);break}e+=h.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}},it.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},it.prototype.domAfterPos=function(t){var e=this.domFromPos(t,0),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},it.prototype.setSelection=function(t,e,n,r){for(var o=Math.min(t,e),i=Math.max(t,e),s=0,l=0;s<this.children.length;s++){var c=this.children[s],u=l+c.size;if(o>l&&i<u)return c.setSelection(t-l-c.border,e-l-c.border,n,r);l=u}var d=this.domFromPos(t,t?-1:1),f=e==t?d:this.domFromPos(e,e?-1:1),h=n.getSelection(),m=!1;if((a.gecko||a.safari)&&t==e){var g=d.node,y=d.offset;if(3==g.nodeType){if(m=y&&"\n"==g.nodeValue[y-1],m&&y==g.nodeValue.length)for(var b=g,w=void 0;b;b=b.parentNode){if(w=b.nextSibling){"BR"==w.nodeName&&(d=f={node:w.parentNode,offset:p(w)+1});break}var x=b.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{var k=g.childNodes[y-1];m=k&&("BR"==k.nodeName||"false"==k.contentEditable)}}if(a.gecko&&h.focusNode&&h.focusNode!=f.node&&1==h.focusNode.nodeType){var S=h.focusNode.childNodes[h.focusOffset];S&&"false"==S.contentEditable&&(r=!0)}if(r||m&&a.safari||!v(d.node,d.offset,h.anchorNode,h.anchorOffset)||!v(f.node,f.offset,h.focusNode,h.focusOffset)){var _=!1;if((h.extend||t==e)&&!m){h.collapse(d.node,d.offset);try{t!=e&&h.extend(f.node,f.offset),_=!0}catch(M){if(!(M instanceof DOMException))throw M}}if(!_){if(t>e){var C=d;d=f,f=C}var O=document.createRange();O.setEnd(f.node,f.offset),O.setStart(d.node,d.offset),h.removeAllRanges(),h.addRange(O)}}},it.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},at.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},it.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?t<=i&&e>=n:t<i&&e>n){var a=n+o.border,s=i-o.border;if(t>=a&&e<=s)return this.dirty=t==n||e==i?rt:nt,void(t!=a||e!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(t-a,e-a):o.dirty=ot);o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM?rt:ot}n=i}this.dirty=rt},it.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?rt:nt;e.dirty<n&&(e.dirty=n)}},at.domAtom.get=function(){return!1},Object.defineProperties(it.prototype,at);var st=[],lt=function(t){function e(e,n,r,o){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}t.call(this,e,st,a,null),this.widget=n,i=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{configurable:!0},domAtom:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return this.dirty==et&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(it),ct=function(t){function e(e,n,r,o){t.call(this,e,st,n,null),this.textDOM=r,this.text=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(it),ut=function(t){function e(e,n,r,o){t.call(this,e,[],r,o),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,r,i){var a=i.nodeViews[n.type.name],s=a&&a(n,i,r);return s&&s.dom||(s=o["DOMSerializer"].renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return this.dirty!=ot&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),this.dirty!=et){var r=this.parent;while(!r.node)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=et}},e.prototype.slice=function(t,n,r){var o=e.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=Rt(i,n,a,r)),t>0&&(i=Rt(i,0,t,r));for(var s=0;s<i.length;s++)i[s].parent=o;return o.children=i,o},e}(it),dt=function(t){function e(e,n,r,o,i,a,s,l,c){t.call(this,e,n.isLeaf?st:[],i,a),this.nodeDOM=s,this.node=n,this.outerDeco=r,this.innerDeco=o,a&&this.updateChildren(l,c)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(t,n,r,i,a,s){var l,c,u=a.nodeViews[n.type.name],d=u&&u(n,a,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:s}),r,i),p=d&&d.dom,f=d&&d.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(n.text);else p||(l=o["DOMSerializer"].renderSpec(document,n.type.spec.toDOM(n)),p=l.dom,f=l.contentDOM);f||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var h=p;return p=kt(p,r,n),d?c=new mt(t,n,r,i,p,f,h,d,a,s+1):n.isText?new ft(t,n,r,i,p,h,a):new e(t,n,r,i,p,f,h,a,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?o["Fragment"].empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return this.dirty==et&&t.eq(this.node)&&St(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,i=e,s=t.composing&&this.localCompositionInfo(t,e),l=s&&s.pos>-1?s:null,c=s&&s.pos<0,u=new Ct(this,l&&l.node);Et(this.node,this.innerDeco,(function(e,a,s){e.spec.marks?u.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!s&&u.syncToMarks(a==n.node.childCount?o["Mark"].none:n.node.child(a).marks,r,t),u.placeWidget(e,t,i)}),(function(e,n,o,a){var l;u.syncToMarks(e.marks,r,t),u.findNodeMatch(e,n,o,a)||c&&t.state.selection.from>i&&t.state.selection.to<i+e.nodeSize&&(l=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(e,n,o,l,t)||u.updateNextNode(e,n,o,t,a)||u.addNode(e,n,o,t,i),i+=e.nodeSize})),u.syncToMarks(st,r,t),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==rt)&&(l&&this.protectLocalComposition(t,l),vt(this.contentDOM,this.children,t),a.ios&&Tt(this.dom))},e.prototype.localCompositionInfo=function(t,e){var n=t.state.selection,o=n.from,i=n.to;if(!(!(t.state.selection instanceof r["TextSelection"])||o<e||i>e+this.node.content.size)){var a=t.root.getSelection(),s=At(a.focusNode,a.focusOffset);if(s&&this.dom.contains(s.parentNode)){if(this.node.inlineContent){var l=s.nodeValue,c=Nt(this.node.content,l,o-e,i-e);return c<0?null:{node:s,pos:c,text:l}}return{node:s,pos:-1}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,o=e.text;if(!this.getDesc(n)){for(var i=n;;i=i.parentNode){if(i.parentNode==this.contentDOM)break;while(i.previousSibling)i.parentNode.removeChild(i.previousSibling);while(i.nextSibling)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new ct(this,i,n,o);t.compositionNodes.push(a),this.children=Rt(this.children,r,r+o.length,t,a)}},e.prototype.update=function(t,e,n,r){return!(this.dirty==ot||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=et},e.prototype.updateOuterDeco=function(t){if(!St(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=wt(this.dom,this.nodeDOM,bt(this.outerDeco,this.node,e),bt(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,n),e}(it);function pt(t,e,n,r,o){return kt(r,e,t),new dt(null,t,e,n,r,r,r,o,0)}var ft=function(t){function e(e,n,r,o,i,a,s){t.call(this,e,n,r,o,i,null,a,s)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){var t=this.nodeDOM.parentNode;while(t&&t!=this.dom&&!t.pmIsDeco)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,n,r){return!(this.dirty==ot||this.dirty!=et&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),this.dirty==et&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=et,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var o=this.node.cut(t,n),i=document.createTextNode(o.text);return new e(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},e.prototype.markDirty=function(e,n){t.prototype.markDirty.call(this,e,n),this.dom==this.nodeDOM||0!=e&&n!=this.nodeDOM.nodeValue.length||(this.dirty=ot)},n.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,n),e}(dt),ht=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(t){return this.dirty==et&&this.dom.nodeName==t},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(it),mt=function(t){function e(e,n,r,o,i,a,s,l,c,u){t.call(this,e,n,r,o,i,a,s,c,u),this.spec=l}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,r,o){if(this.dirty==ot)return!1;if(this.spec.update){var i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,o),i}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,o)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,o)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(dt);function vt(t,e,n){for(var r=t.firstChild,o=!1,i=0;i<e.length;i++){var a=e[i],s=a.dom;if(s.parentNode==t){while(s!=r)r=_t(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(s,r);if(a instanceof ut){var l=r?r.previousSibling:t.lastChild;vt(a.contentDOM,a.children,n),r=l?l.nextSibling:t.firstChild}}while(r)r=_t(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}function gt(t){t&&(this.nodeName=t)}gt.prototype=Object.create(null);var yt=[new gt];function bt(t,e,n){if(0==t.length)return yt;for(var r=n?yt[0]:new gt,o=[r],i=0;i<t.length;i++){var a=t[i].type.attrs;if(a)for(var s in a.nodeName&&o.push(r=new gt(a.nodeName)),a){var l=a[s];null!=l&&(n&&1==o.length&&o.push(r=new gt(e.isInline?"span":"div")),"class"==s?r.class=(r.class?r.class+" ":"")+l:"style"==s?r.style=(r.style?r.style+";":"")+l:"nodeName"!=s&&(r[s]=l))}}return o}function wt(t,e,n,r){if(n==yt&&r==yt)return e;for(var o=e,i=0;i<r.length;i++){var a=r[i],s=n[i];if(i){var l=void 0;s&&s.nodeName==a.nodeName&&o!=t&&(l=o.parentNode)&&l.tagName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(o),s=yt[0]),o=l}xt(o,s||yt[0],a)}return o}function xt(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){for(var i=e.class?e.class.split(" ").filter(Boolean):st,a=n.class?n.class.split(" ").filter(Boolean):st,s=0;s<i.length;s++)-1==a.indexOf(i[s])&&t.classList.remove(i[s]);for(var l=0;l<a.length;l++)-1==i.indexOf(a[l])&&t.classList.add(a[l])}if(e.style!=n.style){if(e.style){var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;while(c=u.exec(e.style))t.style.removeProperty(c[1])}n.style&&(t.style.cssText+=n.style)}}function kt(t,e,n){return wt(t,t,yt,bt(e,n,1!=t.nodeType))}function St(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function _t(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var Ct=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.preMatch=Ot(t.node.content,t.children)};function Ot(t,e){for(var n=t.childCount,r=e.length,o=new Map;n>0&&r>0;r--){var i=e[r-1],a=i.node;if(a){if(a!=t.child(n-1))break;--n,o.set(i,n)}}return{index:n,matched:o}}function Mt(t,e){return t.type.side-e.type.side}function Et(t,e,n,r){var o=e.locals(t),i=0;if(0!=o.length)for(var a=0,s=[],l=null,c=0;;){if(a<o.length&&o[a].to==i){var u=o[a++],d=void 0;while(a<o.length&&o[a].to==i)(d||(d=[u])).push(o[a++]);if(d){d.sort(Mt);for(var p=0;p<d.length;p++)n(d[p],c,!!l)}else n(u,c,!!l)}var f=void 0,h=void 0;if(l)h=-1,f=l,l=null;else{if(!(c<t.childCount))break;h=c,f=t.child(c++)}for(var m=0;m<s.length;m++)s[m].to<=i&&s.splice(m--,1);while(a<o.length&&o[a].from<=i&&o[a].to>i)s.push(o[a++]);var v=i+f.nodeSize;if(f.isText){var g=v;a<o.length&&o[a].from<g&&(g=o[a].from);for(var y=0;y<s.length;y++)s[y].to<g&&(g=s[y].to);g<v&&(l=f.cut(g-i),f=f.cut(0,g-i),v=g,h=-1)}var b=s.length?f.isInline&&!f.isLeaf?s.filter((function(t){return!t.inline})):s.slice():st;r(f,b,e.forChild(i,f),h),i=v}else for(var w=0;w<t.childCount;w++){var x=t.child(w);r(x,o,e.forChild(i,x),w),i+=x.nodeSize}}function Tt(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function At(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=b(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}function Nt(t,e,n,r){for(var o=0,i=0;o<t.childCount&&i<=r;){var a=t.child(o++),s=i;if(i+=a.nodeSize,a.isText){var l=a.text;while(o<t.childCount){var c=t.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){var u=l.lastIndexOf(e,r-s);if(u>=0&&u+e.length+s>=n)return s+u}}}return-1}function Rt(t,e,n,r,o){for(var i=[],a=0,s=0;a<t.length;a++){var l=t[a],c=s,u=s+=l.size;c>=n||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),o&&(i.push(o),o=null),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function It(t,e){var n=t.root.getSelection(),o=t.state.doc;if(!n.focusNode)return null;var i=t.docView.nearestDesc(n.focusNode),a=i&&0==i.size,s=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var l,c,u=o.resolve(s);if(k(n)){l=u;while(i&&!i.node)i=i.parent;if(i&&i.node.isAtom&&r["NodeSelection"].isSelectable(i.node)&&i.parent&&(!i.node.isInline||!w(n.focusNode,n.focusOffset,i.dom))){var d=i.posBefore;c=new r["NodeSelection"](s==d?u:o.resolve(d))}}else{var p=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(p<0)return null;l=o.resolve(p)}if(!c){var f="pointer"==e||t.state.selection.head<u.pos&&!a?1:-1;c=Ht(t,l,u,f)}return c}function jt(t){return t.editable?t.hasFocus():Ut(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function zt(t,e){var n=t.state.selection;if(Vt(t,n),jt(t)){if(t.domObserver.disconnectSelection(),t.cursorWrapper)Lt(t);else{var o,i,a=n.anchor,s=n.head;!Pt||n instanceof r["TextSelection"]||(n.$from.parent.inlineContent||(o=Dt(t,n.from)),n.empty||n.$from.parent.inlineContent||(i=Dt(t,n.to))),t.docView.setSelection(a,s,t.root,e),Pt&&(o&&Ft(o),i&&Ft(i)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Bt(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}Ct.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},Ct.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},Ct.prototype.syncToMarks=function(t,e,n){var r=0,o=this.stack.length>>1,i=Math.min(o,t.length);while(r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning)r++;while(r<o)this.destroyRest(),this.top.dirty=et,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;while(o<t.length){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(t[o])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var l=ut.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}},Ct.prototype.findNodeMatch=function(t,e,n,r){var o=this.top.children,i=-1;if(r>=this.preMatch.index){for(var a=this.index;a<o.length;a++)if(o[a].matchesNode(t,e,n)){i=a;break}}else for(var s=this.index,l=Math.min(o.length,s+1);s<l;s++){var c=o[s];if(c.matchesNode(t,e,n)&&!this.preMatch.matched.has(c)){i=s;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)},Ct.prototype.updateNodeAt=function(t,e,n,r,o){var i=this.top.children[r];return!!i.update(t,e,n,o)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)},Ct.prototype.findIndexWithChild=function(t){for(;;){var e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){var n=t.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}t=e}},Ct.prototype.updateNextNode=function(t,e,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof dt){var s=this.preMatch.matched.get(a);if(null!=s&&s!=o)return!1;var l=a.dom,c=this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&a.dirty!=ot&&St(e,a.outerDeco));if(!c&&a.update(t,e,n,r))return this.destroyBetween(this.index,i),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},Ct.prototype.addNode=function(t,e,n,r,o){this.top.children.splice(this.index++,0,dt.create(this.top,t,e,n,r,o)),this.changed=!0},Ct.prototype.placeWidget=function(t,e,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){var o=new lt(this.top,t,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},Ct.prototype.addTextblockHacks=function(){var t=this.top.children[this.index-1];while(t instanceof ut)t=t.children[t.children.length-1];t&&t instanceof ft&&!/\n$/.test(t.node.text)||(a.safari&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},Ct.prototype.addHackNode=function(t){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(t))this.index++;else{var e=document.createElement(t);this.top.children.splice(this.index++,0,new ht(this.top,st,e,null)),this.changed=!0}};var Pt=a.safari||a.chrome&&a.chrome_version<63;function Dt(t,e){var n=t.docView.domFromPos(e,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,s=o?r.childNodes[o-1]:null;if(a.safari&&i&&"false"==i.contentEditable)return $t(i);if((!i||"false"==i.contentEditable)&&(!s||"false"==s.contentEditable)){if(i)return $t(i);if(s)return $t(s)}}function $t(t){return t.contentEditable="true",a.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Ft(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Bt(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(e.removeEventListener("selectionchange",t.hideSelectionGuard),setTimeout((function(){jt(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}function Lt(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,p(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&a.ie&&a.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function Vt(t,e){if(e instanceof r["NodeSelection"]){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(qt(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else qt(t)}function qt(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function Ht(t,e,n,o){return t.someProp("createSelectionBetween",(function(r){return r(t,e,n)}))||r["TextSelection"].between(e,n,o)}function Wt(t){return(!t.editable||t.root.activeElement==t.dom)&&Ut(t)}function Ut(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(n){return!1}}function Jt(t){var e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.root.getSelection();return v(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Kt(t,e){var n=t.selection,o=n.$anchor,i=n.$head,a=e>0?o.max(i):o.min(i),s=a.parent.inlineContent?a.depth?t.doc.resolve(e>0?a.after():a.before()):null:a;return s&&r["Selection"].findFrom(s,e)}function Gt(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Xt(t,e,n){var o=t.state.selection;if(!(o instanceof r["TextSelection"])){if(o instanceof r["NodeSelection"]&&o.node.isInline)return Gt(t,new r["TextSelection"](e>0?o.$to:o.$from));var i=Kt(t.state,e);return!!i&&Gt(t,i)}if(!o.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var s=Kt(t.state,e);return!!(s&&s instanceof r["NodeSelection"])&&Gt(t,s)}if(!(a.mac&&n.indexOf("m")>-1)){var l,c=o.$head,u=c.textOffset?null:e<0?c.nodeBefore:c.nodeAfter;if(!u||u.isText)return!1;var d=e<0?c.pos-u.nodeSize:c.pos;return!!(u.isAtom||(l=t.docView.descAt(d))&&!l.contentDOM)&&(r["NodeSelection"].isSelectable(u)?Gt(t,new r["NodeSelection"](e<0?t.state.doc.resolve(c.pos-u.nodeSize):c)):!!a.webkit&&Gt(t,new r["TextSelection"](t.state.doc.resolve(e<0?d:d+u.nodeSize))))}}function Zt(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Yt(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function Qt(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var o,i,s=!1;for(a.gecko&&1==n.nodeType&&r<Zt(n)&&Yt(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var l=n.childNodes[r-1];if(Yt(l))o=n,i=--r;else{if(3!=l.nodeType)break;n=l,r=n.nodeValue.length}}else{if(ee(n))break;var c=n.previousSibling;while(c&&Yt(c))o=n.parentNode,i=p(c),c=c.previousSibling;if(c)n=c,r=Zt(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}s?ne(t,e,n,r):o&&ne(t,e,o,i)}}function te(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var o,i,a=Zt(n);;)if(r<a){if(1!=n.nodeType)break;var s=n.childNodes[r];if(!Yt(s))break;o=n,i=++r}else{if(ee(n))break;var l=n.nextSibling;while(l&&Yt(l))o=l.parentNode,i=p(l)+1,l=l.nextSibling;if(l)n=l,r=0,a=Zt(n);else{if(n=n.parentNode,n==t.dom)break;r=a=0}}o&&ne(t,e,o,i)}}function ee(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function ne(t,e,n,r){if(k(e)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();var i=t.state;setTimeout((function(){t.state==i&&zt(t)}),50)}function re(t,e,n){var o=t.state.selection;if(o instanceof r["TextSelection"]&&!o.empty||n.indexOf("s")>-1)return!1;if(a.mac&&n.indexOf("m")>-1)return!1;var i=o.$from,s=o.$to;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var l=Kt(t.state,e);if(l&&l instanceof r["NodeSelection"])return Gt(t,l)}if(!i.parent.inlineContent){var c=e<0?i:s,u=o instanceof r["AllSelection"]?r["Selection"].near(c,e):r["Selection"].findFrom(c,e);return!!u&&Gt(t,u)}return!1}function oe(t,e){if(!(t.state.selection instanceof r["TextSelection"]))return!0;var n=t.state.selection,o=n.$head,i=n.$anchor,a=n.empty;if(!o.sameParent(i))return!0;if(!a)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!o.textOffset&&(e<0?o.nodeBefore:o.nodeAfter);if(s&&!s.isText){var l=t.state.tr;return e<0?l.delete(o.pos-s.nodeSize,o.pos):l.delete(o.pos,o.pos+s.nodeSize),t.dispatch(l),!0}return!1}function ie(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function ae(t){if(a.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;ie(t,o,!0),setTimeout((function(){return ie(t,o,!1)}),20)}}}function se(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function le(t,e){var n=e.keyCode,r=se(e);return 8==n||a.mac&&72==n&&"c"==r?oe(t,-1)||Qt(t):46==n||a.mac&&68==n&&"c"==r?oe(t,1)||te(t):13==n||27==n||(37==n?Xt(t,-1,r)||Qt(t):39==n?Xt(t,1,r)||te(t):38==n?re(t,-1,r)||Qt(t):40==n?ae(t)||re(t,1,r)||te(t):r==(a.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function ce(t,e,n){var r=t.docView.parseRange(e,n),i=r.node,s=r.fromOffset,l=r.toOffset,c=r.from,u=r.to,d=t.root.getSelection(),p=null,f=d.anchorNode;if(f&&t.dom.contains(1==f.nodeType?f:f.parentNode)&&(p=[{node:f,offset:d.anchorOffset}],k(d)||p.push({node:d.focusNode,offset:d.focusOffset})),a.chrome&&8===t.lastKeyCode)for(var h=l;h>s;h--){var m=i.childNodes[h-1],v=m.pmViewDesc;if("BR"==m.nodeName&&!v){l=h;break}if(!v||v.size)break}var g=t.state.doc,y=t.someProp("domParser")||o["DOMParser"].fromSchema(t.state.schema),b=g.resolve(c),w=null,x=y.parse(i,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:l,preserveWhitespace:!b.parent.type.spec.code||"full",editableContent:!0,findPositions:p,ruleFromNode:ue,context:b});if(p&&null!=p[0].pos){var S=p[0].pos,_=p[1]&&p[1].pos;null==_&&(_=S),w={anchor:S+c,head:_+c}}return{doc:x,sel:w,from:c,to:u}}function ue(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(a.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||a.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function de(t,e,n,o,i){if(e<0){var s=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,l=It(t,s);if(l&&!t.state.selection.eq(l)){var c=t.state.tr.setSelection(l);"pointer"==s?c.setMeta("pointer",!0):"key"==s&&c.scrollIntoView(),t.dispatch(c)}}else{var u=t.state.doc.resolve(e),d=u.sharedDepth(n);e=u.before(d+1),n=t.state.doc.resolve(n).after(d+1);var p=t.state.selection,f=ce(t,e,n);if(a.chrome&&t.cursorWrapper&&f.sel&&f.sel.anchor==t.cursorWrapper.deco.from){var h=t.cursorWrapper.deco.type.toDOM.nextSibling,m=h&&h.nodeValue?h.nodeValue.length:1;f.sel={anchor:f.sel.anchor+m,head:f.sel.anchor+m}}var v,g,y=t.state.doc,b=y.slice(f.from,f.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(v=t.state.selection.to,g="end"):(v=t.state.selection.from,g="start"),t.lastKeyCode=null;var w=ve(b.content,f.doc.content,f.from,v,g);if(!w){if(!(o&&p instanceof r["TextSelection"]&&!p.empty&&p.$head.sameParent(p.$anchor))||t.composing||f.sel&&f.sel.anchor!=f.sel.head){if((a.ios&&t.lastIOSEnter>Date.now()-225||a.android)&&i.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName}))&&t.someProp("handleKeyDown",(function(e){return e(t,S(13,"Enter"))})))return void(t.lastIOSEnter=0);if(f.sel){var x=pe(t,t.state.doc,f.sel);x&&!x.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(x))}return}w={start:p.from,endA:p.to,endB:p.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof r["TextSelection"]&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),a.ie&&a.ie_version<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>f.from&&" "==f.doc.textBetween(w.start-f.from-1,w.start-f.from+1)&&(w.start--,w.endA--,w.endB--);var k,_=f.doc.resolveNoCache(w.start-f.from),C=f.doc.resolveNoCache(w.endB-f.from),O=_.sameParent(C)&&_.parent.inlineContent;if((a.ios&&t.lastIOSEnter>Date.now()-225&&(!O||i.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName})))||!O&&_.pos<f.doc.content.size&&(k=r["Selection"].findFrom(f.doc.resolve(_.pos+1),1,!0))&&k.head==C.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,S(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>w.start&&he(y,w.start,w.endA,_,C)&&t.someProp("handleKeyDown",(function(e){return e(t,S(8,"Backspace"))})))a.android&&a.chrome&&t.domObserver.suppressSelectionUpdates();else{a.chrome&&a.android&&w.toB==w.from&&(t.lastAndroidDelete=Date.now()),a.android&&!O&&_.start()!=C.start()&&0==C.parentOffset&&_.depth==C.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==w.endA&&(w.endB-=2,C=f.doc.resolveNoCache(w.endB-f.from),setTimeout((function(){t.someProp("handleKeyDown",(function(e){return e(t,S(13,"Enter"))}))}),20));var M,E,T,A,N=w.start,R=w.endA;if(O)if(_.pos==C.pos)a.ie&&a.ie_version<=11&&0==_.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return zt(t)}),20)),M=t.state.tr.delete(N,R),E=y.resolve(w.start).marksAcross(y.resolve(w.endA));else if(w.endA==w.endB&&(A=y.resolve(w.start))&&(T=fe(_.parent.content.cut(_.parentOffset,C.parentOffset),A.parent.content.cut(A.parentOffset,w.endA-A.start()))))M=t.state.tr,"add"==T.type?M.addMark(N,R,T.mark):M.removeMark(N,R,T.mark);else if(_.parent.child(_.index()).isText&&_.index()==C.index()-(C.textOffset?0:1)){var I=_.parent.textBetween(_.parentOffset,C.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,N,R,I)})))return;M=t.state.tr.insertText(I,N,R)}if(M||(M=t.state.tr.replace(N,R,f.doc.slice(w.start-f.from,w.endB-f.from))),f.sel){var j=pe(t,M.doc,f.sel);j&&!(a.chrome&&a.android&&t.composing&&j.empty&&(w.start!=w.endB||t.lastAndroidDelete<Date.now()-100)&&(j.head==N||j.head==M.mapping.map(R)-1)||a.ie&&j.empty&&j.head==N)&&M.setSelection(j)}E&&M.ensureMarks(E),t.dispatch(M.scrollIntoView())}}}function pe(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Ht(t,e.resolve(n.anchor),e.resolve(n.head))}function fe(t,e){for(var n,r,i,a=t.firstChild.marks,s=e.firstChild.marks,l=a,c=s,u=0;u<s.length;u++)l=s[u].removeFromSet(l);for(var d=0;d<a.length;d++)c=a[d].removeFromSet(c);if(1==l.length&&0==c.length)r=l[0],n="add",i=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=l.length||1!=c.length)return null;r=c[0],n="remove",i=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var p=[],f=0;f<e.childCount;f++)p.push(i(e.child(f)));if(o["Fragment"].from(p).eq(t))return{mark:r,type:n}}function he(t,e,n,r,o){if(!r.parent.isTextblock||n-e<=o.pos-r.pos||me(r,!0,!1)<o.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=t.resolve(me(i,!0,!0));return!(!a.parent.isTextblock||a.pos>n||me(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function me(t,e,n){var r=t.depth,o=e?t.end():t.pos;while(r>0&&(e||t.indexAfter(r)==t.node(r).childCount))r--,o++,e=!1;if(n){var i=t.node(r).maybeChild(t.indexAfter(r));while(i&&!i.isLeaf)i=i.firstChild,o++}return o}function ve(t,e,n,r,o){var i=t.findDiffStart(e,n);if(null==i)return null;var a=t.findDiffEnd(e,n+t.size,n+e.size),s=a.a,l=a.b;if("end"==o){var c=Math.max(0,i-Math.min(s,l));r-=s+c-i}if(s<i&&t.size<e.size){var u=r<=i&&r>=s?i-r:0;i-=u,l=i+(l-s),s=i}else if(l<i){var d=r<=i&&r>=l?i-r:0;i-=d,s=i+(s-l),l=i}return{start:i,endA:s,endB:l}}function ge(t,e){var n=[],r=e.content,i=e.openStart,a=e.openEnd;while(i>1&&a>1&&1==r.childCount&&1==r.firstChild.childCount){i--,a--;var s=r.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),r=s.content}var l=t.someProp("clipboardSerializer")||o["DOMSerializer"].fromSchema(t.state.schema),c=Me(),u=c.createElement("div");u.appendChild(l.serializeFragment(r,{document:c}));var d,p=u.firstChild;while(p&&1==p.nodeType&&(d=Ce[p.nodeName.toLowerCase()])){for(var f=d.length-1;f>=0;f--){var h=c.createElement(d[f]);while(u.firstChild)h.appendChild(u.firstChild);u.appendChild(h)}p=u.firstChild}p&&1==p.nodeType&&p.setAttribute("data-pm-slice",i+" "+a+" "+JSON.stringify(n));var m=t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n");return{dom:u,text:m}}function ye(t,e,n,r,i){var s,l,c=i.parent.type.spec.code;if(!n&&!e)return null;var u=e&&(r||c||!n);if(u){if(t.someProp("transformPastedText",(function(t){e=t(e,c||r)})),c)return new o["Slice"](o["Fragment"].from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0);var d=t.someProp("clipboardTextParser",(function(t){return t(e,i,r)}));if(d)l=d;else{var p=i.marks(),f=t.state,h=f.schema,m=o["DOMSerializer"].fromSchema(h);s=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach((function(t){s.appendChild(document.createElement("p")).appendChild(m.serializeNode(h.text(t,p)))}))}}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),s=Ee(n),a.webkit&&Te(s);var v=s&&s.querySelector("[data-pm-slice]"),g=v&&/^(\d+) (\d+) (.*)/.exec(v.getAttribute("data-pm-slice"));if(!l){var y=t.someProp("clipboardParser")||t.someProp("domParser")||o["DOMParser"].fromSchema(t.state.schema);l=y.parseSlice(s,{preserveWhitespace:!(!u&&!g),context:i})}return l=g?Ae(_e(l,+g[1],+g[2]),g[3]):o["Slice"].maxOpen(be(l.content,i),!1),t.someProp("transformPasted",(function(t){l=t(l)})),l}function be(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n),i=r.contentMatchAt(e.index(n)),a=void 0,s=[];if(t.forEach((function(t){if(s){var e,n=i.findWrapping(t.type);if(!n)return s=null;if(e=s.length&&a.length&&xe(n,a,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=ke(s[s.length-1],a.length));var r=we(t,n);s.push(r),i=i.matchType(r.type,r.attrs),a=n}}})),s)return{v:o["Fragment"].from(s)}},r=e.depth;r>=0;r--){var i=n(r);if(i)return i.v}return t}function we(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,o["Fragment"].from(t));return t}function xe(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){var a=xe(t,e,n,r.lastChild,i+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));var s=r.contentMatchAt(r.childCount);if(s.matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(o["Fragment"].from(we(n,t,i+1))))}}function ke(t,e){if(0==e)return t;var n=t.content.replaceChild(t.childCount-1,ke(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(o["Fragment"].empty,!0);return t.copy(n.append(r))}function Se(t,e,n,r,i,a){var s=e<0?t.firstChild:t.lastChild,l=s.content;return i<r-1&&(l=Se(l,e,n,r,i+1,a)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,t.childCount>1||a<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(o["Fragment"].empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function _e(t,e,n){return e<t.openStart&&(t=new o["Slice"](Se(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new o["Slice"](Se(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}var Ce={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Oe=null;function Me(){return Oe||(Oe=document.implementation.createHTMLDocument("title"))}function Ee(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=Me().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(t);if((n=o&&Ce[o[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join("")),r.innerHTML=t,n)for(var i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}function Te(t){for(var e=t.querySelectorAll(a.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<e.length;n++){var r=e[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Ae(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(u){return t}for(var i=t.content,a=t.openStart,s=t.openEnd,l=n.length-2;l>=0;l-=2){var c=r.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;i=o["Fragment"].from(c.create(n[l+1],i)),a++,s++}return new o["Slice"](i,a,s)}var Ne={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Re=a.ie&&a.ie_version<=11,Ie=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Ie.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},Ie.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var je=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);a.ie&&a.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Ie,Re&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};je.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){t.flushingSoon=-1,t.flush()}),20))},je.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},je.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Ne),Re&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},je.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}Re&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},je.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},je.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},je.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},je.prototype.onSelectionChange=function(){if(Wt(this.view)){if(this.suppressingSelectionUpdates)return zt(this.view);if(a.ie&&a.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&v(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},je.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},je.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},je.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&Ut(this.view)&&!this.ignoreSelectionChange(e),r=-1,o=-1,i=!1,s=[];if(this.view.editable)for(var l=0;l<t.length;l++){var c=this.registerMutation(t[l],s);c&&(r=r<0?c.from:Math.min(c.from,r),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&(i=!0))}if(a.gecko&&s.length>1){var u=s.filter((function(t){return"BR"==t.nodeName}));if(2==u.length){var d=u[0],p=u[1];d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),Pe(this.view)),this.handleDOMChange(r,o,i,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||zt(this.view),this.currentSelection.set(e))}},je.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(var r=0;r<t.addedNodes.length;r++)e.push(t.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};var o=t.previousSibling,i=t.nextSibling;if(a.ie&&a.ie_version<=11&&t.addedNodes.length)for(var s=0;s<t.addedNodes.length;s++){var l=t.addedNodes[s],c=l.previousSibling,u=l.nextSibling;(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(o=c),(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(i=u)}var d=o&&o.parentNode==t.target?p(o)+1:0,f=n.localPosFromDOM(t.target,d,-1),h=i&&i.parentNode==t.target?p(i):t.target.childNodes.length,m=n.localPosFromDOM(t.target,h,1);return{from:f,to:m}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var ze=!1;function Pe(t){ze||(ze=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console["warn"]("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var De={},$e={};function Fe(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.lastAndroidDelete=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new je(t,(function(e,n,r,o){return de(t,e,n,r,o)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=De[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!He(t,e)||qe(t,e)||!t.editable&&e.type in $e||n(t,e)})};for(var n in De)e(n);a.safari&&t.dom.addEventListener("input",(function(){return null})),Ve(t)}function Be(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function Le(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}function Ve(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return qe(t,e)})}))}function qe(t,e){return t.someProp("handleDOMEvents",(function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function He(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function We(t,e){qe(t,e)||!De[e.type]||!t.editable&&e.type in $e||De[e.type](t,e)}function Ue(t){return{left:t.clientX,top:t.clientY}}function Je(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Ke(t,e,n,r,o){if(-1==r)return!1;for(var i=t.state.doc.resolve(r),a=function(r){if(t.someProp(e,(function(e){return r>i.depth?e(t,n,i.nodeAfter,i.before(r),o,!0):e(t,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},s=i.depth+1;s>0;s--){var l=a(s);if(l)return l.v}return!1}function Ge(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function Xe(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),o=n.nodeAfter;return!!(o&&o.isAtom&&r["NodeSelection"].isSelectable(o))&&(Ge(t,new r["NodeSelection"](n),"pointer"),!0)}function Ze(t,e){if(-1==e)return!1;var n,o,i=t.state.selection;i instanceof r["NodeSelection"]&&(n=i.node);for(var a=t.state.doc.resolve(e),s=a.depth+1;s>0;s--){var l=s>a.depth?a.nodeAfter:a.node(s);if(r["NodeSelection"].isSelectable(l)){o=n&&i.$from.depth>0&&s>=i.$from.depth&&a.before(i.$from.depth+1)==i.$from.pos?a.before(i.$from.depth):a.before(s);break}}return null!=o&&(Ge(t,r["NodeSelection"].create(t.state.doc,o),"pointer"),!0)}function Ye(t,e,n,r,o){return Ke(t,"handleClickOn",e,n,r)||t.someProp("handleClick",(function(n){return n(t,e,r)}))||(o?Ze(t,n):Xe(t,n))}function Qe(t,e,n,r){return Ke(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(function(n){return n(t,e,r)}))}function tn(t,e,n,r){return Ke(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",(function(n){return n(t,e,r)}))||en(t,n,r)}function en(t,e,n){if(0!=n.button)return!1;var o=t.state.doc;if(-1==e)return!!o.inlineContent&&(Ge(t,r["TextSelection"].create(o,0,o.content.size),"pointer"),!0);for(var i=o.resolve(e),a=i.depth+1;a>0;a--){var s=a>i.depth?i.nodeAfter:i.node(a),l=i.before(a);if(s.inlineContent)Ge(t,r["TextSelection"].create(o,l+1,l+1+s.content.size),"pointer");else{if(!r["NodeSelection"].isSelectable(s))continue;Ge(t,r["NodeSelection"].create(o,l),"pointer")}return!0}}function nn(t){return un(t)}$e.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!an(t,e))if(229!=e.keyCode&&t.domObserver.forceFlush(),t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!a.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",(function(n){return n(t,e)}))||le(t,e)?e.preventDefault():Be(t,"key");else{var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout((function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",(function(e){return e(t,S(13,"Enter"))})),t.lastIOSEnter=0)}),200)}},$e.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},$e.keypress=function(t,e){if(!(an(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||a.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof r["TextSelection"])||!n.$from.sameParent(n.$to)){var o=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,o)}))||t.dispatch(t.state.tr.insertText(o).scrollIntoView()),e.preventDefault()}}};var rn=a.mac?"metaKey":"ctrlKey";De.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=nn(t),r=Date.now(),o="singleClick";r-t.lastClick.time<500&&Je(e,t.lastClick)&&!e[rn]&&("singleClick"==t.lastClick.type?o="doubleClick":"doubleClick"==t.lastClick.type&&(o="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};var i=t.posAtCoords(Ue(e));i&&("singleClick"==o?(t.mouseDown&&t.mouseDown.done(),t.mouseDown=new on(t,i,e,n)):("doubleClick"==o?Qe:tn)(t,i.pos,i.inside,e)?e.preventDefault():Be(t,"pointer"))};var on=function(t,e,n,o){var i,s,l=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=o,this.selectNode=n[rn],this.allowDefault=n.shiftKey,e.inside>-1)i=t.state.doc.nodeAt(e.inside),s=e.inside;else{var c=t.state.doc.resolve(e.pos);i=c.parent,s=c.depth?c.before():0}this.mightDrag=null;var u=o?null:n.target,d=u?t.docView.nearestDesc(u,!0):null;this.target=d?d.dom:null;var p=t.state,f=p.selection;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||f instanceof r["NodeSelection"]&&f.from<=s&&f.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&a.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){l.view.mouseDown==l&&l.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Be(t,"pointer")};function an(t,e){return!!t.composing||!!(a.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}on.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},on.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Ue(t))),this.allowDefault||!e?Be(this.view,"pointer"):Ye(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||a.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||a.chrome&&!(this.view.state.selection instanceof r["TextSelection"])&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Ge(this.view,r["Selection"].near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Be(this.view,"pointer")}},on.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),Be(this.view,"pointer"),0==t.buttons&&this.done()},De.touchdown=function(t){nn(t),Be(t,"pointer")},De.contextmenu=function(t){return nn(t)};var sn=a.android?5e3:-1;function ln(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return un(t)}),e))}function cn(t){t.composing=!1;while(t.compositionNodes.length>0)t.compositionNodes.pop().markParentsDirty()}function un(t,e){if(t.domObserver.forceFlush(),cn(t),e||t.docView.dirty){var n=It(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}function dn(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}}$e.compositionstart=$e.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),un(t,!0),t.markCursor=null;else if(un(t),a.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}o=s,i=-1}t.composing=!0}ln(t,sn)},$e.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,ln(t,20))};var pn=a.ie&&a.ie_version<15||a.ios&&a.webkit_version<604;function fn(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}function hn(t,e){if(t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?mn(t,r.value,null,e):mn(t,r.textContent,r.innerHTML,e)}),50)}}function mn(t,e,n,r){var i=ye(t,e,n,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",(function(e){return e(t,r,i||o["Slice"].empty)})))return!0;if(!i)return!1;var a=fn(i),s=a?t.state.tr.replaceSelectionWith(a,t.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}De.copy=$e.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var o=pn?null:e.clipboardData,i=n.content(),a=ge(t,i),s=a.dom,l=a.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):dn(t,s),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},$e.paste=function(t,e){var n=pn?null:e.clipboardData;n&&mn(t,n.getData("text/plain"),n.getData("text/html"),e)?e.preventDefault():hn(t,e)};var vn=function(t,e){this.slice=t,this.move=e},gn=a.mac?"altKey":"ctrlKey";for(var yn in De.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var o=t.state.selection,i=o.empty?null:t.posAtCoords(Ue(e));if(i&&i.pos>=o.from&&i.pos<=(o instanceof r["NodeSelection"]?o.to-1:o.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(r["NodeSelection"].create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var a=t.docView.nearestDesc(e.target,!0);a&&a.node.type.spec.draggable&&a!=t.docView&&t.dispatch(t.state.tr.setSelection(r["NodeSelection"].create(t.state.doc,a.posBefore)))}var s=t.state.selection.content(),l=ge(t,s),c=l.dom,u=l.text;e.dataTransfer.clearData(),e.dataTransfer.setData(pn?"Text":"text/html",c.innerHTML),e.dataTransfer.effectAllowed="copyMove",pn||e.dataTransfer.setData("text/plain",u),t.dragging=new vn(s,!e[gn])}},De.dragend=function(t){var e=t.dragging;window.setTimeout((function(){t.dragging==e&&(t.dragging=null)}),50)},$e.dragover=$e.dragenter=function(t,e){return e.preventDefault()},$e.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var a=t.posAtCoords(Ue(e));if(a){var s=t.state.doc.resolve(a.pos);if(s){var l=n&&n.slice;l?t.someProp("transformPasted",(function(t){l=t(l)})):l=ye(t,e.dataTransfer.getData(pn?"Text":"text/plain"),pn?null:e.dataTransfer.getData("text/html"),!1,s);var c=n&&!e[gn];if(t.someProp("handleDrop",(function(n){return n(t,e,l||o["Slice"].empty,c)})))e.preventDefault();else if(l){e.preventDefault();var u=l?Object(i["h"])(t.state.doc,s.pos,l):s.pos;null==u&&(u=s.pos);var d=t.state.tr;c&&d.deleteSelection();var p=d.mapping.map(u),f=0==l.openStart&&0==l.openEnd&&1==l.content.childCount,h=d.doc;if(f?d.replaceRangeWith(p,p,l.content.firstChild):d.replaceRange(p,p,l),!d.doc.eq(h)){var m=d.doc.resolve(p);if(f&&r["NodeSelection"].isSelectable(l.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(l.content.firstChild))d.setSelection(new r["NodeSelection"](m));else{var v=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((function(t,e,n,r){return v=r})),d.setSelection(Ht(t,m,d.doc.resolve(v)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))}}}}}},De.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&zt(t)}),20))},De.blur=function(t){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),t.domObserver.currentSelection.set({}),t.focused=!1)},De.beforeinput=function(t,e){if(a.chrome&&a.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,S(8,"Backspace"))})))){var e=t.state.selection,r=e.$cursor;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())}}),50)}},$e)De[yn]=$e[yn];function bn(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var wn=function(t,e){this.spec=e||On,this.side=this.spec.side||0,this.toDOM=t};wn.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,this.side<0?-1:1),i=o.pos,a=o.deleted;return a?null:new Sn(i-n,i-n,this)},wn.prototype.valid=function(){return!0},wn.prototype.eq=function(t){return this==t||t instanceof wn&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&bn(this.spec,t.spec))};var xn=function(t,e){this.spec=e||On,this.attrs=t};xn.prototype.map=function(t,e,n,r){var o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,i=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Sn(o,i,this)},xn.prototype.valid=function(t,e){return e.from<e.to},xn.prototype.eq=function(t){return this==t||t instanceof xn&&bn(this.attrs,t.attrs)&&bn(this.spec,t.spec)},xn.is=function(t){return t.type instanceof xn};var kn=function(t,e){this.spec=e||On,this.attrs=t};kn.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,1);if(o.deleted)return null;var i=t.mapResult(e.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Sn(o.pos-n,i.pos-n,this)},kn.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),r=n.index,o=n.offset;return o==e.from&&o+t.child(r).nodeSize==e.to},kn.prototype.eq=function(t){return this==t||t instanceof kn&&bn(this.attrs,t.attrs)&&bn(this.spec,t.spec)};var Sn=function(t,e,n){this.from=t,this.to=e,this.type=n},_n={spec:{configurable:!0},inline:{configurable:!0}};Sn.prototype.copy=function(t,e){return new Sn(t,e,this.type)},Sn.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},Sn.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},Sn.widget=function(t,e,n){return new Sn(t,t,new wn(e,n))},Sn.inline=function(t,e,n,r){return new Sn(t,e,new xn(n,r))},Sn.node=function(t,e,n,r){return new Sn(t,e,new kn(n,r))},_n.spec.get=function(){return this.type.spec},_n.inline.get=function(){return this.type instanceof xn},Object.defineProperties(Sn.prototype,_n);var Cn=[],On={},Mn=function(t,e){this.local=t&&t.length?t:Cn,this.children=e&&e.length?e:Cn};Mn.create=function(t,e){return e.length?zn(e,t,0,On):En},Mn.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},Mn.prototype.findInner=function(t,e,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=e&&a.to>=t&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<e&&this.children[s+1]>t){var l=this.children[s]+1;this.children[s+2].findInner(t-l,e-l,n,r+l,o)}},Mn.prototype.map=function(t,e,n){return this==En||0==t.maps.length?this:this.mapInner(t,e,0,0,n||On)},Mn.prototype.mapInner=function(t,e,n,r,o){for(var i,a=0;a<this.local.length;a++){var s=this.local[a].map(t,n,r);s&&s.type.valid(e,s)?(i||(i=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?An(this.children,i,t,e,n,r,o):i?new Mn(i.sort(Pn)):En},Mn.prototype.add=function(t,e){return e.length?this==En?Mn.create(t,e):this.addInner(t,e,0):this},Mn.prototype.addInner=function(t,e,n){var r,o=this,i=0;t.forEach((function(t,a){var s,l=a+n;if(s=In(e,t,l)){r||(r=o.children.slice());while(i<r.length&&r[i]<a)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(t,s,l+1):r.splice(i,0,a,a+t.nodeSize,zn(s,t,l+1,On)),i+=3}}));for(var a=Nn(i?jn(e):e,-n),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new Mn(a.length?this.local.concat(a).sort(Pn):this.local,r||this.children)},Mn.prototype.remove=function(t){return 0==t.length||this==En?this:this.removeInner(t,0)},Mn.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,a=n[o]+e,s=n[o+1]+e,l=0,c=void 0;l<t.length;l++)(c=t[l])&&c.from>a&&c.to<s&&(t[l]=null,(i||(i=[])).push(c));if(i){n==this.children&&(n=this.children.slice());var u=n[o+2].removeInner(i,a+1);u!=En?n[o+2]=u:(n.splice(o,3),o-=3)}}if(r.length)for(var d=0,p=void 0;d<t.length;d++)if(p=t[d])for(var f=0;f<r.length;f++)r[f].eq(p,e)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Mn(r,n):En},Mn.prototype.forChild=function(t,e){if(this==En)return this;if(e.isLeaf)return Mn.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(n=this.children[o+2]);break}for(var i=t+1,a=i+e.content.size,s=0;s<this.local.length;s++){var l=this.local[s];if(l.from<a&&l.to>i&&l.type instanceof xn){var c=Math.max(i,l.from)-i,u=Math.min(a,l.to)-i;c<u&&(r||(r=[])).push(l.copy(c,u))}}if(r){var d=new Mn(r.sort(Pn));return n?new Tn([d,n]):d}return n||En},Mn.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof Mn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},Mn.prototype.locals=function(t){return Dn(this.localsInner(t))},Mn.prototype.localsInner=function(t){if(this==En)return Cn;if(t.inlineContent||!this.local.some(xn.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof xn||e.push(this.local[n]);return e};var En=new Mn;Mn.empty=En,Mn.removeOverlap=Dn;var Tn=function(t){this.members=t};function An(t,e,n,r,o,i,a){for(var s=t.slice(),l=function(t,e,n,r){for(var a=0;a<s.length;a+=3){var l=s[a+1],c=void 0;-1==l||t>l+i||(e>=s[a]+i?s[a+1]=-1:n>=o&&(c=r-n-(e-t))&&(s[a]+=c,s[a+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,d=0;d<s.length;d+=3)if(-1==s[d+1]){var p=n.map(t[d]+i),f=p-o;if(f<0||f>=r.content.size){u=!0;continue}var h=n.map(t[d+1]+i,-1),m=h-o,v=r.content.findIndex(f),g=v.index,y=v.offset,b=r.maybeChild(g);if(b&&y==f&&y+b.nodeSize==m){var w=s[d+2].mapInner(n,b,p+1,t[d]+i+1,a);w!=En?(s[d]=f,s[d+1]=m,s[d+2]=w):(s[d+1]=-2,u=!0)}else u=!0}if(u){var x=Rn(s,t,e||[],n,o,i,a),k=zn(x,r,0,a);e=k.local;for(var S=0;S<s.length;S+=3)s[S+1]<0&&(s.splice(S,3),S-=3);for(var _=0,C=0;_<k.children.length;_+=3){var O=k.children[_];while(C<s.length&&s[C]<O)C+=3;s.splice(C,0,k.children[_],k.children[_+1],k.children[_+2])}}return new Mn(e&&e.sort(Pn),s)}function Nn(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(new Sn(o.from+e,o.to+e,o.type))}return n}function Rn(t,e,n,r,o,i,a){function s(t,e){for(var i=0;i<t.local.length;i++){var l=t.local[i].map(r,o,e);l?n.push(l):a.onRemove&&a.onRemove(t.local[i].spec)}for(var c=0;c<t.children.length;c+=3)s(t.children[c+2],t.children[c]+e+1)}for(var l=0;l<t.length;l+=3)-1==t[l+1]&&s(t[l+2],e[l]+i+1);return n}function In(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,o=null,i=0,a=void 0;i<t.length;i++)(a=t[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),t[i]=null);return o}function jn(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function zn(t,e,n,r){var o=[],i=!1;e.forEach((function(e,a){var s=In(t,e,a+n);if(s){i=!0;var l=zn(s,e,n+a+1,r);l!=En&&o.push(a,a+e.nodeSize,l)}}));for(var a=Nn(i?jn(t):t,-n).sort(Pn),s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new Mn(a,o):En}function Pn(t,e){return t.from-e.from||t.to-e.to}function Dn(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var o=n+1;o<e.length;o++){var i=e[o];if(i.from!=r.from){i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),$n(e,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),$n(e,o+1,i.copy(r.to,i.to)))}}return e}function $n(t,e,n){while(e<t.length&&Pn(n,t[e])>0)e++;t.splice(e,0,n)}function Fn(t){var e=[];return t.someProp("decorations",(function(n){var r=n(t.state);r&&r!=En&&e.push(r)})),t.cursorWrapper&&e.push(Mn.create(t.state.doc,[t.cursorWrapper.deco])),Tn.from(e)}Tn.prototype.forChild=function(t,e){if(e.isLeaf)return Mn.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(t,e);o!=En&&(o instanceof Tn?n=n.concat(o.members):n.push(o))}return Tn.from(n)},Tn.prototype.eq=function(t){if(!(t instanceof Tn)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},Tn.prototype.locals=function(t){for(var e,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(t);if(o.length)if(e){n&&(e=e.slice(),n=!1);for(var i=0;i<o.length;i++)e.push(o[i])}else e=o}return e?Dn(n?e:e.sort(Pn)):Cn},Tn.from=function(t){switch(t.length){case 0:return En;case 1:return t[0];default:return new Tn(t)}};var Bn=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Hn(this),this.markCursor=null,this.cursorWrapper=null,qn(this),this.nodeViews=Un(this),this.docView=pt(this.state.doc,Vn(this),Fn(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,Fe(this),this.pluginViews=[],this.updatePluginViews()},Ln={props:{configurable:!0},root:{configurable:!0}};function Vn(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r?e.class+=" "+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))})),[Sn.node(0,t.state.doc.content.size,e)]}function qn(t){if(t.markCursor){var e=document.createElement("img");e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:Sn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Hn(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function Wn(t,e){var n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Un(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}function Jn(t,e){var n=0,r=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var i in e)r++;return n!=r}Ln.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},Bn.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Ve(this),this._props=t,this.updateStateInner(t.state,!0)},Bn.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var r in e.state=this.state,t)e[r]=t[r];this.update(e)},Bn.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},Bn.prototype.updateStateInner=function(t,e){var n=this,o=this.state,i=!1,s=!1;if(t.storedMarks&&this.composing&&(cn(this),s=!0),this.state=t,e){var l=Un(this);Jn(l,this.nodeViews)&&(this.nodeViews=l,i=!0),Ve(this)}this.editable=Hn(this),qn(this);var c=Fn(this),u=Vn(this),d=e?"reset":t.scrollToSelection>o.scrollToSelection?"to selection":"preserve",p=i||!this.docView.matchesNode(t.doc,u,c);!p&&t.selection.eq(o.selection)||(s=!0);var f="preserve"==d&&s&&null==this.dom.style.overflowAnchor&&E(this);if(s){this.domObserver.stop();var h=p&&(a.ie||a.chrome)&&!this.composing&&!o.selection.empty&&!t.selection.empty&&Wn(o.selection,t.selection);if(p){var m=a.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!i&&this.docView.update(t.doc,u,c,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=pt(t.doc,u,c,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&Jt(this))?zt(this,h):(Vt(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),"reset"==d)this.dom.scrollTop=0;else if("to selection"==d){var v=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||(t.selection instanceof r["NodeSelection"]?M(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),v):M(this,this.coordsAtPos(t.selection.head,1),v))}else f&&A(f)},Bn.prototype.destroyPluginViews=function(){var t;while(t=this.pluginViews.pop())t.destroy&&t.destroy()},Bn.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},Bn.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var a=o[i].props[t];if(null!=a&&(n=e?e(a):a))return n}},Bn.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Bn.prototype.focus=function(){this.domObserver.stop(),this.editable&&I(this.dom),zt(this),this.domObserver.start()},Ln.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},Bn.prototype.posAtCoords=function(t){return L(this,t)},Bn.prototype.coordsAtPos=function(t,e){return void 0===e&&(e=1),H(this,t,e)},Bn.prototype.domAtPos=function(t,e){return void 0===e&&(e=0),this.docView.domFromPos(t,e)},Bn.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},Bn.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Bn.prototype.endOfTextblock=function(t,e){return tt(this,e||this.state,t)},Bn.prototype.destroy=function(){this.docView&&(Le(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Fn(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Bn.prototype.dispatchEvent=function(t){return We(this,t)},Bn.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(Bn.prototype,Ln)},"5dbe":function(t,e,n){(function(){var e;function n(){console.log(o.apply(null,arguments))}function r(t,e){return o.apply(null,[t].concat(e))}function o(t){for(var e,n,r,o,i=1,a=[].slice.call(arguments),s=0,l=t.length,c="",u=!1,d=!1,p=function(){return a[i++]},f=function(){var n="";while(/\d/.test(t[s]))n+=t[s++],e=t[s];return n.length>0?parseInt(n):null};s<l;++s)if(e=t[s],u)switch(u=!1,"."==e?(d=!1,e=t[++s]):"0"==e&&"."==t[s+1]?(d=!0,s+=2,e=t[s]):d=!0,o=f(),e){case"b":c+=parseInt(p(),10).toString(2);break;case"c":n=p(),c+="string"===typeof n||n instanceof String?n:String.fromCharCode(parseInt(n,10));break;case"d":c+=parseInt(p(),10);break;case"f":r=String(parseFloat(p()).toFixed(o||6)),c+=d?r:r.replace(/^0/,"");break;case"j":c+=JSON.stringify(p());break;case"o":c+="0"+parseInt(p(),10).toString(8);break;case"s":c+=p();break;case"x":c+="0x"+parseInt(p(),10).toString(16);break;case"X":c+="0x"+parseInt(p(),10).toString(16).toUpperCase();break;default:c+=e;break}else"%"===e?u=!0:c+=e;return c}e=t.exports=o,e.format=o,e.vsprintf=r,"undefined"!==typeof console&&"function"===typeof console.log&&(e.printf=n)})()},"685c":function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s}));var r=n("b775"),o=function(t){return Object(r["a"])({method:"POST",url:"/mp/v1_0/user/images",data:t})},i=function(t){return Object(r["a"])({method:"GET",url:"/mp/v1_0/user/images",params:t})},a=function(t,e){return Object(r["a"])({method:"PUT",url:"/mp/v1_0/user/images/".concat(e),data:t})},s=function(t){return Object(r["a"])({method:"DELETE",url:"/mp/v1_0/user/images/".concat(t)})}},"6ed5":function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=74)}({0:function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},10:function(t,e){t.exports=n("f3ad")},13:function(t,e){t.exports=n("5128")},14:function(t,e){t.exports=n("eedf")},2:function(t,e){t.exports=n("5924")},20:function(t,e){t.exports=n("4897")},23:function(t,e){t.exports=n("41f8")},47:function(t,e){t.exports=n("722f")},6:function(t,e){t.exports=n("6b7c")},7:function(t,e){t.exports=n("2b0e")},74:function(t,e,n){"use strict";n.r(e);var r=n(7),o=n.n(r),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"msgbox-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-message-box__wrapper",attrs:{tabindex:"-1",role:"dialog","aria-modal":"true","aria-label":t.title||"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[n("div",{staticClass:"el-message-box",class:[t.customClass,t.center&&"el-message-box--center"]},[null!==t.title?n("div",{staticClass:"el-message-box__header"},[n("div",{staticClass:"el-message-box__title"},[t.icon&&t.center?n("div",{class:["el-message-box__status",t.icon]}):t._e(),n("span",[t._v(t._s(t.title))])]),t.showClose?n("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.handleAction(t.distinguishCancelAndClose?"close":"cancel")},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction(t.distinguishCancelAndClose?"close":"cancel")}}},[n("i",{staticClass:"el-message-box__close el-icon-close"})]):t._e()]):t._e(),n("div",{staticClass:"el-message-box__content"},[n("div",{staticClass:"el-message-box__container"},[t.icon&&!t.center&&""!==t.message?n("div",{class:["el-message-box__status",t.icon]}):t._e(),""!==t.message?n("div",{staticClass:"el-message-box__message"},[t._t("default",[t.dangerouslyUseHTMLString?n("p",{domProps:{innerHTML:t._s(t.message)}}):n("p",[t._v(t._s(t.message))])])],2):t._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"el-message-box__input"},[n("el-input",{ref:"input",attrs:{type:t.inputType,placeholder:t.inputPlaceholder},nativeOn:{keydown:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputEnter(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),n("div",{staticClass:"el-message-box__errormsg",style:{visibility:t.editorErrorMessage?"visible":"hidden"}},[t._v(t._s(t.editorErrorMessage))])],1)]),n("div",{staticClass:"el-message-box__btns"},[t.showCancelButton?n("el-button",{class:[t.cancelButtonClasses],attrs:{loading:t.cancelButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("cancel")}},nativeOn:{click:function(e){t.handleAction("cancel")}}},[t._v("\n          "+t._s(t.cancelButtonText||t.t("el.messagebox.cancel"))+"\n        ")]):t._e(),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],ref:"confirm",class:[t.confirmButtonClasses],attrs:{loading:t.confirmButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("confirm")}},nativeOn:{click:function(e){t.handleAction("confirm")}}},[t._v("\n          "+t._s(t.confirmButtonText||t.t("el.messagebox.confirm"))+"\n        ")])],1)])])])},a=[];i._withStripped=!0;var s=n(13),l=n.n(s),c=n(6),u=n.n(c),d=n(10),p=n.n(d),f=n(14),h=n.n(f),m=n(2),v=n(20),g=n(47),y=n.n(g),b=void 0,w={success:"success",info:"info",warning:"warning",error:"error"},x={mixins:[l.a,u.a],props:{modal:{default:!0},lockScroll:{default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},closeOnHashChange:{default:!0},center:{default:!1,type:Boolean},roundButton:{default:!1,type:Boolean}},components:{ElInput:p.a,ElButton:h.a},computed:{icon:function(){var t=this.type,e=this.iconClass;return e||(t&&w[t]?"el-icon-"+w[t]:"")},confirmButtonClasses:function(){return"el-button--primary "+this.confirmButtonClass},cancelButtonClasses:function(){return""+this.cancelButtonClass}},methods:{getSafeClose:function(){var t=this,e=this.uid;return function(){t.$nextTick((function(){e===t.uid&&t.doClose()}))}},doClose:function(){var t=this;this.visible&&(this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),b.closeDialog(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose(),setTimeout((function(){t.action&&t.callback(t.action,t)})))},handleWrapperClick:function(){this.closeOnClickModal&&this.handleAction(this.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:function(){if("textarea"!==this.inputType)return this.handleAction("confirm")},handleAction:function(t){("prompt"!==this.$type||"confirm"!==t||this.validate())&&(this.action=t,"function"===typeof this.beforeClose?(this.close=this.getSafeClose(),this.beforeClose(t,this,this.close)):this.doClose())},validate:function(){if("prompt"===this.$type){var t=this.inputPattern;if(t&&!t.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||Object(v["t"])("el.messagebox.error"),Object(m["addClass"])(this.getInputElement(),"invalid"),!1;var e=this.inputValidator;if("function"===typeof e){var n=e(this.inputValue);if(!1===n)return this.editorErrorMessage=this.inputErrorMessage||Object(v["t"])("el.messagebox.error"),Object(m["addClass"])(this.getInputElement(),"invalid"),!1;if("string"===typeof n)return this.editorErrorMessage=n,Object(m["addClass"])(this.getInputElement(),"invalid"),!1}}return this.editorErrorMessage="",Object(m["removeClass"])(this.getInputElement(),"invalid"),!0},getFirstFocus:function(){var t=this.$el.querySelector(".el-message-box__btns .el-button"),e=this.$el.querySelector(".el-message-box__btns .el-message-box__title");return t||e},getInputElement:function(){var t=this.$refs.input.$refs;return t.input||t.textarea},handleClose:function(){this.handleAction("close")}},watch:{inputValue:{immediate:!0,handler:function(t){var e=this;this.$nextTick((function(n){"prompt"===e.$type&&null!==t&&e.validate()}))}},visible:function(t){var e=this;t&&(this.uid++,"alert"!==this.$type&&"confirm"!==this.$type||this.$nextTick((function(){e.$refs.confirm.$el.focus()})),this.focusAfterClosed=document.activeElement,b=new y.a(this.$el,this.focusAfterClosed,this.getFirstFocus())),"prompt"===this.$type&&(t?setTimeout((function(){e.$refs.input&&e.$refs.input.$el&&e.getInputElement().focus()}),500):(this.editorErrorMessage="",Object(m["removeClass"])(this.getInputElement(),"invalid")))}},mounted:function(){var t=this;this.$nextTick((function(){t.closeOnHashChange&&window.addEventListener("hashchange",t.close)}))},beforeDestroy:function(){this.closeOnHashChange&&window.removeEventListener("hashchange",this.close),setTimeout((function(){b.closeDialog()}))},data:function(){return{uid:1,title:void 0,message:"",type:"",iconClass:"",customClass:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,action:"",confirmButtonText:"",cancelButtonText:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null,dangerouslyUseHTMLString:!1,focusAfterClosed:null,isOnComposition:!1,distinguishCancelAndClose:!1}}},k=x,S=n(0),_=Object(S["a"])(k,i,a,!1,null,null,null);_.options.__file="packages/message-box/src/main.vue";var C=_.exports,O=n(9),M=n.n(O),E=n(23),T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A={title:null,message:"",type:"",iconClass:"",showInput:!1,showClose:!0,modalFade:!0,lockScroll:!0,closeOnClickModal:!0,closeOnPressEscape:!0,closeOnHashChange:!0,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"",cancelButtonText:"",confirmButtonClass:"",cancelButtonClass:"",customClass:"",beforeClose:null,dangerouslyUseHTMLString:!1,center:!1,roundButton:!1,distinguishCancelAndClose:!1},N=o.a.extend(C),R=void 0,I=void 0,j=[],z=function(t){if(R){var e=R.callback;"function"===typeof e&&(I.showInput?e(I.inputValue,t):e(t)),R.resolve&&("confirm"===t?I.showInput?R.resolve({value:I.inputValue,action:t}):R.resolve(t):!R.reject||"cancel"!==t&&"close"!==t||R.reject(t))}},P=function(){I=new N({el:document.createElement("div")}),I.callback=z},D=function t(){if(I||P(),I.action="",(!I.visible||I.closeTimer)&&j.length>0){R=j.shift();var e=R.options;for(var n in e)e.hasOwnProperty(n)&&(I[n]=e[n]);void 0===e.callback&&(I.callback=z);var r=I.callback;I.callback=function(e,n){r(e,n),t()},Object(E["isVNode"])(I.message)?(I.$slots.default=[I.message],I.message=null):delete I.$slots.default,["modal","showClose","closeOnClickModal","closeOnPressEscape","closeOnHashChange"].forEach((function(t){void 0===I[t]&&(I[t]=!0)})),document.body.appendChild(I.$el),o.a.nextTick((function(){I.visible=!0}))}},$=function t(e,n){if(!o.a.prototype.$isServer){if("string"===typeof e||Object(E["isVNode"])(e)?(e={message:e},"string"===typeof arguments[1]&&(e.title=arguments[1])):e.callback&&!n&&(n=e.callback),"undefined"!==typeof Promise)return new Promise((function(r,o){j.push({options:M()({},A,t.defaults,e),callback:n,resolve:r,reject:o}),D()}));j.push({options:M()({},A,t.defaults,e),callback:n}),D()}};$.setDefaults=function(t){$.defaults=t},$.alert=function(t,e,n){return"object"===("undefined"===typeof e?"undefined":T(e))?(n=e,e=""):void 0===e&&(e=""),$(M()({title:e,message:t,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},n))},$.confirm=function(t,e,n){return"object"===("undefined"===typeof e?"undefined":T(e))?(n=e,e=""):void 0===e&&(e=""),$(M()({title:e,message:t,$type:"confirm",showCancelButton:!0},n))},$.prompt=function(t,e,n){return"object"===("undefined"===typeof e?"undefined":T(e))?(n=e,e=""):void 0===e&&(e=""),$(M()({title:e,message:t,showCancelButton:!0,showInput:!0,$type:"prompt"},n))},$.close=function(){I.doClose(),I.visible=!1,j=[],R=null};var F=$;e["default"]=F},9:function(t,e){t.exports=n("7f4d")}})},"7eef":function(t,e,n){},"7f06":function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return b}));for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=i&&(l||+i[1]<57)||s&&l,d=0;d<10;d++)r[48+d]=r[96+d]=String(d);for(d=1;d<=24;d++)r[d+111]="F"+d;for(d=65;d<=90;d++)r[d]=String.fromCharCode(d+32),o[d]=String.fromCharCode(d);for(var p in r)o.hasOwnProperty(p)||(o[p]=r[p]);function f(t){var e=u&&(t.ctrlKey||t.altKey||t.metaKey)||(a||c)&&t.shiftKey&&t.key&&1==t.key.length,n=!e&&t.key||(t.shiftKey?o:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}var h=n("5313"),m="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function v(t){var e,n,r,o,i=t.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(var s=0;s<i.length-1;s++){var l=i[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))e=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);m?o=!0:n=!0}}return e&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function g(t){var e=Object.create(null);for(var n in t)e[v(n)]=t[n];return e}function y(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function b(t){return new h["Plugin"]({props:{handleKeyDown:w(t)}})}function w(t){var e=g(t);return function(t,n){var o,i=f(n),a=1==i.length&&" "!=i,s=e[y(i,n,!a)];if(s&&s(t.state,t.dispatch,t))return!0;if(a&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(o=r[n.keyCode])&&o!=i){var l=e[y(o,n,!0)];if(l&&l(t.state,t.dispatch,t))return!0}else if(a&&n.shiftKey){var c=e[y(i,n,!0)];if(c&&c(t.state,t.dispatch,t))return!0}return!1}}},"89a9":function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=58)}({0:function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},11:function(t,e){t.exports=n("2bb5")},26:function(t,e){t.exports=n("92fa")},42:function(t,e){t.exports=n("c284")},58:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{class:["el-upload-list","el-upload-list--"+t.listType,{"is-disabled":t.disabled}],attrs:{tag:"ul",name:"el-list"}},t._l(t.files,(function(e){return n("li",{key:e.uid,class:["el-upload-list__item","is-"+e.status,t.focusing?"focusing":""],attrs:{tabindex:"0"},on:{keydown:function(n){if(!("button"in n)&&t._k(n.keyCode,"delete",[8,46],n.key,["Backspace","Delete","Del"]))return null;!t.disabled&&t.$emit("remove",e)},focus:function(e){t.focusing=!0},blur:function(e){t.focusing=!1},click:function(e){t.focusing=!1}}},[t._t("default",["uploading"!==e.status&&["picture-card","picture"].indexOf(t.listType)>-1?n("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:e.url,alt:""}}):t._e(),n("a",{staticClass:"el-upload-list__item-name",on:{click:function(n){t.handleClick(e)}}},[n("i",{staticClass:"el-icon-document"}),t._v(t._s(e.name)+"\n      ")]),n("label",{staticClass:"el-upload-list__item-status-label"},[n("i",{class:{"el-icon-upload-success":!0,"el-icon-circle-check":"text"===t.listType,"el-icon-check":["picture-card","picture"].indexOf(t.listType)>-1}})]),t.disabled?t._e():n("i",{staticClass:"el-icon-close",on:{click:function(n){t.$emit("remove",e)}}}),t.disabled?t._e():n("i",{staticClass:"el-icon-close-tip"},[t._v(t._s(t.t("el.upload.deleteTip")))]),"uploading"===e.status?n("el-progress",{attrs:{type:"picture-card"===t.listType?"circle":"line","stroke-width":"picture-card"===t.listType?6:2,percentage:t.parsePercentage(e.percentage)}}):t._e(),"picture-card"===t.listType?n("span",{staticClass:"el-upload-list__item-actions"},[t.handlePreview&&"picture-card"===t.listType?n("span",{staticClass:"el-upload-list__item-preview",on:{click:function(n){t.handlePreview(e)}}},[n("i",{staticClass:"el-icon-zoom-in"})]):t._e(),t.disabled?t._e():n("span",{staticClass:"el-upload-list__item-delete",on:{click:function(n){t.$emit("remove",e)}}},[n("i",{staticClass:"el-icon-delete"})])]):t._e()],{file:e})],2)})),0)},o=[];r._withStripped=!0;var i=n(6),a=n.n(i),s=n(42),l=n.n(s),c={name:"ElUploadList",mixins:[a.a],data:function(){return{focusing:!1}},components:{ElProgress:l.a},props:{files:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},handlePreview:Function,listType:String},methods:{parsePercentage:function(t){return parseInt(t,10)},handleClick:function(t){this.handlePreview&&this.handlePreview(t)}}},u=c,d=n(0),p=Object(d["a"])(u,r,o,!1,null,null,null);p.options.__file="packages/upload/src/upload-list.vue";var f=p.exports,h=n(26),m=n.n(h);function v(t,e,n){var r=void 0;r=n.response?""+(n.response.error||n.response):n.responseText?""+n.responseText:"fail to post "+t+" "+n.status;var o=new Error(r);return o.status=n.status,o.method="post",o.url=t,o}function g(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(n){return e}}function y(t){if("undefined"!==typeof XMLHttpRequest){var e=new XMLHttpRequest,n=t.action;e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var r=new FormData;t.data&&Object.keys(t.data).forEach((function(e){r.append(e,t.data[e])})),r.append(t.filename,t.file,t.file.name),e.onerror=function(e){t.onError(e)},e.onload=function(){if(e.status<200||e.status>=300)return t.onError(v(n,t,e));t.onSuccess(g(e))},e.open("post",n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var o=t.headers||{};for(var i in o)o.hasOwnProperty(i)&&null!==o[i]&&e.setRequestHeader(i,o[i]);return e.send(r),e}}var b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-upload-dragger",class:{"is-dragover":t.dragover},on:{drop:function(e){return e.preventDefault(),t.onDrop(e)},dragover:function(e){return e.preventDefault(),t.onDragover(e)},dragleave:function(e){e.preventDefault(),t.dragover=!1}}},[t._t("default")],2)},w=[];b._withStripped=!0;var x={name:"ElUploadDrag",props:{disabled:Boolean},inject:{uploader:{default:""}},data:function(){return{dragover:!1}},methods:{onDragover:function(){this.disabled||(this.dragover=!0)},onDrop:function(t){if(!this.disabled&&this.uploader){var e=this.uploader.accept;this.dragover=!1,e?this.$emit("file",[].slice.call(t.dataTransfer.files).filter((function(t){var n=t.type,r=t.name,o=r.indexOf(".")>-1?"."+r.split(".").pop():"",i=n.replace(/\/.*$/,"");return e.split(",").map((function(t){return t.trim()})).filter((function(t){return t})).some((function(t){return/\..+$/.test(t)?o===t:/\/\*$/.test(t)?i===t.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(t)&&n===t}))}))):this.$emit("file",t.dataTransfer.files)}}}},k=x,S=Object(d["a"])(k,b,w,!1,null,null,null);S.options.__file="packages/upload/src/upload-dragger.vue";var _,C,O=S.exports,M={inject:["uploader"],components:{UploadDragger:O},props:{type:String,action:{type:String,required:!0},name:{type:String,default:"file"},data:Object,headers:Object,withCredentials:Boolean,multiple:Boolean,accept:String,onStart:Function,onProgress:Function,onSuccess:Function,onError:Function,beforeUpload:Function,drag:Boolean,onPreview:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},fileList:Array,autoUpload:Boolean,listType:String,httpRequest:{type:Function,default:y},disabled:Boolean,limit:Number,onExceed:Function},data:function(){return{mouseover:!1,reqs:{}}},methods:{isImage:function(t){return-1!==t.indexOf("image")},handleChange:function(t){var e=t.target.files;e&&this.uploadFiles(e)},uploadFiles:function(t){var e=this;if(this.limit&&this.fileList.length+t.length>this.limit)this.onExceed&&this.onExceed(t,this.fileList);else{var n=Array.prototype.slice.call(t);this.multiple||(n=n.slice(0,1)),0!==n.length&&n.forEach((function(t){e.onStart(t),e.autoUpload&&e.upload(t)}))}},upload:function(t){var e=this;if(this.$refs.input.value=null,!this.beforeUpload)return this.post(t);var n=this.beforeUpload(t);n&&n.then?n.then((function(n){var r=Object.prototype.toString.call(n);if("[object File]"===r||"[object Blob]"===r){for(var o in"[object Blob]"===r&&(n=new File([n],t.name,{type:t.type})),t)t.hasOwnProperty(o)&&(n[o]=t[o]);e.post(n)}else e.post(t)}),(function(){e.onRemove(null,t)})):!1!==n?this.post(t):this.onRemove(null,t)},abort:function(t){var e=this.reqs;if(t){var n=t;t.uid&&(n=t.uid),e[n]&&e[n].abort()}else Object.keys(e).forEach((function(t){e[t]&&e[t].abort(),delete e[t]}))},post:function(t){var e=this,n=t.uid,r={headers:this.headers,withCredentials:this.withCredentials,file:t,data:this.data,filename:this.name,action:this.action,onProgress:function(n){e.onProgress(n,t)},onSuccess:function(r){e.onSuccess(r,t),delete e.reqs[n]},onError:function(r){e.onError(r,t),delete e.reqs[n]}},o=this.httpRequest(r);this.reqs[n]=o,o&&o.then&&o.then(r.onSuccess,r.onError)},handleClick:function(){this.disabled||(this.$refs.input.value=null,this.$refs.input.click())},handleKeydown:function(t){t.target===t.currentTarget&&(13!==t.keyCode&&32!==t.keyCode||this.handleClick())}},render:function(t){var e=this.handleClick,n=this.drag,r=this.name,o=this.handleChange,i=this.multiple,a=this.accept,s=this.listType,l=this.uploadFiles,c=this.disabled,u=this.handleKeydown,d={class:{"el-upload":!0},on:{click:e,keydown:u}};return d.class["el-upload--"+s]=!0,t("div",m()([d,{attrs:{tabindex:"0"}}]),[n?t("upload-dragger",{attrs:{disabled:c},on:{file:l}},[this.$slots.default]):this.$slots.default,t("input",{class:"el-upload__input",attrs:{type:"file",name:r,multiple:i,accept:a},ref:"input",on:{change:o}})])}},E=M,T=Object(d["a"])(E,_,C,!1,null,null,null);T.options.__file="packages/upload/src/upload.vue";var A=T.exports,N=n(11),R=n.n(N);function I(){}var j,z,P={name:"ElUpload",mixins:[R.a],components:{ElProgress:l.a,UploadList:f,Upload:A},provide:function(){return{uploader:this}},inject:{elForm:{default:""}},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},data:Object,multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,dragger:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:String,type:{type:String,default:"select"},beforeUpload:Function,beforeRemove:Function,onRemove:{type:Function,default:I},onChange:{type:Function,default:I},onPreview:{type:Function},onSuccess:{type:Function,default:I},onProgress:{type:Function,default:I},onError:{type:Function,default:I},fileList:{type:Array,default:function(){return[]}},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:Function,disabled:Boolean,limit:Number,onExceed:{type:Function,default:I}},data:function(){return{uploadFiles:[],dragOver:!1,draging:!1,tempIndex:1}},computed:{uploadDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{listType:function(t){"picture-card"!==t&&"picture"!==t||(this.uploadFiles=this.uploadFiles.map((function(t){if(!t.url&&t.raw)try{t.url=URL.createObjectURL(t.raw)}catch(e){console.error("[Element Error][Upload]",e)}return t})))},fileList:{immediate:!0,handler:function(t){var e=this;this.uploadFiles=t.map((function(t){return t.uid=t.uid||Date.now()+e.tempIndex++,t.status=t.status||"success",t}))}}},methods:{handleStart:function(t){t.uid=Date.now()+this.tempIndex++;var e={status:"ready",name:t.name,size:t.size,percentage:0,uid:t.uid,raw:t};if("picture-card"===this.listType||"picture"===this.listType)try{e.url=URL.createObjectURL(t)}catch(n){return void console.error("[Element Error][Upload]",n)}this.uploadFiles.push(e),this.onChange(e,this.uploadFiles)},handleProgress:function(t,e){var n=this.getFile(e);this.onProgress(t,n,this.uploadFiles),n.status="uploading",n.percentage=t.percent||0},handleSuccess:function(t,e){var n=this.getFile(e);n&&(n.status="success",n.response=t,this.onSuccess(t,n,this.uploadFiles),this.onChange(n,this.uploadFiles))},handleError:function(t,e){var n=this.getFile(e),r=this.uploadFiles;n.status="fail",r.splice(r.indexOf(n),1),this.onError(t,n,this.uploadFiles),this.onChange(n,this.uploadFiles)},handleRemove:function(t,e){var n=this;e&&(t=this.getFile(e));var r=function(){n.abort(t);var e=n.uploadFiles;e.splice(e.indexOf(t),1),n.onRemove(t,e)};if(this.beforeRemove){if("function"===typeof this.beforeRemove){var o=this.beforeRemove(t,this.uploadFiles);o&&o.then?o.then((function(){r()}),I):!1!==o&&r()}}else r()},getFile:function(t){var e=this.uploadFiles,n=void 0;return e.every((function(e){return n=t.uid===e.uid?e:null,!n})),n},abort:function(t){this.$refs["upload-inner"].abort(t)},clearFiles:function(){this.uploadFiles=[]},submit:function(){var t=this;this.uploadFiles.filter((function(t){return"ready"===t.status})).forEach((function(e){t.$refs["upload-inner"].upload(e.raw)}))},getMigratingConfig:function(){return{props:{"default-file-list":"default-file-list is renamed to file-list.","show-upload-list":"show-upload-list is renamed to show-file-list.","thumbnail-mode":"thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan"}}}},beforeDestroy:function(){this.uploadFiles.forEach((function(t){t.url&&0===t.url.indexOf("blob:")&&URL.revokeObjectURL(t.url)}))},render:function(t){var e=this,n=void 0;this.showFileList&&(n=t(f,{attrs:{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,handlePreview:this.onPreview},on:{remove:this.handleRemove}},[function(t){if(e.$scopedSlots.file)return e.$scopedSlots.file({file:t.file})}]));var r={props:{type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest},ref:"upload-inner"},o=this.$slots.trigger||this.$slots.default,i=t("upload",r,[o]);return t("div",["picture-card"===this.listType?n:"",this.$slots.trigger?[i,this.$slots.default]:i,this.$slots.tip,"picture-card"!==this.listType?n:""])}},D=P,$=Object(d["a"])(D,j,z,!1,null,null,null);$.options.__file="packages/upload/src/index.vue";var F=$.exports;F.install=function(t){t.component(F.name,F)};e["default"]=F},6:function(t,e){t.exports=n("6b7c")}})},"95bd":function(t,e,n){},"986d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("5313"),o=n("304a"),i=n("55be"),a=function(t){return function(e){var n=L(t)(e.selection);return n?S(n.pos)(e):e}},s=function(t,e){return function(n){Array.isArray(t)||(t=[t]);for(var r=0,o=t.length;r<o;r++){var i=L(t[r])(n.selection);if(i){var a=x(i.pos,e)(n);if(a!==n)return a}}return n}},l=function(t){if(y(t.selection)){var e=t.selection.$from.pos,n=t.selection.$to.pos;return w(t.delete(e,n))}return t},c=function(t){return function(e){if(y(e.selection)){var n=e.selection,i=n.$from,a=n.$to;if(t instanceof o.Fragment&&i.parent.canReplace(i.index(),i.indexAfter(),t)||i.parent.canReplaceWith(i.index(),i.indexAfter(),t.type))return w(e.replaceWith(i.pos,a.pos,t).setSelection(new r.NodeSelection(e.doc.resolve(i.pos))))}return e}},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var o=r.Selection.findFrom(n.doc.resolve(t),e,!0);return o?n.setSelection(o):n}},d=function(t){return t.type&&t.type.spec.selectable},p=function(t){return d(t)&&t.type.isLeaf},f=function(t,e,n){return p(t)?n.setSelection(new r.NodeSelection(n.doc.resolve(e))):u(e)(n)},h=function(t,e,n){return function(r){var o="number"===typeof e,i=r.selection.$from,a=o?r.doc.resolve(e):y(r.selection)?r.doc.resolve(i.pos+1):i,l=a.parent;if(y(r.selection)&&n){var u=r;if(r=c(t)(r),u!==r)return r}if(O(l)){var p=r;if(r=s(l.type,t)(r),p!==r){var h=d(t)?a.before(a.depth):a.pos;return f(t,h,r)}}if(C(a,t)){r.insert(a.pos,t);var m=o?a.pos:d(t)?r.selection.$anchor.pos-1:r.selection.$anchor.pos;return w(f(t,m,r))}for(var v=a.depth;v>0;v--){var g=a.after(v),b=r.doc.resolve(g);if(C(b,t))return r.insert(g,t),w(f(t,g,r))}return r}},m=function(t,e,n,r){return function(o){var i=L(t)(o.selection);return i?w(o.setNodeMarkup(i.pos,e,Object.assign({},i.node.attrs,n),r)):o}},v=function(t){return function(e){if(!y(e.selection)){var n=L(t)(e.selection);if(n)return w(e.setSelection(r.NodeSelection.create(e.doc,n.pos)))}return e}},g=function(t){var e=U(t.selection);return"number"===typeof e?S(e)(t):t},y=function(t){return t instanceof r.NodeSelection},b=function(t,e){return Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t},w=function(t){return Object.assign(Object.create(t),t).setTime(Date.now())},x=function(t,e){return function(n){var r=n.doc.nodeAt(t),o=n.doc.resolve(t);if(k(o,e)){n=n.replaceWith(t,t+r.nodeSize,e);var i=n.selection.$from.pos-1;return n=u(Math.max(i,0),-1)(n),n=u(n.selection.$from.start())(n),w(n)}return n}},k=function(t,e){var n=t.node(t.depth);return n&&n.type.validContent(e instanceof o.Fragment?e:o.Fragment.from(e))},S=function(t){return function(e){var n=e.doc.nodeAt(t);return w(e.delete(t,t+n.nodeSize))}},_=function(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;var e={};return Object.keys(t.nodes).forEach((function(n){var r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)})),t.cached.tableNodeTypes=e,e},C=function(t,e){var n=t.index();return e instanceof o.Fragment?t.parent.canReplace(n,n,e):e instanceof o.Node&&t.parent.canReplaceWith(n,n,e.type)},O=function(t){return!t||"paragraph"===t.type.name&&2===t.nodeSize},M=function(t){var e=function(t){return t.type.spec.tableRole&&/table/i.test(t.type.spec.tableRole)};return $(t,e)},E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?t.createChecked(null,e):t.createAndFill()},T=function(t){return function(e){for(var n=i.TableMap.get(e.$anchorCell.node(-1)),r=e.$anchorCell.start(-1),o=n.cellsInRect(t),a=n.cellsInRect(n.rectBetween(e.$anchorCell.pos-r,e.$headCell.pos-r)),s=0,l=o.length;s<l;s++)if(-1===a.indexOf(o[s]))return!1;return!0}},A=function(t){return t[0].map((function(e,n){return t.map((function(t){return t[n]}))}))},N=function(t){for(var e=i.TableMap.get(t),n=[],r=0;r<e.height;r++){for(var o=[],a={},s=0;s<e.width;s++){var l=e.map[r*e.width+s],c=t.nodeAt(l),u=e.findCell(l);a[l]||u.top!==r?o.push(null):(a[l]=!0,o.push(c))}n.push(o)}return n},R=function(t,e){for(var n=[],r=i.TableMap.get(t),o=0;o<r.height;o++){for(var a=t.child(o),s=[],l=0;l<r.width;l++)if(e[o][l]){var c=r.map[o*r.width+l],u=e[o][l],d=t.nodeAt(c),p=d.type.createChecked(Object.assign({},u.attrs),u.content,u.marks);s.push(p)}n.push(a.type.createChecked(a.attrs,s,a.marks))}var f=t.type.createChecked(t.attrs,n,t.marks);return f},I=function(t,e,n,r){var o=A(N(t.node));return o=z(o,e,n,r),o=A(o),R(t.node,o)},j=function(t,e,n,r){var o=N(t.node);return o=z(o,e,n,r),R(t.node,o)},z=function(t,e,n,r){var o=e[0]>n[0]?-1:1,i=t.splice(e[0],e.length),a=i.length%2===0?1:0,s=void 0;return s=-1===r&&1===o?n[0]-1:1===r&&-1===o?n[n.length-1]-a+1:-1===o?n[0]:n[n.length-1]-a,t.splice.apply(t,[s,0].concat(i)),t},P=function(t,e,n,r){var o=t>e?-1:1,i="Target position is invalid, you can't move the "+r+" "+t+" to "+e+", the target can't be split. You could use tryToFit option.";if(1===o){if(-1!==n.slice(0,n.length-1).indexOf(e))throw new Error(i)}else if(-1!==n.slice(1).indexOf(e))throw new Error(i);return!0},D=function(t){return function(e){var n=e.$from;return $(n,t)}},$=function(t,e){for(var n=t.depth;n>0;n--){var r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}},F=function(t,e){return function(n){var r=D(t)(n);if(r)return J(r.pos,e)}},B=function(t){return function(e){return!!D(t)(e)}},L=function(t){return function(e){return D((function(e){return b(t,e)}))(e)}},V=function(t,e){return $(t,(function(t){return b(e,t)}))},q=function(t){return function(e){return B((function(e){return b(t,e)}))(e)}},H=function(t,e){return function(n){return F((function(e){return b(t,e)}),e)(n)}},W=function(t){return function(e){if(y(e)){var n=e.node,r=e.$from;if(b(t,n))return{node:n,pos:r.pos,depth:r.depth}}}},U=function(t){var e=t.$from.nodeBefore,n=r.Selection.findFrom(t.$from,-1);if(n&&e){var o=L(e.type)(n);return o?o.pos:n.$from.pos}},J=function(t,e){var n=e(t),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},K=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)throw new Error('Invalid "node" parameter');var n=[];return t.descendants((function(t,r){if(n.push({node:t,pos:r}),!e)return!1})),n},G=function(t,e,n){if(!t)throw new Error('Invalid "node" parameter');if(!e)throw new Error('Invalid "predicate" parameter');return K(t,n).filter((function(t){return e(t.node)}))},X=function(t,e){return G(t,(function(t){return t.isText}),e)},Z=function(t,e){return G(t,(function(t){return t.isInline}),e)},Y=function(t,e){return G(t,(function(t){return t.isBlock}),e)},Q=function(t,e,n){return G(t,(function(t){return!!e(t.attrs)}),n)},tt=function(t,e,n){return G(t,(function(t){return t.type===e}),n)},et=function(t,e,n){return G(t,(function(t){return e.isInSet(t.marks)}),n)},nt=function(t,e){return!!tt(t,e).length};function rt(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var ot=function(t){return D((function(t){return t.type.spec.tableRole&&"table"===t.type.spec.tableRole}))(t)},it=function(t){return t instanceof i.CellSelection},at=function(t){if(it(t)){var e=t.$anchorCell.start(-1),n=i.TableMap.get(t.$anchorCell.node(-1));return n.rectBetween(t.$anchorCell.pos-e,t.$headCell.pos-e)}},st=function(t){return function(e){if(it(e)){var n=i.TableMap.get(e.$anchorCell.node(-1));return T({left:t,right:t+1,top:0,bottom:n.height})(e)}return!1}},lt=function(t){return function(e){if(it(e)){var n=i.TableMap.get(e.$anchorCell.node(-1));return T({left:0,right:n.width,top:t,bottom:t+1})(e)}return!1}},ct=function(t){if(it(t)){var e=i.TableMap.get(t.$anchorCell.node(-1));return T({left:0,right:e.width,top:0,bottom:e.height})(t)}return!1},ut=function(t){return function(e){var n=ot(e);if(n){var r=i.TableMap.get(n.node),o=Array.isArray(t)?t:Array.from([t]);return o.reduce((function(t,e){if(e>=0&&e<=r.width-1){var o=r.cellsInRect({left:e,right:e+1,top:0,bottom:r.height});return t.concat(o.map((function(t){var e=n.node.nodeAt(t),r=t+n.start;return{pos:r,start:r+1,node:e}})))}}),[])}}},dt=function(t){return function(e){var n=ot(e);if(n){var r=i.TableMap.get(n.node),o=Array.isArray(t)?t:Array.from([t]);return o.reduce((function(t,e){if(e>=0&&e<=r.height-1){var o=r.cellsInRect({left:0,right:r.width,top:e,bottom:e+1});return t.concat(o.map((function(t){var e=n.node.nodeAt(t),r=t+n.start;return{pos:r,start:r+1,node:e}})))}}),[])}}},pt=function(t){var e=ot(t);if(e){var n=i.TableMap.get(e.node),r=n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height});return r.map((function(t){var n=e.node.nodeAt(t),r=t+e.start;return{pos:r,start:r+1,node:n}}))}},ft=function(t){return function(e,n){return function(r){var o=ot(r.selection),a="row"===t;if(o){var s=i.TableMap.get(o.node);if(e>=0&&e<(a?s.height:s.width)){var l=a?0:e,c=a?e:0,u=a?s.width:e+1,d=a?e+1:s.height;if(n){var p=jt(r.selection.$from);if(!p)return r;var f=s.findCell(p.pos-o.start);a?(c=Math.min(c,f.top),d=Math.max(d,f.bottom)):(l=Math.min(l,f.left),u=Math.max(u,f.right))}var h=s.cellsInRect({left:l,top:c,right:a?u:l+1,bottom:a?c+1:d}),m=d-c===1?h:s.cellsInRect({left:a?l:u-1,top:a?d-1:c,right:u,bottom:d}),v=o.start+h[0],g=o.start+m[m.length-1],y=r.doc.resolve(v),b=r.doc.resolve(g);return w(r.setSelection(new i.CellSelection(b,y)))}}return r}}},ht=ft("column"),mt=ft("row"),vt=function(t){var e=ot(t.selection);if(e){var n=i.TableMap.get(e.node),r=n.map;if(r&&r.length){var o=e.start+r[0],a=e.start+r[r.length-1],s=t.doc.resolve(o),l=t.doc.resolve(a);return w(t.setSelection(new i.CellSelection(l,s)))}}return t},gt=function(t,e){return function(n){if(t){var r=_(e).cell.createAndFill(),o=r.content;if(!t.node.content.eq(o))return n.replaceWith(t.pos+1,t.pos+t.node.nodeSize,o),w(n)}return n}},yt=function(t){return function(e){var n=ot(e.selection);if(n){var r=i.TableMap.get(n.node);if(t>=0&&t<=r.width)return w(i.addColumn(e,{map:r,tableStart:n.start,table:n.node},t))}return e}},bt=function(t,e,n){return function(r){var o={tryToFit:!1,direction:0},i=Object.assign(o,n),a=ot(r.selection);if(!a)return r;var s=$t(t)(r),l=s.indexes,c=$t(e)(r),u=c.indexes;if(l.indexOf(e)>-1)return r;!i.tryToFit&&u.length>1&&P(t,e,u,"row");var d=j(a,l,u,i.direction);return w(r).replaceWith(a.pos,a.pos+a.node.nodeSize,d)}},wt=function(t,e,n){return function(r){var o={tryToFit:!1,direction:0},i=Object.assign(o,n),a=ot(r.selection);if(!a)return r;var s=Dt(t)(r),l=s.indexes,c=Dt(e)(r),u=c.indexes;if(l.indexOf(e)>-1)return r;!i.tryToFit&&u.length>1&&P(t,e,u,"column");var d=I(a,l,u,i.direction);return w(r).replaceWith(a.pos,a.pos+a.node.nodeSize,d)}},xt=function(t,e){return function(n){var r=ot(n.selection);if(r){var o=i.TableMap.get(r.node),a=t-1;if(e&&a>=0)return w(kt(a)(n));if(t>=0&&t<=o.height)return w(i.addRow(n,{map:o,tableStart:r.start,table:r.node},t))}return n}},kt=function(t){return function(e){var n=ot(e.selection);if(n){var r=i.TableMap.get(n.node);if(t>=0&&t<=r.height){for(var o=n.node,a=_(o.type.schema),s=n.start,l=0;l<t+1;l++)s+=o.child(l).nodeSize;var c=o.child(t),u=[],d=0;if(c.forEach((function(t){1===t.attrs.rowspan&&(d+=t.attrs.colspan,u.push(a[t.type.spec.tableRole].createAndFill(t.attrs,t.marks)))})),d<r.width){for(var p=[],f=function(n){var r=Pt(n,(function(e,r){var o=e.node.attrs.rowspan,i=n+o;return o>1&&i>t}))(e);p.push.apply(p,rt(r))},m=t;m>=0;m--)f(m);p.length&&p.forEach((function(t){e=Rt(t,{rowspan:t.node.attrs.rowspan+1})(e)}))}return h(a.row.create(c.attrs,u),s)(e)}}return e}},St=function(t){return function(e){var n=ot(e.selection);if(n){var r=i.TableMap.get(n.node);if(0===t&&1===r.width)return Ct(e);if(t>=0&&t<=r.width)return i.removeColumn(e,{map:r,tableStart:n.start,table:n.node},t),w(e)}return e}},_t=function(t){return function(e){var n=ot(e.selection);if(n){var r=i.TableMap.get(n.node);if(0===t&&1===r.height)return Ct(e);if(t>=0&&t<=r.height)return i.removeRow(e,{map:r,tableStart:n.start,table:n.node},t),w(e)}return e}},Ct=function(t){for(var e=t.selection.$from,n=e.depth;n>0;n--){var r=e.node(n);if("table"===r.type.spec.tableRole)return w(t.delete(e.before(n),e.after(n)))}return t},Ot=function(t){var e=t.selection;if(ct(e))return Ct(t);if(it(e)){var n=ot(e);if(n){var r=i.TableMap.get(n.node),o=r.rectBetween(e.$anchorCell.pos-n.start,e.$headCell.pos-n.start);if(0==o.left&&o.right==r.width)return!1;for(var a=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),s=a.right-1;;s--){if(i.removeColumn(t,a,s),s===a.left)break;a.table=a.tableStart?t.doc.nodeAt(a.tableStart-1):t.doc,a.map=i.TableMap.get(a.table)}return w(t)}}return t},Mt=function(t){var e=t.selection;if(ct(e))return Ct(t);if(it(e)){var n=ot(e);if(n){var r=i.TableMap.get(n.node),o=r.rectBetween(e.$anchorCell.pos-n.start,e.$headCell.pos-n.start);if(0==o.top&&o.bottom==r.height)return!1;for(var a=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),s=a.bottom-1;;s--){if(i.removeRow(t,a,s),s===a.top)break;a.table=a.tableStart?t.doc.nodeAt(a.tableStart-1):t.doc,a.map=i.TableMap.get(a.table)}return w(t)}}return t},Et=function(t){return function(e){var n=zt(t);return n?St(n.left)(u(t.pos)(e)):e}},Tt=function(t){return function(e){var n=zt(t);return n?_t(n.top)(u(t.pos)(e)):e}},At=function(t,e,n){return function(o){var i=ut(t)(o.selection);if(i){for(var a=i.length-1;a>=0;a--)o=e(i[a],o);if(n){var s=o.doc.resolve(o.mapping.map(i[i.length-1].pos));o.setSelection(r.Selection.near(s))}return w(o)}return o}},Nt=function(t,e,n){return function(o){var i=dt(t)(o.selection);if(i){for(var a=i.length-1;a>=0;a--)o=e(i[a],o);if(n){var s=o.doc.resolve(o.mapping.map(i[i.length-1].pos));o.setSelection(r.Selection.near(s))}}return o}},Rt=function(t,e){return function(n){return t?(n.setNodeMarkup(t.pos,null,Object.assign({},t.node.attrs,e)),w(n)):n}},It=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=_(t),a=i.cell,s=i.header_cell,l=i.row,c=i.table,u=[],d=[],p=0;p<n;p++)u.push(E(a,o)),r&&d.push(E(s,o));for(var f=[],h=0;h<e;h++)f.push(l.createChecked(null,r&&0===h?d:u));return c.createChecked(null,f)},jt=function(t){var e=function(t){return t.type.spec.tableRole&&/cell/i.test(t.type.spec.tableRole)};return $(t,e)},zt=function(t){var e=jt(t);if(e){var n=M(t),r=i.TableMap.get(n.node),o=e.pos-n.start;return r.rectBetween(o,o)}},Pt=function(t,e){return function(n){var r=[],o=dt(t)(n.selection);if(o)for(var i=o.length-1;i>=0;i--)e(o[i],n)&&r.push(o[i]);return r}},Dt=function(t){return function(e){for(var n=t,r=t,o=function(t){var o=ut(t)(e.selection);o&&o.forEach((function(e){var o=e.node.attrs.colspan+t-1;o>=n&&(n=t),o>r&&(r=o)}))},i=t;i>=0;i--)o(i);var a=function(t){var n=ut(t)(e.selection);n&&n.forEach((function(e){var n=e.node.attrs.colspan+t-1;e.node.attrs.colspan>1&&n>r&&(r=n)}))};for(i=t;i<=r;i++)a(i);var s=[];for(i=n;i<=r;i++){var l=ut(i)(e.selection);l&&l.length&&s.push(i)}n=s[0],r=s[s.length-1];for(var c=ut(n)(e.selection),u=dt(0)(e.selection),d=e.doc.resolve(c[c.length-1].pos),p=void 0,f=r;f>=n;f--){var h=ut(f)(e.selection);if(h&&h.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===h[0].pos){p=h[0];break}if(p)break}}var v=e.doc.resolve(p.pos);return{$anchor:d,$head:v,indexes:s}}},$t=function(t){return function(e){for(var n=t,r=t,o=function(t){var o=dt(t)(e.selection);o.forEach((function(e){var o=e.node.attrs.rowspan+t-1;o>=n&&(n=t),o>r&&(r=o)}))},i=t;i>=0;i--)o(i);var a=function(t){var n=dt(t)(e.selection);n.forEach((function(e){var n=e.node.attrs.rowspan+t-1;e.node.attrs.rowspan>1&&n>r&&(r=n)}))};for(i=t;i<=r;i++)a(i);var s=[];for(i=n;i<=r;i++){var l=dt(i)(e.selection);l&&l.length&&s.push(i)}n=s[0],r=s[s.length-1];for(var c=dt(n)(e.selection),u=ut(0)(e.selection),d=e.doc.resolve(c[c.length-1].pos),p=void 0,f=r;f>=n;f--){var h=dt(f)(e.selection);if(h&&h.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===h[0].pos){p=h[0];break}if(p)break}}var v=e.doc.resolve(p.pos);return{$anchor:d,$head:v,indexes:s}}};e.isNodeSelection=y,e.canInsert=C,e.convertTableNodeToArrayOfRows=N,e.convertArrayOfRowsToTableNode=R,e.findParentNode=D,e.findParentNodeClosestToPos=$,e.findParentDomRef=F,e.hasParentNode=B,e.findParentNodeOfType=L,e.findParentNodeOfTypeClosestToPos=V,e.hasParentNodeOfType=q,e.findParentDomRefOfType=H,e.findSelectedNodeOfType=W,e.findPositionOfNodeBefore=U,e.findDomRefAtPos=J,e.flatten=K,e.findChildren=G,e.findTextNodes=X,e.findInlineNodes=Z,e.findBlockNodes=Y,e.findChildrenByAttr=Q,e.findChildrenByType=tt,e.findChildrenByMark=et,e.contains=nt,e.findTable=ot,e.isCellSelection=it,e.getSelectionRect=at,e.isColumnSelected=st,e.isRowSelected=lt,e.isTableSelected=ct,e.getCellsInColumn=ut,e.getCellsInRow=dt,e.getCellsInTable=pt,e.selectColumn=ht,e.selectRow=mt,e.selectTable=vt,e.emptyCell=gt,e.addColumnAt=yt,e.moveRow=bt,e.moveColumn=wt,e.addRowAt=xt,e.cloneRowAt=kt,e.removeColumnAt=St,e.removeRowAt=_t,e.removeTable=Ct,e.removeSelectedColumns=Ot,e.removeSelectedRows=Mt,e.removeColumnClosestToPos=Et,e.removeRowClosestToPos=Tt,e.forEachCellInColumn=At,e.forEachCellInRow=Nt,e.setCellAttrs=Rt,e.createTable=It,e.findCellClosestToPos=jt,e.findCellRectClosestToPos=zt,e.getSelectionRangeInColumn=Dt,e.getSelectionRangeInRow=$t,e.removeParentNodeOfType=a,e.replaceParentNodeOfType=s,e.removeSelectedNode=l,e.replaceSelectedNode=c,e.setTextSelection=u,e.safeInsert=h,e.setParentNodeMarkup=m,e.selectParentNodeOfType=v,e.removeNodeBefore=g},a15f:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return v})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return w}));var r=n("5313");
/*!
    * tiptap-utils v1.13.0
    * (c) 2021 berdosis GbR (limited liability)
    * @license MIT
    */function o(t,e){return e?t.createChecked(null,e):t.createAndFill()}function i(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function a(t,e,n,r,a){const s=i(t),l=[],c=[];for(let i=0;i<n;i+=1){const t=o(s.cell,a);if(t&&c.push(t),r){const t=o(s.header_cell,a);t&&l.push(t)}}const u=[];for(let o=0;o<e;o+=1)u.push(s.row.createChecked(null,r&&0===o?l:c));return s.table.createChecked(null,u)}function s(t,e){return Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t}function l(t){const e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)throw new Error('Invalid "node" parameter');const n=[];return t.descendants((t,r)=>{if(n.push({node:t,pos:r}),!e)return!1}),n}function c(t,e,n){if(!t)throw new Error('Invalid "node" parameter');if(!e)throw new Error('Invalid "predicate" parameter');return l(t,n).filter(t=>e(t.node))}function u(t,e){return c(t,t=>t.isBlock,e)}function d(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function p(t){return e=>d(e.$from,t)}function f(t){return t instanceof r["NodeSelection"]}function h(t){return function(e){if(f(e)){const{node:n}=e,{$from:r}=e;if(s(t,n))return{node:n,pos:r.pos,depth:r.depth}}}}function m(t,e){const{from:n,to:r}=t.selection;let o=[];t.doc.nodesBetween(n,r,t=>{o=[...o,...t.marks]});const i=o.find(t=>t.type.name===e.name);return i?i.attrs:{}}function v(t=null,e=null){if(!t||!e)return!1;const n=t.parent.childAfter(t.parentOffset);if(!n.node)return!1;const r=n.node.marks.find(t=>t.type===e);if(!r)return!1;let o=t.index(),i=t.start()+n.offset,a=o+1,s=i+n.node.nodeSize;while(o>0&&r.isInSet(t.parent.child(o-1).marks))o-=1,i-=t.parent.child(o).nodeSize;while(a<t.parent.childCount&&r.isInSet(t.parent.child(a).marks))s+=t.parent.child(a).nodeSize,a+=1;return{from:i,to:s}}function g(t,e){const{from:n,to:r}=t.selection;let o=[];t.doc.nodesBetween(n,r,t=>{o=[...o,t]});const i=o.reverse().find(t=>t.type.name===e.name);return i?i.attrs:{}}function y(t,e){const{from:n,$from:r,to:o,empty:i}=t.selection;return i?!!e.isInSet(t.storedMarks||r.marks()):!!t.doc.rangeHasMark(n,o,e)}function b({types:t,node:e}){return Array.isArray(t)&&t.includes(e.type)||e.type===t}function w(t,e,n={}){const r=t=>t.type===e,o=h(e)(t.selection)||p(r)(t.selection);return Object.keys(n).length&&o?o.node.hasMarkup(e,{...o.node.attrs,...n}):!!o}},a9de:function(t,e,n){"use strict";n.d(e,"a",(function(){return r["b"]})),n.d(e,"b",(function(){return r["c"]})),n.d(e,"k",(function(){return r["e"]})),n.d(e,"r",(function(){return r["f"]})),n.d(e,"d",(function(){return c})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return l})),n.d(e,"o",(function(){return f["c"]})),n.d(e,"u",(function(){return f["e"]})),n.d(e,"c",(function(){return v})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return b})),n.d(e,"h",(function(){return w})),n.d(e,"i",(function(){return k})),n.d(e,"j",(function(){return S})),n.d(e,"n",(function(){return C})),n.d(e,"p",(function(){return O})),n.d(e,"q",(function(){return E})),n.d(e,"s",(function(){return T})),n.d(e,"t",(function(){return A}));var r=n("0010"),o=n("0ac0"),i=n("304a");function a(t,e){return function(n,r){var a=n.selection,l=a.$from,c=a.$to,u=l.blockRange(c),d=!1,p=u;if(!u)return!1;if(u.depth>=2&&l.node(u.depth-1).type.compatibleContent(t)&&0==u.startIndex){if(0==l.index(u.depth-1))return!1;var f=n.doc.resolve(u.start-2);p=new i["NodeRange"](f,f,u.depth),u.endIndex<u.parent.childCount&&(u=new i["NodeRange"](l,n.doc.resolve(c.end(u.depth)),u.depth)),d=!0}var h=Object(o["i"])(p,t,e,u);return!!h&&(r&&r(s(n.tr,u,h,d,t).scrollIntoView()),!0)}}function s(t,e,n,r,a){for(var s=i["Fragment"].empty,l=n.length-1;l>=0;l--)s=i["Fragment"].from(n[l].type.create(n[l].attrs,s));t.step(new o["b"](e.start-(r?2:0),e.end,e.start,e.end,new i["Slice"](s,0,0),n.length,!0));for(var c=0,u=0;u<n.length;u++)n[u].type==a&&(c=u+1);for(var d=n.length-c,p=e.start+n.length-(r?2:0),f=e.parent,h=e.startIndex,m=e.endIndex,v=!0;h<m;h++,v=!1)!v&&Object(o["g"])(t.doc,p,d)&&(t.split(p,d),p+=2*d),p+=f.child(h).nodeSize;return t}function l(t){return function(e,n){var r=e.selection,a=r.$from,s=r.$to,l=r.node;if(l&&l.isBlock||a.depth<2||!a.sameParent(s))return!1;var c=a.node(-1);if(c.type!=t)return!1;if(0==a.parent.content.size&&a.node(-1).childCount==a.indexAfter(-1)){if(2==a.depth||a.node(-3).type!=t||a.index(-2)!=a.node(-2).childCount-1)return!1;if(n){for(var u=i["Fragment"].empty,d=a.index(-1)?1:a.index(-2)?2:3,p=a.depth-d;p>=a.depth-3;p--)u=i["Fragment"].from(a.node(p).copy(u));var f=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3;u=u.append(i["Fragment"].from(t.createAndFill()));var h=a.before(a.depth-(d-1)),m=e.tr.replace(h,a.after(-f),new i["Slice"](u,4-d,0)),v=-1;m.doc.nodesBetween(h,m.doc.content.size,(function(t,e){if(v>-1)return!1;t.isTextblock&&0==t.content.size&&(v=e+1)})),v>-1&&m.setSelection(e.selection.constructor.near(m.doc.resolve(v))),n(m.scrollIntoView())}return!0}var g=s.pos==a.end()?c.contentMatchAt(0).defaultType:null,y=e.tr.delete(a.pos,s.pos),b=g&&[null,{type:g}];return!!Object(o["g"])(y.doc,a.pos,2,b)&&(n&&n(y.split(a.pos,2,b).scrollIntoView()),!0)}}function c(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,a=o.blockRange(i,(function(e){return e.childCount&&e.firstChild.type==t}));return!!a&&(!n||(o.node(a.depth-1).type==t?u(e,n,t,a):d(e,n,a)))}}function u(t,e,n,r){var a=t.tr,s=r.end,l=r.$to.end(r.depth);return s<l&&(a.step(new o["b"](s-1,l,s,l,new i["Slice"](i["Fragment"].from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new i["NodeRange"](a.doc.resolve(r.$from.pos),a.doc.resolve(l),r.depth)),e(a.lift(r,Object(o["k"])(r)).scrollIntoView()),!0}function d(t,e,n){for(var r=t.tr,a=n.parent,s=n.end,l=n.endIndex-1,c=n.startIndex;l>c;l--)s-=a.child(l).nodeSize,r.delete(s-1,s+1);var u=r.doc.resolve(n.start),d=u.nodeAfter,p=0==n.startIndex,f=n.endIndex==a.childCount,h=u.node(-1),m=u.index(-1);if(!h.canReplace(m+(p?0:1),m+1,d.content.append(f?i["Fragment"].empty:i["Fragment"].from(a))))return!1;var v=u.pos,g=v+d.nodeSize;return r.step(new o["b"](v-(p?1:0),g+(f?1:0),v+1,g-1,new i["Slice"]((p?i["Fragment"].empty:i["Fragment"].from(a.copy(i["Fragment"].empty))).append(f?i["Fragment"].empty:i["Fragment"].from(a.copy(i["Fragment"].empty))),p?0:1,f?0:1),p?0:1)),e(r.scrollIntoView()),!0}function p(t){return function(e,n){var r=e.selection,a=r.$from,s=r.$to,l=a.blockRange(s,(function(e){return e.childCount&&e.firstChild.type==t}));if(!l)return!1;var c=l.startIndex;if(0==c)return!1;var u=l.parent,d=u.child(c-1);if(d.type!=t)return!1;if(n){var p=d.lastChild&&d.lastChild.type==u.type,f=i["Fragment"].from(p?t.create():null),h=new i["Slice"](i["Fragment"].from(t.create(null,i["Fragment"].from(u.type.create(null,f)))),p?3:1,0),m=l.start,v=l.end;n(e.tr.step(new o["b"](m-(p?3:1),v,m,v,h,1,!0)).scrollIntoView())}return!0}}var f=n("f95e"),h=n("5313"),m=n("a15f");
/*!
    * tiptap-commands v1.17.0
    * (c) 2021 berdosis GbR (limited liability)
    * @license MIT
    */
function v(t=""){return(e,n)=>{const{$from:r}=e.selection,{pos:o}=r.pos;return n(e.tr.insertText(t,o)),!0}}function g(t,e,n){let r=[];return n.doc.nodesBetween(t,e,(t,e)=>{r=[...r,...t.marks.map(n=>({start:e,end:e+t.nodeSize,mark:n}))]}),r}function y(t,e,n){return new f["a"](t,(t,r,o,i)=>{const a=n instanceof Function?n(r):n,{tr:s}=t,l=r.length-1;let c=i,u=o;if(r[l]){const n=o+r[0].indexOf(r[l-1]),a=n+r[l-1].length-1,d=n+r[l-1].lastIndexOf(r[l]),p=d+r[l].length,f=g(o,i,t).filter(t=>{const{excluded:n}=t.mark.type;return n.find(t=>t.name===e.name)}).filter(t=>t.end>n);if(f.length)return!1;p<a&&s.delete(p,a),d>n&&s.delete(n,d),u=n,c=u+r[l].length}return s.addMark(u,c,e.create(a)),s.removeStoredMark(e),s})}function b(t,e,n){return new f["a"](t,(t,r,o,i)=>{const a=n instanceof Function?n(r):n,{tr:s}=t;return r[0]&&s.replaceWith(o-1,i,e.create(a)),s})}function w(t,e,n){const r=o=>{const a=[];return o.forEach(o=>{if(o.isText){const{text:r}=o;let i,s=0;do{if(i=t.exec(r),i){const t=i.index,r=t+i[0].length,l=n instanceof Function?n(i[0]):n;t>0&&a.push(o.cut(s,t)),a.push(o.cut(t,r).mark(e.create(l).addToSet(o.marks))),s=r}}while(i);s<r.length&&a.push(o.cut(s))}else a.push(o.copy(r(o.content)))}),i["Fragment"].fromArray(a)};return new h["Plugin"]({props:{transformPasted:t=>new i["Slice"](r(t.content),t.openStart,t.openEnd)}})}function x(t,e,n){const r=(o,a)=>{const s=[];return o.forEach(o=>{if(o.isText){const{text:r,marks:i}=o;let l,c=0;const u=!!i.filter(t=>"link"===t.type.name)[0];while(!u&&null!==(l=t.exec(r)))if(a&&a.type.allowsMarkType(e)&&l[1]){const t=l.index,r=t+l[0].length,i=t+l[0].indexOf(l[1]),a=i+l[1].length,u=n instanceof Function?n(l):n;t>0&&s.push(o.cut(c,t)),s.push(o.cut(i,a).mark(e.create(u).addToSet(o.marks))),c=r}c<r.length&&s.push(o.cut(c))}else s.push(o.copy(r(o.content,o)))}),i["Fragment"].fromArray(s)};return new h["Plugin"]({props:{transformPasted:t=>new i["Slice"](r(t.content),t.openStart,t.openEnd)}})}function k(t){return(e,n)=>{const{tr:r,selection:o}=e;let{from:i,to:a}=o;const{$from:s,empty:l}=o;if(l){const e=Object(m["e"])(s,t);i=e.from,a=e.to}return r.removeMark(i,a,t),n(r)}}function S(t=null,e,n={},r=i["Fragment"].empty){return(o,i)=>{const{$from:a,$to:s}=o.selection,l=a.index(),c=t?t.from:a.pos,u=t?t.to:s.pos;return!!a.parent.canReplaceWith(l,l,e)&&(i&&i(o.tr.replaceWith(c,u,e.create(n,r))),!0)}}function _(t,e,n=1,r){const o=t.resolve(e),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>i;c--,u--){const t=o.node(c),e=o.index(c);if(t.type.spec.isolating)return!1;let n=t.content.cutByIndex(e,t.childCount);const i=r&&r[u]||t;if(i!=t&&(n=n.replaceChild(0,i.type.create(i.attrs))),!t.canReplace(e+1,t.childCount))return!1}const s=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(s,s,l?l.type:o.node(i+1).type)}function C(t){return function(e,n){const{$from:r,$to:o,node:a}=e.selection;if(a&&a.isBlock||r.depth<2||!r.sameParent(o))return!1;const s=r.node(-1);if(s.type!=t)return!1;if(0==r.parent.content.size){if(2==r.depth||r.node(-3).type!=t||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let o=i["Fragment"].empty;const a=r.index(-1)>0;for(let t=r.depth-(a?1:2);t>=r.depth-3;t--)o=i["Fragment"].from(r.node(t).copy(o));o=o.append(i["Fragment"].from(t.createAndFill()));const s=e.tr.replace(r.before(a?null:-1),r.after(-3),new i["Slice"](o,a?3:2,2));s.setSelection(e.selection.constructor.near(s.doc.resolve(r.pos+(a?3:2)))),n(s.scrollIntoView())}return!0}const l=o.pos==r.end()?s.contentMatchAt(r.indexAfter(-1)).defaultType:null,c=e.tr.delete(r.pos,o.pos);let u=l&&[{type:t},{type:l}];return u||(u=[{type:t},null]),!!_(c.doc,r.pos,2,u)&&(n&&n(c.split(r.pos,2,u).scrollIntoView()),!0)}}function O(t,e,n={}){return(o,i,a)=>{const s=Object(m["i"])(o,t,n);return s?Object(r["e"])(e)(o,i,a):Object(r["e"])(t,n)(o,i,a)}}function M(t,e){return t.type===e.nodes.bullet_list||t.type===e.nodes.ordered_list||t.type===e.nodes.todo_list}function E(t,e){return(n,r,o)=>{const{schema:i,selection:s}=n,{$from:l,$to:u}=s,d=l.blockRange(u);if(!d)return!1;const p=Object(m["c"])(t=>M(t,i))(s);if(d.depth>=1&&p&&d.depth-p.depth<=1){if(p.node.type===t)return c(e)(n,r,o);if(M(p.node,i)&&t.validContent(p.node.content)){const{tr:e}=n;return e.setNodeMarkup(p.pos,t),r&&r(e),!1}}return a(t)(n,r,o)}}function T(t,e={}){return(n,o,i)=>{const a=Object(m["i"])(n,t,e);return a?Object(r["d"])(n,o):Object(r["g"])(t,e)(n,o,i)}}function A(t,e){return(n,r)=>{const{tr:o,selection:i,doc:a}=n,{ranges:s,empty:l}=i;if(l){const{from:n,to:r}=Object(m["e"])(i.$from,t);a.rangeHasMark(n,r,t)&&o.removeMark(n,r,t),o.addMark(n,r,t.create(e))}else s.forEach(n=>{const{$to:r,$from:i}=n;a.rangeHasMark(i.pos,r.pos,t)&&o.removeMark(i.pos,r.pos,t),o.addMark(i.pos,r.pos,t.create(e))});return r(o)}}},b370:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=129)}({0:function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},11:function(t,e){t.exports=n("2bb5")},12:function(t,e){t.exports=n("417f")},129:function(t,e,n){"use strict";n.r(e);var r,o,i=n(12),a=n.n(i),s=n(4),l=n.n(s),c=n(11),u=n.n(c),d=n(14),p=n.n(d),f=n(35),h=n.n(f),m=n(3),v={name:"ElDropdown",componentName:"ElDropdown",mixins:[l.a,u.a],directives:{Clickoutside:a.a},components:{ElButton:p.a,ElButtonGroup:h.a},provide:function(){return{dropdown:this}},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom-end"},visibleArrow:{default:!0},showTimeout:{type:Number,default:250},hideTimeout:{type:Number,default:150},tabindex:{type:Number,default:0}},data:function(){return{timeout:null,visible:!1,triggerElm:null,menuItems:null,menuItemsArray:null,dropdownElm:null,focusing:!1,listId:"dropdown-menu-"+Object(m["generateId"])()}},computed:{dropdownSize:function(){return this.size||(this.$ELEMENT||{}).size}},mounted:function(){this.$on("menu-item-click",this.handleMenuItemClick)},watch:{visible:function(t){this.broadcast("ElDropdownMenu","visible",t),this.$emit("visible-change",t)},focusing:function(t){var e=this.$el.querySelector(".el-dropdown-selfdefine");e&&(t?e.className+=" focusing":e.className=e.className.replace("focusing",""))}},methods:{getMigratingConfig:function(){return{props:{"menu-align":"menu-align is renamed to placement."}}},show:function(){var t=this;this.triggerElm.disabled||(clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.visible=!0}),"click"===this.trigger?0:this.showTimeout))},hide:function(){var t=this;this.triggerElm.disabled||(this.removeTabindex(),this.tabindex>=0&&this.resetTabindex(this.triggerElm),clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.visible=!1}),"click"===this.trigger?0:this.hideTimeout))},handleClick:function(){this.triggerElm.disabled||(this.visible?this.hide():this.show())},handleTriggerKeyDown:function(t){var e=t.keyCode;[38,40].indexOf(e)>-1?(this.removeTabindex(),this.resetTabindex(this.menuItems[0]),this.menuItems[0].focus(),t.preventDefault(),t.stopPropagation()):13===e?this.handleClick():[9,27].indexOf(e)>-1&&this.hide()},handleItemKeyDown:function(t){var e=t.keyCode,n=t.target,r=this.menuItemsArray.indexOf(n),o=this.menuItemsArray.length-1,i=void 0;[38,40].indexOf(e)>-1?(i=38===e?0!==r?r-1:0:r<o?r+1:o,this.removeTabindex(),this.resetTabindex(this.menuItems[i]),this.menuItems[i].focus(),t.preventDefault(),t.stopPropagation()):13===e?(this.triggerElmFocus(),n.click(),this.hideOnClick&&(this.visible=!1)):[9,27].indexOf(e)>-1&&(this.hide(),this.triggerElmFocus())},resetTabindex:function(t){this.removeTabindex(),t.setAttribute("tabindex","0")},removeTabindex:function(){this.triggerElm.setAttribute("tabindex","-1"),this.menuItemsArray.forEach((function(t){t.setAttribute("tabindex","-1")}))},initAria:function(){this.dropdownElm.setAttribute("id",this.listId),this.triggerElm.setAttribute("aria-haspopup","list"),this.triggerElm.setAttribute("aria-controls",this.listId),this.splitButton||(this.triggerElm.setAttribute("role","button"),this.triggerElm.setAttribute("tabindex",this.tabindex),this.triggerElm.setAttribute("class",(this.triggerElm.getAttribute("class")||"")+" el-dropdown-selfdefine"))},initEvent:function(){var t=this,e=this.trigger,n=this.show,r=this.hide,o=this.handleClick,i=this.splitButton,a=this.handleTriggerKeyDown,s=this.handleItemKeyDown;this.triggerElm=i?this.$refs.trigger.$el:this.$slots.default[0].elm;var l=this.dropdownElm;this.triggerElm.addEventListener("keydown",a),l.addEventListener("keydown",s,!0),i||(this.triggerElm.addEventListener("focus",(function(){t.focusing=!0})),this.triggerElm.addEventListener("blur",(function(){t.focusing=!1})),this.triggerElm.addEventListener("click",(function(){t.focusing=!1}))),"hover"===e?(this.triggerElm.addEventListener("mouseenter",n),this.triggerElm.addEventListener("mouseleave",r),l.addEventListener("mouseenter",n),l.addEventListener("mouseleave",r)):"click"===e&&this.triggerElm.addEventListener("click",o)},handleMenuItemClick:function(t,e){this.hideOnClick&&(this.visible=!1),this.$emit("command",t,e)},triggerElmFocus:function(){this.triggerElm.focus&&this.triggerElm.focus()},initDomOperation:function(){this.dropdownElm=this.popperElm,this.menuItems=this.dropdownElm.querySelectorAll("[tabindex='-1']"),this.menuItemsArray=[].slice.call(this.menuItems),this.initEvent(),this.initAria()}},render:function(t){var e=this,n=this.hide,r=this.splitButton,o=this.type,i=this.dropdownSize,a=function(t){e.$emit("click",t),n()},s=r?t("el-button-group",[t("el-button",{attrs:{type:o,size:i},nativeOn:{click:a}},[this.$slots.default]),t("el-button",{ref:"trigger",attrs:{type:o,size:i},class:"el-dropdown__caret-button"},[t("i",{class:"el-dropdown__icon el-icon-arrow-down"})])]):this.$slots.default;return t("div",{class:"el-dropdown",directives:[{name:"clickoutside",value:n}]},[s,this.$slots.dropdown])}},g=v,y=n(0),b=Object(y["a"])(g,r,o,!1,null,null,null);b.options.__file="packages/dropdown/src/dropdown.vue";var w=b.exports;w.install=function(t){t.component(w.name,w)};e["default"]=w},14:function(t,e){t.exports=n("eedf")},3:function(t,e){t.exports=n("8122")},35:function(t,e){t.exports=n("845f")},4:function(t,e){t.exports=n("d010")}})},ba0c:function(t,e,n){},cd42:function(t,e,n){"use strict";n.d(e,"j",(function(){return r["Plugin"]})),n.d(e,"k",(function(){return r["PluginKey"]})),n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return D})),n.d(e,"c",(function(){return $})),n.d(e,"d",(function(){return L})),n.d(e,"e",(function(){return J})),n.d(e,"f",(function(){return M})),n.d(e,"g",(function(){return A})),n.d(e,"h",(function(){return R})),n.d(e,"i",(function(){return j})),n.d(e,"l",(function(){return z}));var r=n("5313"),o=n("576a"),i=n("304a"),a=n("0ac0");function s(t){return void 0===t&&(t={}),new r["Plugin"]({view:function(e){return new l(e,t)}})}var l=function(t,e){var n=this;this.editorView=t,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(e){var r=function(t){return n[e](t)};return t.dom.addEventListener(e,r),{name:e,handler:r}}))};l.prototype.destroy=function(){var t=this;this.handlers.forEach((function(e){var n=e.name,r=e.handler;return t.editorView.dom.removeEventListener(n,r)}))},l.prototype.update=function(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())},l.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},l.prototype.updateOverlay=function(){var t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){var n=e.nodeBefore,r=e.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!t){var a=this.editorView.coordsAtPos(this.cursorPos);t={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}var s,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!c||c==document.body&&"static"==getComputedStyle(c).position)s=-pageXOffset,l=-pageYOffset;else{var u=c.getBoundingClientRect();s=u.left-c.scrollLeft,l=u.top-c.scrollTop}this.element.style.left=t.left-s+"px",this.element.style.top=t.top-l+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"},l.prototype.scheduleRemoval=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return e.setCursor(null)}),t)},l.prototype.dragover=function(t){if(this.editorView.editable){var e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY});if(e){var n=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(n=Object(a["h"])(this.editorView.state.doc,n,this.editorView.dragging.slice),null==n))return this.setCursor(null);this.setCursor(n),this.scheduleRemoval(5e3)}}},l.prototype.dragend=function(){this.scheduleRemoval(20)},l.prototype.drop=function(){this.scheduleRemoval(20)},l.prototype.dragleave=function(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)};var c=n("7f06"),u=function(t){function e(e){t.call(this,e,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return e.valid(o)?new e(o):t.near(o)},e.prototype.content=function(){return i["Slice"].empty},e.prototype.eq=function(t){return t instanceof e&&t.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(t.resolve(n.pos))},e.prototype.getBookmark=function(){return new d(this.anchor)},e.valid=function(t){var e=t.parent;if(e.isTextblock||!p(t)||!f(t))return!1;var n=e.type.spec.allowGapCursor;if(null!=n)return n;var r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock},e.findFrom=function(t,n,o){t:for(;;){if(!o&&e.valid(t))return t;for(var i=t.pos,a=null,s=t.depth;;s--){var l=t.node(s);if(n>0?t.indexAfter(s)<l.childCount:t.index(s)>0){a=l.child(n>0?t.indexAfter(s):t.index(s)-1);break}if(0==s)return null;i+=n;var c=t.doc.resolve(i);if(e.valid(c))return c}for(;;){var u=n>0?a.firstChild:a.lastChild;if(!u){if(a.isAtom&&!a.isText&&!r["NodeSelection"].isSelectable(a)){t=t.doc.resolve(i+a.nodeSize*n),o=!1;continue t}break}a=u,i+=n;var d=t.doc.resolve(i);if(e.valid(d))return d}return null}},e}(r["Selection"]);u.prototype.visible=!1,r["Selection"].jsonID("gapcursor",u);var d=function(t){this.pos=t};function p(t){for(var e=t.depth;e>=0;e--){var n=t.index(e);if(0!=n)for(var r=t.node(e).child(n-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function f(t){for(var e=t.depth;e>=0;e--){var n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}d.prototype.map=function(t){return new d(t.map(this.pos))},d.prototype.resolve=function(t){var e=t.resolve(this.pos);return u.valid(e)?new u(e):r["Selection"].near(e)};var h=function(){return new r["Plugin"]({props:{decorations:y,createSelectionBetween:function(t,e,n){if(e.pos==n.pos&&u.valid(n))return new u(n)},handleClick:g,handleKeyDown:m}})},m=Object(c["a"])({ArrowLeft:v("horiz",-1),ArrowRight:v("horiz",1),ArrowUp:v("vert",-1),ArrowDown:v("vert",1)});function v(t,e){var n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,o,i){var a=t.selection,s=e>0?a.$to:a.$from,l=a.empty;if(a instanceof r["TextSelection"]){if(!i.endOfTextblock(n)||0==s.depth)return!1;l=!1,s=t.doc.resolve(e>0?s.after():s.before())}var c=u.findFrom(s,e,l);return!!c&&(o&&o(t.tr.setSelection(new u(c))),!0)}}function g(t,e,n){if(!t.editable)return!1;var o=t.state.doc.resolve(e);if(!u.valid(o))return!1;var i=t.posAtCoords({left:n.clientX,top:n.clientY}),a=i.inside;return!(a>-1&&r["NodeSelection"].isSelectable(t.state.doc.nodeAt(a)))&&(t.dispatch(t.state.tr.setSelection(new u(o))),!0)}function y(t){if(!(t.selection instanceof u))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",o["b"].create(t.doc,[o["a"].widget(t.selection.head,e,{key:"gapcursor"})])}var b=n("0010"),w=n("f95e"),x=n("a15f"),k=n("2b0e"),S=n("a9de");
/*!
    * tiptap v1.32.1
    * (c) 2021 berdosis GbR (limited liability)
    * @license MIT
    */
function _(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(t,e)=>0===e?t.toLowerCase():t.toUpperCase()).replace(/\s+/g,"")}class C{constructor(t,{editor:e,extension:n,parent:r,node:o,view:i,decorations:a,getPos:s}){this.component=t,this.editor=e,this.extension=n,this.parent=r,this.node=o,this.view=i,this.decorations=a,this.isNode=!!this.node.marks,this.isMark=!this.isNode,this.getPos=this.isMark?this.getMarkPos:s,this.captureEvents=!0,this.dom=this.createDOM(),this.contentDOM=this.vm.$refs.content}createDOM(){const t=k["default"].extend(this.component),e={editor:this.editor,node:this.node,view:this.view,getPos:()=>this.getPos(),decorations:this.decorations,selected:!1,options:this.extension.options,updateAttrs:t=>this.updateAttrs(t)};return"function"===typeof this.extension.setSelection&&(this.setSelection=this.extension.setSelection),"function"===typeof this.extension.update&&(this.update=this.extension.update),this.vm=new t({parent:this.parent,propsData:e}).$mount(),this.vm.$el}update(t,e){return t.type===this.node.type&&(t===this.node&&this.decorations===e||(this.node=t,this.decorations=e,this.updateComponentProps({node:t,decorations:e})),!0)}updateComponentProps(t){if(!this.vm._props)return;const e=k["default"].config.silent;k["default"].config.silent=!0,Object.entries(t).forEach(([t,e])=>{this.vm._props[t]=e}),k["default"].config.silent=e}updateAttrs(t){if(!this.view.editable)return;const{state:e}=this.view,{type:n}=this.node,r=this.getPos(),o={...this.node.attrs,...t},i=this.isMark?e.tr.removeMark(r.from,r.to,n).addMark(r.from,r.to,n.create(o)):e.tr.setNodeMarkup(r,null,o);this.view.dispatch(i)}ignoreMutation(t){return"selection"!==t.type&&(!this.contentDOM||!this.contentDOM.contains(t.target))}stopEvent(t){if("function"===typeof this.extension.stopEvent)return this.extension.stopEvent(t);const e=!!this.extension.schema.draggable;if(e&&"mousedown"===t.type){const e=t.target.closest&&t.target.closest("[data-drag-handle]"),n=e&&(this.dom===e||this.dom.contains(e));n&&(this.captureEvents=!1,document.addEventListener("dragend",()=>{this.captureEvents=!0},{once:!0}))}const n="copy"===t.type,r="paste"===t.type,o="cut"===t.type,i=t.type.startsWith("drag")||"drop"===t.type;return!(e&&i||n||r||o)&&this.captureEvents}selectNode(){this.updateComponentProps({selected:!0})}deselectNode(){this.updateComponentProps({selected:!1})}getMarkPos(){const t=this.view.posAtDOM(this.dom),e=this.view.state.doc.resolve(t),n=Object(x["e"])(e,this.node.type);return n}destroy(){this.vm.$destroy()}}class O{on(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this}emit(t,...e){this._callbacks=this._callbacks||{};const n=this._callbacks[t];return n&&n.forEach(t=>t.apply(this,e)),this}off(t,e){if(arguments.length){const n=this._callbacks?this._callbacks[t]:null;n&&(e?this._callbacks[t]=n.filter(t=>t!==e):delete this._callbacks[t])}else this._callbacks={};return this}}class M{constructor(t={}){this.options={...this.defaultOptions,...t}}init(){return null}bindEditor(t=null){this.editor=t}get name(){return null}get type(){return"extension"}get defaultOptions(){return{}}get plugins(){return[]}inputRules(){return[]}pasteRules(){return[]}keys(){return{}}}class E{constructor(t=[],e){t.forEach(t=>{t.bindEditor(e),t.init()}),this.extensions=t}get nodes(){return this.extensions.filter(t=>"node"===t.type).reduce((t,{name:e,schema:n})=>({...t,[e]:n}),{})}get options(){const{view:t}=this;return this.extensions.reduce((e,n)=>({...e,[n.name]:new Proxy(n.options,{set(e,n,r){const o=e[n]!==r;return Object.assign(e,{[n]:r}),o&&t.updateState(t.state),!0}})}),{})}get marks(){return this.extensions.filter(t=>"mark"===t.type).reduce((t,{name:e,schema:n})=>({...t,[e]:n}),{})}get plugins(){return this.extensions.filter(t=>t.plugins).reduce((t,{plugins:e})=>[...t,...e],[])}keymaps({schema:t}){const e=this.extensions.filter(t=>["extension"].includes(t.type)).filter(t=>t.keys).map(e=>e.keys({schema:t})),n=this.extensions.filter(t=>["node","mark"].includes(t.type)).filter(t=>t.keys).map(e=>e.keys({type:t[e.type+"s"][e.name],schema:t}));return[...e,...n].map(t=>Object(c["b"])(t))}inputRules({schema:t,excludedExtensions:e}){if(!(e instanceof Array)&&e)return[];const n=e instanceof Array?this.extensions.filter(t=>!e.includes(t.name)):this.extensions,r=n.filter(t=>["extension"].includes(t.type)).filter(t=>t.inputRules).map(e=>e.inputRules({schema:t})),o=n.filter(t=>["node","mark"].includes(t.type)).filter(t=>t.inputRules).map(e=>e.inputRules({type:t[e.type+"s"][e.name],schema:t}));return[...r,...o].reduce((t,e)=>[...t,...e],[])}pasteRules({schema:t,excludedExtensions:e}){if(!(e instanceof Array)&&e)return[];const n=e instanceof Array?this.extensions.filter(t=>!e.includes(t.name)):this.extensions,r=n.filter(t=>["extension"].includes(t.type)).filter(t=>t.pasteRules).map(e=>e.pasteRules({schema:t})),o=n.filter(t=>["node","mark"].includes(t.type)).filter(t=>t.pasteRules).map(e=>e.pasteRules({type:t[e.type+"s"][e.name],schema:t}));return[...r,...o].reduce((t,e)=>[...t,...e],[])}commands({schema:t,view:e}){return this.extensions.filter(t=>t.commands).reduce((n,r)=>{const{name:o,type:i}=r,a={},s=r.commands({schema:t,...["node","mark"].includes(i)?{type:t[i+"s"][o]}:{}}),l=(t,n)=>!!e.editable&&(e.focus(),t(n)(e.state,e.dispatch,e)),c=(t,e)=>{Array.isArray(e)?a[t]=t=>e.forEach(e=>l(e,t)):"function"===typeof e&&(a[t]=t=>l(e,t))};return"object"===typeof s?Object.entries(s).forEach(([t,e])=>{c(t,e)}):c(o,s),{...n,...a}},{})}}function T(t){{const e=document.createElement("style");e.type="text/css",e.textContent=t;const{head:n}=document,{firstChild:r}=n;r?n.insertBefore(e,r):n.appendChild(e)}}class A extends M{constructor(t={}){super(t)}get type(){return"mark"}get view(){return null}get schema(){return null}command(){return()=>{}}}function N(t=0,e=0,n=0){return Math.min(Math.max(parseInt(t,10),e),n)}class R extends M{constructor(t={}){super(t)}get type(){return"node"}get view(){return null}get schema(){return null}command(){return()=>{}}}class I extends R{get name(){return"doc"}get schema(){return{content:"block+"}}}class j extends R{get name(){return"paragraph"}get schema(){return{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:()=>["p",0]}}commands({type:t}){return()=>Object(S["k"])(t)}}class z extends R{get name(){return"text"}get schema(){return{group:"inline"}}}var P='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n';class D extends O{constructor(t={}){super(),this.defaultOptions={editorProps:{},editable:!0,autoFocus:null,extensions:[],content:"",topNode:"doc",emptyDocument:{type:"doc",content:[{type:"paragraph"}]},useBuiltInExtensions:!0,disableInputRules:!1,disablePasteRules:!1,dropCursor:{},enableDropCursor:!0,enableGapCursor:!0,parseOptions:{},injectCSS:!0,onInit:()=>{},onTransaction:()=>{},onUpdate:()=>{},onFocus:()=>{},onBlur:()=>{},onPaste:()=>{},onDrop:()=>{}},this.events=["init","transaction","update","focus","blur","paste","drop"],this.init(t)}init(t={}){this.setOptions({...this.defaultOptions,...t}),this.focused=!1,this.selection={from:0,to:0},this.element=document.createElement("div"),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),this.options.injectCSS&&T(P),null!==this.options.autoFocus&&this.focus(this.options.autoFocus),this.events.forEach(t=>{this.on(t,this.options[_("on "+t)]||(()=>{}))}),this.emit("init",{view:this.view,state:this.state}),this.extensions.view=this.view}setOptions(t){this.options={...this.options,...t},this.view&&this.state&&this.view.updateState(this.state)}get builtInExtensions(){return this.options.useBuiltInExtensions?[new I,new z,new j]:[]}get state(){return this.view?this.view.state:null}createExtensions(){return new E([...this.builtInExtensions,...this.options.extensions],this)}createPlugins(){return this.extensions.plugins}createKeymaps(){return this.extensions.keymaps({schema:this.schema})}createInputRules(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}createPasteRules(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}createCommands(){return this.extensions.commands({schema:this.schema,view:this.view})}createNodes(){return this.extensions.nodes}createMarks(){return this.extensions.marks}createSchema(){return new i["Schema"]({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}createState(){return r["EditorState"].create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[...this.plugins,Object(w["b"])({rules:this.inputRules}),...this.pasteRules,...this.keymaps,Object(c["b"])({Backspace:w["d"]}),Object(c["b"])(b["a"]),...this.options.enableDropCursor?[s(this.options.dropCursor)]:[],...this.options.enableGapCursor?[h()]:[],new r["Plugin"]({key:new r["PluginKey"]("editable"),props:{editable:()=>this.options.editable}}),new r["Plugin"]({props:{attributes:{tabindex:0},handleDOMEvents:{focus:(t,e)=>{this.focused=!0,this.emit("focus",{event:e,state:t.state,view:t});const n=this.state.tr.setMeta("focused",!0);this.view.dispatch(n)},blur:(t,e)=>{this.focused=!1,this.emit("blur",{event:e,state:t.state,view:t});const n=this.state.tr.setMeta("focused",!1);this.view.dispatch(n)}}}}),new r["Plugin"]({props:this.options.editorProps})]})}createDocument(t,e=this.options.parseOptions){if(null===t)return this.schema.nodeFromJSON(this.options.emptyDocument);if("object"===typeof t)try{return this.schema.nodeFromJSON(t)}catch(n){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",n),this.schema.nodeFromJSON(this.options.emptyDocument)}if("string"===typeof t){const n=`<div>${t}</div>`,r=new window.DOMParser,o=r.parseFromString(n,"text/html").body.firstElementChild;return i["DOMParser"].fromSchema(this.schema).parse(o,e)}return!1}createView(){return new o["c"](this.element,{state:this.createState(),handlePaste:(...t)=>{this.emit("paste",...t)},handleDrop:(...t)=>{this.emit("drop",...t)},dispatchTransaction:this.dispatchTransaction.bind(this)})}setParentComponent(t=null){t&&this.view.setProps({nodeViews:this.initNodeViews({parent:t,extensions:[...this.builtInExtensions,...this.options.extensions]})})}initNodeViews({parent:t,extensions:e}){return e.filter(t=>["node","mark"].includes(t.type)).filter(t=>t.view).reduce((e,n)=>{const r=(e,r,o,i)=>{const a=n.view;return new C(a,{editor:this,extension:n,parent:t,node:e,view:r,getPos:o,decorations:i})};return{...e,[n.name]:r}},{})}dispatchTransaction(t){const e=this.state.apply(t);this.view.updateState(e),this.selection={from:this.state.selection.from,to:this.state.selection.to},this.setActiveNodesAndMarks(),this.emit("transaction",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emitUpdate(t)}emitUpdate(t){this.emit("update",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:t})}resolveSelection(t=null){if(this.selection&&null===t)return this.selection;if("start"===t||!0===t)return{from:0,to:0};if("end"===t){const{doc:t}=this.state;return{from:t.content.size,to:t.content.size}}return{from:t,to:t}}focus(t=null){if(this.view.focused&&null===t||!1===t)return;const{from:e,to:n}=this.resolveSelection(t);this.setSelection(e,n),setTimeout(()=>this.view.focus(),10)}setSelection(t=0,e=0){const{doc:n,tr:o}=this.state,i=N(t,0,n.content.size),a=N(e,0,n.content.size),s=r["TextSelection"].create(n,i,a),l=o.setSelection(s);this.view.dispatch(l)}blur(){this.view.dom.blur()}getSchemaJSON(){return JSON.parse(JSON.stringify({nodes:this.extensions.nodes,marks:this.extensions.marks}))}getHTML(){const t=document.createElement("div"),e=i["DOMSerializer"].fromSchema(this.schema).serializeFragment(this.state.doc.content);return t.appendChild(e),t.innerHTML}getJSON(){return this.state.doc.toJSON()}setContent(t={},e=!1,n){const{doc:o,tr:i}=this.state,a=this.createDocument(t,n),s=r["TextSelection"].create(o,0,o.content.size),l=i.setSelection(s).replaceSelectionWith(a,!1).setMeta("preventUpdate",!e);this.view.dispatch(l)}clearContent(t=!1){this.setContent(this.options.emptyDocument,t)}setActiveNodesAndMarks(){this.activeMarks=Object.entries(this.schema.marks).reduce((t,[e,n])=>({...t,[e]:(t={})=>Object(x["g"])(this.state,n,t)}),{}),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce((t,[e,n])=>({...t,[e]:Object(x["d"])(this.state,n)}),{}),this.activeNodes=Object.entries(this.schema.nodes).reduce((t,[e,n])=>({...t,[e]:(t={})=>Object(x["i"])(this.state,n,t)}),{})}getMarkAttrs(t=null){return this.activeMarkAttrs[t]}getNodeAttrs(t=null){return{...Object(x["f"])(this.state,this.schema.nodes[t])}}get isActive(){return Object.entries({...this.activeMarks,...this.activeNodes}).reduce((t,[e,n])=>({...t,[e]:(t={})=>n(t)}),{})}registerPlugin(t=null,e){const n="function"===typeof e?e(t,this.state.plugins):[t,...this.state.plugins],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(t=null){if(!t||!this.view.docView)return;const e=this.state.reconfigure({plugins:this.state.plugins.filter(e=>!e.key.startsWith(t+"$"))});this.view.updateState(e)}destroy(){this.view&&this.view.destroy()}}var $={props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(t){t&&t.element&&this.$nextTick(()=>{this.$el.appendChild(t.element.firstChild),t.setParentComponent(this)})}}},render(t){return t("div")},beforeDestroy(){this.editor.element=this.$el}};class F{constructor({options:t}){this.options=t,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.blurHandler=()=>{this.preventHide?this.preventHide=!1:this.options.editor.emit("menubar:focusUpdate",!1)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("blur",this.blurHandler)}}function B(t){return new r["Plugin"]({key:new r["PluginKey"]("menu_bar"),view(e){return new F({editorView:e,options:t})}})}var L={props:{editor:{default:null,type:Object}},data(){return{focused:!1}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.registerPlugin(B({editor:t,element:this.$el})),this.focused=t.focused,t.on("focus",()=>{this.focused=!0}),t.on("menubar:focusUpdate",t=>{this.focused=t})})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor)}):null}};function V(t,e,n){const r=document.createRange();return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,Math.max(e,0)),r}function q(t,e){const n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function H(t,e,n=!1){const{node:r,offset:o}=t.docView.domFromPos(e);let i,a;if(3===r.nodeType)n&&o<r.nodeValue.length?(a=q(V(r,o-1,o),-1),i="right"):o<r.nodeValue.length&&(a=q(V(r,o,o+1),-1),i="left");else if(r.firstChild){if(o<r.childNodes.length){const t=r.childNodes[o];a=q(3===t.nodeType?V(t):t,-1),i="left"}if((!a||a.top===a.bottom)&&o){const t=r.childNodes[o-1];a=q(3===t.nodeType?V(t):t,1),i="right"}}else a=r.getBoundingClientRect(),i="left";const s=a[i];return{top:a.top,bottom:a.bottom,left:s,right:s}}class W{constructor({options:t,editorView:e}){this.options={element:null,keepInBounds:!0,onUpdate:()=>!1,...t},this.editorView=e,this.isActive=!1,this.left=0,this.bottom=0,this.top=0,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.focusHandler=({view:t})=>{this.update(t)},this.options.editor.on("focus",this.focusHandler),this.blurHandler=({event:t})=>{this.preventHide?this.preventHide=!1:this.hide(t)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}update(t,e){const{state:n}=t;if(t.composing)return;if(e&&e.doc.eq(n.doc)&&e.selection.eq(n.selection))return;if(n.selection.empty)return void this.hide();const{from:r,to:o}=n.selection,i=H(t,r),a=H(t,o,!0),s=this.options.element.offsetParent;if(!s)return void this.hide();const l=s.getBoundingClientRect(),c=this.options.element.getBoundingClientRect(),u=(i.left+a.left)/2-l.left;this.left=Math.round(this.options.keepInBounds?Math.min(l.width-c.width/2,Math.max(u,c.width/2)):u),this.bottom=Math.round(l.bottom-i.top),this.top=Math.round(a.bottom-l.top),this.isActive=!0,this.sendUpdate()}sendUpdate(){this.options.onUpdate({isActive:this.isActive,left:this.left,bottom:this.bottom,top:this.top})}hide(t){t&&t.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(t.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler)}}function U(t){return new r["Plugin"]({key:new r["PluginKey"]("menu_bubble"),view(e){return new W({editorView:e,options:t})}})}var J={props:{editor:{default:null,type:Object},keepInBounds:{default:!0,type:Boolean}},data(){return{menu:{isActive:!1,left:0,bottom:0}}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.registerPlugin(U({editor:t,element:this.$el,keepInBounds:this.keepInBounds,onUpdate:t=>{t.isActive&&!1===this.menu.isActive?this.$emit("show",t):t.isActive||!0!==this.menu.isActive||this.$emit("hide",t),this.menu=t}}))})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor),menu:this.menu}):null},beforeDestroy(){this.editor.unregisterPlugin("menu_bubble")}}},defb:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=100)}({0:function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},100:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.doDestroy}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-dropdown-menu el-popper",class:[t.size&&"el-dropdown-menu--"+t.size]},[t._t("default")],2)])},o=[];r._withStripped=!0;var i=n(5),a=n.n(i),s={name:"ElDropdownMenu",componentName:"ElDropdownMenu",mixins:[a.a],props:{visibleArrow:{type:Boolean,default:!0},arrowOffset:{type:Number,default:0}},data:function(){return{size:this.dropdown.dropdownSize}},inject:["dropdown"],created:function(){var t=this;this.$on("updatePopper",(function(){t.showPopper&&t.updatePopper()})),this.$on("visible",(function(e){t.showPopper=e}))},mounted:function(){this.dropdown.popperElm=this.popperElm=this.$el,this.referenceElm=this.dropdown.$el,this.dropdown.initDomOperation()},watch:{"dropdown.placement":{immediate:!0,handler:function(t){this.currentPlacement=t}}}},l=s,c=n(0),u=Object(c["a"])(l,r,o,!1,null,null,null);u.options.__file="packages/dropdown/src/dropdown-menu.vue";var d=u.exports;d.install=function(t){t.component(d.name,d)};e["default"]=d},5:function(t,e){t.exports=n("e974")}})},df33:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=92)}({0:function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},11:function(t,e){t.exports=n("2bb5")},13:function(t,e){t.exports=n("5128")},4:function(t,e){t.exports=n("d010")},92:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":t.afterEnter,"after-leave":t.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[n("div",{key:t.key,ref:"dialog",class:["el-dialog",{"is-fullscreen":t.fullscreen,"el-dialog--center":t.center},t.customClass],style:t.style,attrs:{role:"dialog","aria-modal":"true","aria-label":t.title||"dialog"}},[n("div",{staticClass:"el-dialog__header"},[t._t("title",[n("span",{staticClass:"el-dialog__title"},[t._v(t._s(t.title))])]),t.showClose?n("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.handleClose}},[n("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):t._e()],2),t.rendered?n("div",{staticClass:"el-dialog__body"},[t._t("default")],2):t._e(),t.$slots.footer?n("div",{staticClass:"el-dialog__footer"},[t._t("footer")],2):t._e()])])])},o=[];r._withStripped=!0;var i=n(13),a=n.n(i),s=n(11),l=n.n(s),c=n(4),u=n.n(c),d={name:"ElDialog",mixins:[a.a,u.a,l.a],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1},destroyOnClose:Boolean},data:function(){return{closed:!1,key:0}},watch:{visible:function(t){var e=this;t?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick((function(){e.$refs.dialog.scrollTop=0})),this.appendToBody&&document.body.appendChild(this.$el)):(this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick((function(){e.key++})))}},computed:{style:function(){var t={};return this.fullscreen||(t.marginTop=this.top,this.width&&(t.width=this.width)),t}},methods:{getMigratingConfig:function(){return{props:{size:"size is removed."}}},handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"===typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(t){!1!==t&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},p=d,f=n(0),h=Object(f["a"])(p,r,o,!1,null,null,null);h.options.__file="packages/dialog/src/component.vue";var m=h.exports;m.install=function(t){t.component(m.name,m)};e["default"]=m}})},f23d:function(t,e,n){"use strict";n.d(e,"a",(function(){return D})),n.d(e,"b",(function(){return tt})),n.d(e,"c",(function(){return $})),n.d(e,"d",(function(){return F})),n.d(e,"e",(function(){return B})),n.d(e,"f",(function(){return L})),n.d(e,"g",(function(){return it})),n.d(e,"h",(function(){return V})),n.d(e,"i",(function(){return H})),n.d(e,"j",(function(){return et})),n.d(e,"k",(function(){return nt})),n.d(e,"l",(function(){return W})),n.d(e,"m",(function(){return U})),n.d(e,"n",(function(){return at})),n.d(e,"o",(function(){return rt})),n.d(e,"p",(function(){return K})),n.d(e,"q",(function(){return X})),n.d(e,"r",(function(){return G})),n.d(e,"s",(function(){return Z})),n.d(e,"t",(function(){return Y})),n.d(e,"u",(function(){return Q})),n.d(e,"v",(function(){return st})),n.d(e,"w",(function(){return ot}));var r=n("cd42"),o=n("a9de"),i=(n("3ce4"),n("576a")),a=n("a15f"),s=(n("304a"),n("5313")),l=n("55be"),c=n("0ac0");new s["PluginKey"]("collab");var u=200,d=function(){};d.prototype.append=function(t){return t.length?(t=d.from(t),!this.length&&t||t.length<u&&this.leafAppend(t)||this.length<u&&t.leafPrepend(this)||this.appendInner(t)):this},d.prototype.prepend=function(t){return t.length?d.from(t).append(this):this},d.prototype.appendInner=function(t){return new f(this,t)},d.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?d.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},d.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},d.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},d.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},d.from=function(t){return t instanceof d?t:t&&t.length?new p(t):d.empty};var p=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=e;o<n;o++)if(!1===t(this.values[o],r+o))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=e-1;o>=n;o--)if(!1===t(this.values[o],r+o))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=u)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=u)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(d);d.empty=new p([]);var f=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&!1===this.left.forEachInner(t,e,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&!1===this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(t,Math.min(e,o),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(d),h=d,m=h,v=500,g=function(t,e){this.items=t,this.eventCount=e};function y(t,e){var n;return t.forEach((function(t,r){if(t.selection&&0==e--)return n=r,!1})),t.slice(n)}g.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){var a=this.items.get(i-1);if(a.selection){--i;break}}e&&(r=this.remapping(i,this.items.length),o=r.maps.length);var s,l,c=t.tr,u=[],d=[];return this.items.forEach((function(t,e){if(!t.step)return r||(r=n.remapping(i,e+1),o=r.maps.length),o--,void d.push(t);if(r){d.push(new b(t.map));var a,p=t.step.map(r.slice(o));p&&c.maybeStep(p).doc&&(a=c.mapping.maps[c.mapping.maps.length-1],u.push(new b(a,null,null,u.length+d.length))),o--,a&&r.appendMap(a,o)}else c.maybeStep(t.step);return t.selection?(s=r?t.selection.map(r.slice(o)):t.selection,l=new g(n.items.slice(0,i).append(d.reverse().concat(u)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:l,transform:c,selection:s}},g.prototype.addTransform=function(t,e,n,r){for(var o=[],i=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null,l=0;l<t.steps.length;l++){var c=t.steps[l].invert(t.docs[l]),u=new b(t.mapping.maps[l],c,e),d=void 0;(d=s&&s.merge(u))&&(u=d,l?o.pop():a=a.slice(0,a.length-1)),o.push(u),e&&(i++,e=null),r||(s=u)}var p=i-n.depth;return p>x&&(a=y(a,p),i-=p),new g(a.append(o),i)},g.prototype.remapping=function(t,e){var n=new c["a"];return this.items.forEach((function(e,r){var o=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,o)}),t,e),n},g.prototype.addMaps=function(t){return 0==this.eventCount?this:new g(this.items.append(t.map((function(t){return new b(t)}))),this.eventCount)},g.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,a=this.eventCount;this.items.forEach((function(t){t.selection&&a--}),r);var s=e;this.items.forEach((function(e){var r=o.getMirror(--s);if(null!=r){i=Math.min(i,r);var l=o.maps[r];if(e.step){var c=t.steps[r].invert(t.docs[r]),u=e.selection&&e.selection.map(o.slice(s+1,r));u&&a++,n.push(new b(l,c,u))}else n.push(new b(l))}}),r);for(var l=[],c=e;c<i;c++)l.push(new b(o.maps[c]));var u=this.items.slice(0,r).append(l).append(n),d=new g(u,a);return d.emptyItemCount()>v&&(d=d.compress(this.items.length-n.length)),d},g.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},g.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((function(i,a){if(a>=t)r.push(i),i.selection&&o++;else if(i.step){var s=i.step.map(e.slice(n)),l=s&&s.getMap();if(n--,l&&e.appendMap(l,n),s){var c=i.selection&&i.selection.map(e.slice(n));c&&o++;var u,d=new b(l.invert(),s,c),p=r.length-1;(u=r.length&&r[p].merge(d))?r[p]=u:r.push(d)}}else i.map&&n--}),this.items.length,0),new g(m.from(r.reverse()),o)},g.empty=new g(m.empty,0);var b=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};b.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new b(e.getMap().invert(),e,this.selection)}};var w=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},x=20;function k(t,e,n,r){var o,i=n.getMeta(A);if(i)return i.historyState;n.getMeta(N)&&(t=new w(t.done,t.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(a&&a.getMeta(A))return a.getMeta(A).redo?new w(t.done.addTransform(n,null,r,T(e)),t.undone,_(n.mapping.maps[n.steps.length-1]),t.prevTime):new w(t.done,t.undone.addTransform(n,null,r,T(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new w(t.done.rebased(n,o),t.undone.rebased(n,o),C(t.prevRanges,n.mapping),t.prevTime):new w(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),C(t.prevRanges,n.mapping),t.prevTime);var s=0==t.prevTime||!a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!S(n,t.prevRanges)),l=a?C(t.prevRanges,n.mapping):_(n.mapping.maps[n.steps.length-1]);return new w(t.done.addTransform(n,s?e.selection.getBookmark():null,r,T(e)),g.empty,l,n.time)}function S(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,r){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)})),n}function _(t){var e=[];return t.forEach((function(t,n,r,o){return e.push(r,o)})),e}function C(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function O(t,e,n,r){var o=T(e),i=A.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,o);if(a){var s=a.selection.resolve(a.transform.doc),l=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),i,o),c=new w(r?l:a.remaining,r?a.remaining:l,null,0);n(a.transform.setSelection(s).setMeta(A,{redo:r,historyState:c}).scrollIntoView())}}var M=!1,E=null;function T(t){var e=t.plugins;if(E!=e){M=!1,E=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){M=!0;break}}return M}var A=new s["PluginKey"]("history"),N=new s["PluginKey"]("closeHistory");function R(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new s["Plugin"]({key:A,state:{init:function(){return new w(g.empty,g.empty,null,0)},apply:function(e,n,r){return k(n,r,e,t)}},config:t})}function I(t,e){var n=A.getState(t);return!(!n||0==n.done.eventCount)&&(e&&O(n,t,e,!1),!0)}function j(t,e){var n=A.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&O(n,t,e,!0),!0)}function z(t){var e=A.getState(t);return e?e.done.eventCount:0}function P(t){var e=A.getState(t);return e?e.undone.eventCount:0}
/*!
    * tiptap-extensions v1.35.1
    * (c) 2021 berdosis GbR (limited liability)
    * @license MIT
    */class D extends r["h"]{get name(){return"blockquote"}get schema(){return{content:"block*",group:"block",defining:!0,draggable:!1,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]}}commands({type:t}){return()=>Object(o["s"])(t)}keys({type:t}){return{"Ctrl->":Object(o["s"])(t)}}inputRules({type:t}){return[Object(o["u"])(/^\s*>\s$/,t)]}}class $ extends r["h"]{get name(){return"bullet_list"}get schema(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]}}commands({type:t,schema:e}){return()=>Object(o["q"])(t,e.nodes.list_item)}keys({type:t,schema:e}){return{"Shift-Ctrl-8":Object(o["q"])(t,e.nodes.list_item)}}inputRules({type:t}){return[Object(o["u"])(/^\s*([-+*])\s$/,t)]}}class F extends r["h"]{get name(){return"code_block"}get schema(){return{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]}}commands({type:t,schema:e}){return()=>Object(o["p"])(t,e.nodes.paragraph)}keys({type:t}){return{"Shift-Ctrl-\\":Object(o["k"])(t)}}inputRules({type:t}){return[Object(o["o"])(/^```$/,t)]}}r["h"];class B extends r["h"]{get name(){return"hard_break"}get schema(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}}commands({type:t}){return()=>Object(o["a"])(o["b"],(e,n)=>(n(e.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0))}keys({type:t}){const e=Object(o["a"])(o["b"],(e,n)=>(n(e.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0));return{"Mod-Enter":e,"Shift-Enter":e}}}class L extends r["h"]{get name(){return"heading"}get defaultOptions(){return{levels:[1,2,3,4,5,6]}}get schema(){return{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map(t=>({tag:"h"+t,attrs:{level:t}})),toDOM:t=>["h"+t.attrs.level,0]}}commands({type:t,schema:e}){return n=>Object(o["p"])(t,e.nodes.paragraph,n)}keys({type:t}){return this.options.levels.reduce((e,n)=>({...e,["Shift-Ctrl-"+n]:Object(o["k"])(t,{level:n})}),{})}inputRules({type:t}){return this.options.levels.map(e=>Object(o["o"])(new RegExp(`^(#{1,${e}})\\s$`),t,()=>({level:e})))}}class V extends r["h"]{get name(){return"horizontal_rule"}get schema(){return{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]}}commands({type:t}){return()=>(e,n)=>n(e.tr.replaceSelectionWith(t.create()))}inputRules({type:t}){return[Object(o["g"])(/^(?:---|___\s|\*\*\*\s)$/,t)]}}const q=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/;class H extends r["h"]{get name(){return"image"}get schema(){return{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:t=>({src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")})}],toDOM:t=>["img",t.attrs]}}commands({type:t}){return e=>(n,r)=>{const{selection:o}=n,i=o.$cursor?o.$cursor.pos:o.$to.pos,a=t.create(e),s=n.tr.insert(i,a);r(s)}}inputRules({type:t}){return[Object(o["g"])(q,t,t=>{const[,e,n,r]=t;return{src:n,alt:e,title:r}})]}get plugins(){return[new r["j"]({props:{handleDOMEvents:{drop(t,e){const n=e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length;if(!n)return;const r=Array.from(e.dataTransfer.files).filter(t=>/image/i.test(t.type));if(0===r.length)return;e.preventDefault();const{schema:o}=t.state,i=t.posAtCoords({left:e.clientX,top:e.clientY});r.forEach(e=>{const n=new FileReader;n.onload=e=>{const n=o.nodes.image.create({src:e.target.result}),r=t.state.tr.insert(i.pos,n);t.dispatch(r)},n.readAsDataURL(e)})}}}})]}}class W extends r["h"]{get name(){return"list_item"}get schema(){return{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]}}keys({type:t}){return{Enter:Object(o["m"])(t),Tab:Object(o["l"])(t),"Shift-Tab":Object(o["d"])(t)}}}r["h"];class U extends r["h"]{get name(){return"ordered_list"}get schema(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:t=>({order:t.hasAttribute("start")?+t.getAttribute("start"):1})}],toDOM:t=>1===t.attrs.order?["ol",0]:["ol",{start:t.attrs.order},0]}}commands({type:t,schema:e}){return()=>Object(o["q"])(t,e.nodes.list_item)}keys({type:t,schema:e}){return{"Shift-Ctrl-9":Object(o["q"])(t,e.nodes.list_item)}}inputRules({type:t}){return[Object(o["u"])(/^(\d+)\.\s$/,t,t=>({order:+t[1]}),(t,e)=>e.childCount+e.attrs.order===+t[1])]}}var J=Object(l["tableNodes"])({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM(t){return t.style.backgroundColor||null},setDOMAttr(t,e){if(t){const n={style:`${e.style||""}background-color: ${t};`};Object.assign(e,n)}}}}});class K extends r["h"]{get name(){return"table"}get defaultOptions(){return{resizable:!1}}get schema(){return J.table}commands({schema:t}){return{createTable:({rowsCount:e,colsCount:n,withHeaderRow:r})=>(o,i)=>{const l=o.tr.selection.anchor+1,c=Object(a["a"])(t,e,n,r),u=o.tr.replaceSelectionWith(c).scrollIntoView(),d=u.doc.resolve(l);u.setSelection(s["TextSelection"].near(d)),i(u)},addColumnBefore:()=>l["addColumnBefore"],addColumnAfter:()=>l["addColumnAfter"],deleteColumn:()=>l["deleteColumn"],addRowBefore:()=>l["addRowBefore"],addRowAfter:()=>l["addRowAfter"],deleteRow:()=>l["deleteRow"],deleteTable:()=>l["deleteTable"],toggleCellMerge:()=>(t,e)=>{Object(l["mergeCells"])(t,e)||Object(l["splitCell"])(t,e)},mergeCells:()=>l["mergeCells"],splitCell:()=>l["splitCell"],toggleHeaderColumn:()=>l["toggleHeaderColumn"],toggleHeaderRow:()=>l["toggleHeaderRow"],toggleHeaderCell:()=>l["toggleHeaderCell"],setCellAttr:({name:t,value:e})=>Object(l["setCellAttr"])(t,e),fixTables:()=>l["fixTables"]}}keys(){return{Tab:Object(l["goToNextCell"])(1),"Shift-Tab":Object(l["goToNextCell"])(-1)}}get plugins(){return[...this.options.resizable?[Object(l["columnResizing"])()]:[],Object(l["tableEditing"])()]}}class G extends r["h"]{get name(){return"table_header"}get schema(){return J.table_header}}class X extends r["h"]{get name(){return"table_cell"}get schema(){return J.table_cell}}class Z extends r["h"]{get name(){return"table_row"}get schema(){return J.table_row}}class Y extends r["h"]{get name(){return"todo_item"}get defaultOptions(){return{nested:!1}}get view(){return{props:["node","updateAttrs","view"],methods:{onChange(){this.updateAttrs({done:!this.node.attrs.done})}},template:'\n        <li :data-type="node.type.name" :data-done="node.attrs.done.toString()" data-drag-handle>\n          <span class="todo-checkbox" contenteditable="false" @click="onChange"></span>\n          <div class="todo-content" ref="content" :contenteditable="view.editable.toString()"></div>\n        </li>\n      '}}get schema(){return{attrs:{done:{default:!1}},draggable:!0,content:this.options.nested?"(paragraph|todo_list)+":"paragraph+",toDOM:t=>{const{done:e}=t.attrs;return["li",{"data-type":this.name,"data-done":e.toString()},["span",{class:"todo-checkbox",contenteditable:"false"}],["div",{class:"todo-content"},0]]},parseDOM:[{priority:51,tag:`[data-type="${this.name}"]`,getAttrs:t=>({done:"true"===t.getAttribute("data-done")})}]}}keys({type:t}){return{Enter:Object(o["n"])(t),Tab:this.options.nested?Object(o["l"])(t):()=>{},"Shift-Tab":Object(o["d"])(t)}}}class Q extends r["h"]{get name(){return"todo_list"}get schema(){return{group:"block",content:"todo_item+",toDOM:()=>["ul",{"data-type":this.name},0],parseDOM:[{priority:51,tag:`[data-type="${this.name}"]`}]}}commands({type:t,schema:e}){return()=>Object(o["q"])(t,e.nodes.todo_item)}inputRules({type:t}){return[Object(o["u"])(/^\s*(\[ \])\s$/,t)]}}class tt extends r["g"]{get name(){return"bold"}get schema(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM:()=>["strong",0]}}keys({type:t}){return{"Mod-b":Object(o["r"])(t)}}commands({type:t}){return()=>Object(o["r"])(t)}inputRules({type:t}){return[Object(o["e"])(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,t)]}pasteRules({type:t}){return[Object(o["f"])(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,t)]}}r["g"];class et extends r["g"]{get name(){return"italic"}get schema(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]}}keys({type:t}){return{"Mod-i":Object(o["r"])(t)}}commands({type:t}){return()=>Object(o["r"])(t)}inputRules({type:t}){return[Object(o["e"])(/(?:^|[^_])(_([^_]+)_)$/,t),Object(o["e"])(/(?:^|[^*])(\*([^*]+)\*)$/,t)]}pasteRules({type:t}){return[Object(o["f"])(/_([^_]+)_/g,t),Object(o["f"])(/\*([^*]+)\*/g,t)]}}class nt extends r["g"]{get name(){return"link"}get defaultOptions(){return{openOnClick:!0,target:null}}get schema(){return{attrs:{href:{default:null},target:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:t=>({href:t.getAttribute("href"),target:t.getAttribute("target")})}],toDOM:t=>["a",{...t.attrs,rel:"noopener noreferrer nofollow",target:t.attrs.target||this.options.target},0]}}commands({type:t}){return e=>e.href?Object(o["t"])(t,e):Object(o["i"])(t)}pasteRules({type:t}){return[Object(o["h"])(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=,()!]*)/gi,t,t=>({href:t}))]}get plugins(){return this.options.openOnClick?[new r["j"]({props:{handleClick:(t,e,n)=>{const{schema:r}=t.state,o=Object(a["d"])(t.state,r.marks.link);o.href&&n.target instanceof HTMLAnchorElement&&(n.stopPropagation(),window.open(o.href,o.target))}}})]:[]}}class rt extends r["g"]{get name(){return"strike"}get schema(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:t=>"line-through"===t}],toDOM:()=>["s",0]}}keys({type:t}){return{"Mod-d":Object(o["r"])(t)}}commands({type:t}){return()=>Object(o["r"])(t)}inputRules({type:t}){return[Object(o["e"])(/~([^~]+)~$/,t)]}pasteRules({type:t}){return[Object(o["f"])(/~([^~]+)~/g,t)]}}class ot extends r["g"]{get name(){return"underline"}get schema(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:t=>"underline"===t}],toDOM:()=>["u",0]}}keys({type:t}){return{"Mod-u":Object(o["r"])(t)}}commands({type:t}){return()=>Object(o["r"])(t)}}r["f"];r["f"];class it extends r["f"]{get name(){return"history"}get defaultOptions(){return{depth:"",newGroupDelay:""}}keys(){const t={"Mod-z":I,"Mod-y":j,"Shift-Mod-z":j,"Mod-":I,"Shift-Mod-":j};return t}get plugins(){return[R({depth:this.options.depth,newGroupDelay:this.options.newGroupDelay})]}commands(){return{undo:()=>I,redo:()=>j,undoDepth:()=>z,redoDepth:()=>P}}}class at extends r["f"]{get name(){return"placeholder"}get defaultOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",emptyNodeText:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0}}get plugins(){return[new r["j"]({props:{decorations:({doc:t,plugins:e,selection:n})=>{const r=e.find(t=>t.key.startsWith("editable$")),o=r.props.editable(),a=o||!this.options.showOnlyWhenEditable,{anchor:s}=n,l=[],c=0===t.textContent.length;return!!a&&(t.descendants((t,e)=>{const n=s>=e&&s<=e+t.nodeSize,r=0===t.content.size;if((n||!this.options.showOnlyCurrent)&&r){const n=[this.options.emptyNodeClass];c&&n.push(this.options.emptyEditorClass);const r=i["a"].node(e,e+t.nodeSize,{class:n.join(" "),"data-empty-text":"function"===typeof this.options.emptyNodeText?this.options.emptyNodeText(t):this.options.emptyNodeText});l.push(r)}return!1}),i["b"].create(t,l))}}})]}}r["f"];class st extends r["f"]{get name(){return"trailing_node"}get defaultOptions(){return{node:"paragraph",notAfter:["paragraph"]}}get plugins(){const t=new r["k"](this.name),e=Object.entries(this.editor.schema.nodes).map(([,t])=>t).filter(t=>this.options.notAfter.includes(t.name));return[new r["j"]({key:t,view:()=>({update:e=>{const{state:n}=e,r=t.getState(n);if(!r)return;const{doc:o,schema:i,tr:a}=n,s=i.nodes[this.options.node],l=a.insert(o.content.size,s.create());e.dispatch(l)}}),state:{init:(t,n)=>{const r=n.tr.doc.lastChild;return!Object(a["h"])({node:r,types:e})},apply:(t,n)=>{if(!t.docChanged)return n;const r=t.doc.lastChild;return!Object(a["h"])({node:r,types:e})}}})]}}},f427:function(t,e,n){"use strict";n("95bd")},f95e:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return d}));var r=n("5313"),o=n("0ac0"),i=function(t,e){this.match=t,this.handler="string"==typeof e?a(e):e};function a(t){return function(e,n,r,o){var i=t;if(n[1]){var a=n[0].lastIndexOf(n[1]);i+=n[0].slice(a+n[1].length),r+=a;var s=r-o;s>0&&(i=n[0].slice(a-s,a)+i,r=o)}return e.tr.insertText(i,r,o)}}var s=500;function l(t){var e=t.rules,n=new r["Plugin"]({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:function(t,r,o,i){return c(t,r,o,i,e,n)},handleDOMEvents:{compositionend:function(t){setTimeout((function(){var r=t.state.selection,o=r.$cursor;o&&c(t,o.pos,o.pos,"",e,n)}))}}},isInputRules:!0});return n}function c(t,e,n,r,o,i){if(t.composing)return!1;var a=t.state,l=a.doc.resolve(e);if(l.parent.type.spec.code)return!1;for(var c=l.parent.textBetween(Math.max(0,l.parentOffset-s),l.parentOffset,null,"")+r,u=0;u<o.length;u++){var d=o[u].match.exec(c),p=d&&o[u].handler(a,d,e-(d[0].length-r.length),n);if(p)return t.dispatch(p.setMeta(i,{transform:p,from:e,to:n,text:r})),!0}return!1}function u(t,e){for(var n=t.plugins,r=0;r<n.length;r++){var o=n[r],i=void 0;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){for(var a=t.tr,s=i.transform,l=s.steps.length-1;l>=0;l--)a.step(s.steps[l].invert(s.docs[l]));if(i.text){var c=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else a.delete(i.from,i.to);e(a)}return!0}}return!1}new i(/--$/,""),new i(/\.\.\.$/,""),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),new i(/"$/,""),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),new i(/'$/,"");function d(t,e,n,r){return new i(t,(function(t,i,a,s){var l=n instanceof Function?n(i):n,c=t.tr.delete(a,s),u=c.doc.resolve(a),d=u.blockRange(),p=d&&Object(o["i"])(d,e,l);if(!p)return null;c.wrap(d,p);var f=c.doc.resolve(a-1).nodeBefore;return f&&f.type==e&&Object(o["f"])(c.doc,a-1)&&(!r||r(i,f))&&c.join(a-1),c}))}function p(t,e,n){return new i(t,(function(t,r,o,i){var a=t.doc.resolve(o),s=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?t.tr.delete(o,i).setBlockType(o,o,e,s):null}))}}}]);
//# sourceMappingURL=chunk-0abef018.e5e829ff.js.map